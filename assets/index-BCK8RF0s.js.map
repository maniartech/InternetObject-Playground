{"version":3,"file":"index-BCK8RF0s.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/classnames/index.js","../../node_modules/prop-types/lib/ReactPropTypesSecret.js","../../node_modules/prop-types/factoryWithThrowingShims.js","../../node_modules/prop-types/index.js","../../node_modules/react-toggle/dist/component/check.js","../../node_modules/react-toggle/dist/component/x.js","../../node_modules/react-toggle/dist/component/util.js","../../node_modules/react-toggle/dist/component/index.js","../../node_modules/lz-string/libs/lz-string.js","../../src/logo.png","../../src/components/logo/Logo.tsx","../../src/components/header/Header.tsx","../../src/sample-data/complex/separate-schema.ts","../../src/sample-data/complex/complex-library.ts","../../src/sample-data/complex/variables.ts","../../src/sample-data/json/json.ts","../../src/sample-data/json/json-schema.ts","../../src/sample-data/simple/simple-object.ts","../../src/sample-data/simple/simple-collection.ts","../../src/sample-data/simple/simple-collection-with-errors.ts","../../src/sample-data/simple/typed-collection.ts","../../src/sample-data/sections/multiple-sections.ts","../../src/sample-data/types/any.ts","../../src/sample-data/types/strings.ts","../../src/sample-data/types/numbers.ts","../../src/sample-data/types/datetimes.ts","../../src/sample-data/types/arrays.ts","../../src/sample-data/types/objects.ts","../../src/sample-data/employee-register.ts","../../src/sample-data/recursive-schema.ts","../../src/sample-data/recursive-schema-comples.ts","../../src/sample-data/sample-options.ts","../../src/sample-data/applications/api-collection-response.ts","../../src/sample-data/applications/api-multiple-collections-response.ts","../../src/sample-data/applications/structured-logging.ts","../../src/sample-data/applications/ml-training-data.ts","../../src/sample-data/applications/app-seed-data.ts","../../src/sample-data/applications/as-config.ts","../../src/sample-data/index.ts","../../src/states/editor-pos.ts","../../src/pages/footer/Footer.tsx","../../src/components/bar/Bar.tsx","../../src/hooks/use-debounce.ts","../../src/components/editor/editor-options.ts","../../src/components/editor/monaco.ts","../../src/components/editor/Editor.tsx","../../src/components/overlay/Overlay.tsx","../../src/utils/errorSorting.ts","../../src/utils/jsonDecorations.ts","../../src/components/output/Output.tsx","../../../io-js2/dist/esm/core/document.js","../../../io-js2/dist/esm/errors/general-error-codes.js","../../../io-js2/dist/esm/errors/tokenization-error-codes.js","../../../io-js2/dist/esm/errors/parsing-error-codes.js","../../../io-js2/dist/esm/errors/validation-error-codes.js","../../../io-js2/dist/esm/errors/io-error-codes.js","../../../io-js2/dist/esm/errors/io-error.js","../../../io-js2/dist/esm/errors/io-validation-error.js","../../../io-js2/dist/esm/parser/tokenizer/token-types.js","../../../io-js2/dist/esm/parser/tokenizer/tokens.js","../../../io-js2/dist/esm/parser/nodes/tokens.js","../../../io-js2/dist/esm/schema/schema.js","../../../io-js2/dist/esm/core/definitions.js","../../../io-js2/dist/esm/core/header.js","../../../io-js2/dist/esm/errors/asserts/asserts.js","../../../io-js2/dist/esm/core/internet-object.js","../../../io-js2/dist/esm/core/collection.js","../../../io-js2/dist/esm/core/decimal-utils.js","../../../io-js2/dist/esm/core/decimal.js","../../../io-js2/dist/esm/core/section.js","../../../io-js2/dist/esm/core/section-collection.js","../../../io-js2/dist/esm/errors/io-syntax-error.js","../../../io-js2/dist/esm/parser/nodes/containers.js","../../../io-js2/dist/esm/parser/nodes/array.js","../../../io-js2/dist/esm/parser/nodes/members.js","../../../io-js2/dist/esm/parser/nodes/objects.js","../../../io-js2/dist/esm/schema/typedef-registry.js","../../../io-js2/dist/esm/schema/processing/member-processor.js","../../../io-js2/dist/esm/schema/object-processor.js","../../../io-js2/dist/esm/parser/nodes/error.js","../../../io-js2/dist/esm/schema/utils/schema-resolver.js","../../../io-js2/dist/esm/schema/processing/collection-processor.js","../../../io-js2/dist/esm/parser/nodes/collections.js","../../../io-js2/dist/esm/schema/utils/validation-utils.js","../../../io-js2/dist/esm/schema/processor.js","../../../io-js2/dist/esm/schema/types/common-type.js","../../../io-js2/dist/esm/schema/types/any.js","../../../io-js2/dist/esm/schema/types/array.js","../../../io-js2/dist/esm/schema/types/boolean.js","../../../io-js2/dist/esm/utils/datetime.js","../../../io-js2/dist/esm/schema/types/datetime.js","../../../io-js2/dist/esm/schema/types/common-number.js","../../../io-js2/dist/esm/schema/types/bigint.js","../../../io-js2/dist/esm/schema/types/decimal.js","../../../io-js2/dist/esm/schema/types/number.js","../../../io-js2/dist/esm/schema/types/object.js","../../../io-js2/dist/esm/utils/strings.js","../../../io-js2/dist/esm/schema/types/string.js","../../../io-js2/dist/esm/schema/types/index.js","../../../io-js2/dist/esm/schema/types/memberdef-factory.js","../../../io-js2/dist/esm/schema/utils/additional-props-canonicalizer.js","../../../io-js2/dist/esm/schema/utils/member-utils.js","../../../io-js2/dist/esm/schema/compile-object.js","../../../io-js2/dist/esm/errors/error-range-utils.js","../../../io-js2/dist/esm/parser/tokenizer/symbols.js","../../../io-js2/dist/esm/parser/tokenizer/is.js","../../../io-js2/dist/esm/parser/tokenizer/literals.js","../../../io-js2/dist/esm/parser/tokenizer/index.js","../../../io-js2/dist/esm/parser/nodes/document.js","../../../io-js2/dist/esm/parser/nodes/section.js","../../../io-js2/dist/esm/parser/ast-parser.js","../../../io-js2/dist/esm/parser/parser-options.js","../../../io-js2/dist/esm/parser/index.js","../../../io-js2/dist/esm/parser/parse-defs.js","../../../io-js2/dist/esm/schema/load-processor.js","../../../io-js2/dist/esm/schema/utils/defs-inferrer.js","../../../io-js2/dist/esm/facade/load-inferred.js","../../../io-js2/dist/esm/facade/serialization-constants.js","../../../io-js2/dist/esm/utils/string-formatter.js","../../../io-js2/dist/esm/facade/stringify.js","../../../io-js2/dist/esm/schema/types/memberdef-stringify.js","../../../io-js2/dist/esm/facade/stringify-document.js","../../src/types/errors.ts","../../src/pages/playgroud/compiler.ts","../../src/hooks/use-parser-worker.ts","../../src/hooks/use-parse-io-v2.ts","../../src/pages/playgroud/Playground.tsx","../../src/components/welcome-notification/WelcomeNotification.tsx","../../src/components/share-dialog/ShareDialog.tsx","../../src/components/warning-dialog/WarningDialog.tsx","../../src/components/import-json-dialog/ImportJSONDialog.tsx","../../src/pages/app/App.tsx","../../src/index.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  return _react2.default.createElement(\n    'svg',\n    { width: '14', height: '11', viewBox: '0 0 14 11' },\n    _react2.default.createElement('path', { d: 'M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0', fill: '#fff', fillRule: 'evenodd' })\n  );\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  return _react2.default.createElement(\n    'svg',\n    { width: '10', height: '10', viewBox: '0 0 10 10' },\n    _react2.default.createElement('path', { d: 'M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12', fill: '#fff', fillRule: 'evenodd' })\n  );\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pointerCoord = pointerCoord;\n// Copyright 2015-present Drifty Co.\n// http://drifty.com/\n// from: https://github.com/driftyco/ionic/blob/master/src/util/dom.ts\n\nfunction pointerCoord(event) {\n  // get coordinates for either a mouse click\n  // or a touch depending on the given event\n  if (event) {\n    var changedTouches = event.changedTouches;\n    if (changedTouches && changedTouches.length > 0) {\n      var touch = changedTouches[0];\n      return { x: touch.clientX, y: touch.clientY };\n    }\n    var pageX = event.pageX;\n    if (pageX !== undefined) {\n      return { x: pageX, y: event.pageY };\n    }\n  }\n  return { x: 0, y: 0 };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _check = require('./check');\n\nvar _check2 = _interopRequireDefault(_check);\n\nvar _x = require('./x');\n\nvar _x2 = _interopRequireDefault(_x);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Toggle = function (_PureComponent) {\n  _inherits(Toggle, _PureComponent);\n\n  function Toggle(props) {\n    _classCallCheck(this, Toggle);\n\n    var _this = _possibleConstructorReturn(this, (Toggle.__proto__ || Object.getPrototypeOf(Toggle)).call(this, props));\n\n    _this.handleClick = _this.handleClick.bind(_this);\n    _this.handleTouchStart = _this.handleTouchStart.bind(_this);\n    _this.handleTouchMove = _this.handleTouchMove.bind(_this);\n    _this.handleTouchEnd = _this.handleTouchEnd.bind(_this);\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.previouslyChecked = !!(props.checked || props.defaultChecked);\n    _this.state = {\n      checked: !!(props.checked || props.defaultChecked),\n      hasFocus: false\n    };\n    return _this;\n  }\n\n  _createClass(Toggle, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.checked !== this.props.checked) {\n        // Disable linting rule here since this usage of setState inside\n        // componentDidUpdate is OK; see\n        // https://reactjs.org/docs/react-component.html#componentdidupdate\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({ checked: !!this.props.checked });\n      }\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick(event) {\n      if (this.props.disabled) {\n        return;\n      }\n      var checkbox = this.input;\n      if (event.target !== checkbox && !this.moved) {\n        this.previouslyChecked = checkbox.checked;\n        event.preventDefault();\n        checkbox.focus();\n        checkbox.click();\n        return;\n      }\n\n      var checked = this.props.hasOwnProperty('checked') ? this.props.checked : checkbox.checked;\n\n      this.setState({ checked: checked });\n    }\n  }, {\n    key: 'handleTouchStart',\n    value: function handleTouchStart(event) {\n      if (this.props.disabled) {\n        return;\n      }\n      this.startX = (0, _util.pointerCoord)(event).x;\n      this.activated = true;\n    }\n  }, {\n    key: 'handleTouchMove',\n    value: function handleTouchMove(event) {\n      if (!this.activated) return;\n      this.moved = true;\n\n      if (this.startX) {\n        var currentX = (0, _util.pointerCoord)(event).x;\n        if (this.state.checked && currentX + 15 < this.startX) {\n          this.setState({ checked: false });\n          this.startX = currentX;\n          this.activated = true;\n        } else if (currentX - 15 > this.startX) {\n          this.setState({ checked: true });\n          this.startX = currentX;\n          this.activated = currentX < this.startX + 5;\n        }\n      }\n    }\n  }, {\n    key: 'handleTouchEnd',\n    value: function handleTouchEnd(event) {\n      if (!this.moved) return;\n      var checkbox = this.input;\n      event.preventDefault();\n\n      if (this.startX) {\n        var endX = (0, _util.pointerCoord)(event).x;\n        if (this.previouslyChecked === true && this.startX + 4 > endX) {\n          if (this.previouslyChecked !== this.state.checked) {\n            this.setState({ checked: false });\n            this.previouslyChecked = this.state.checked;\n            checkbox.click();\n          }\n        } else if (this.startX - 4 < endX) {\n          if (this.previouslyChecked !== this.state.checked) {\n            this.setState({ checked: true });\n            this.previouslyChecked = this.state.checked;\n            checkbox.click();\n          }\n        }\n\n        this.activated = false;\n        this.startX = null;\n        this.moved = false;\n      }\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var onFocus = this.props.onFocus;\n\n\n      if (onFocus) {\n        onFocus(event);\n      }\n\n      this.setState({ hasFocus: true });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var onBlur = this.props.onBlur;\n\n\n      if (onBlur) {\n        onBlur(event);\n      }\n\n      this.setState({ hasFocus: false });\n    }\n  }, {\n    key: 'getIcon',\n    value: function getIcon(type) {\n      var icons = this.props.icons;\n\n      if (!icons) {\n        return null;\n      }\n      return icons[type] === undefined ? Toggle.defaultProps.icons[type] : icons[type];\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          className = _props.className,\n          _icons = _props.icons,\n          inputProps = _objectWithoutProperties(_props, ['className', 'icons']);\n\n      var classes = (0, _classnames2.default)('react-toggle', {\n        'react-toggle--checked': this.state.checked,\n        'react-toggle--focus': this.state.hasFocus,\n        'react-toggle--disabled': this.props.disabled\n      }, className);\n\n      return _react2.default.createElement(\n        'div',\n        { className: classes,\n          onClick: this.handleClick,\n          onTouchStart: this.handleTouchStart,\n          onTouchMove: this.handleTouchMove,\n          onTouchEnd: this.handleTouchEnd },\n        _react2.default.createElement(\n          'div',\n          { className: 'react-toggle-track' },\n          _react2.default.createElement(\n            'div',\n            { className: 'react-toggle-track-check' },\n            this.getIcon('checked')\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'react-toggle-track-x' },\n            this.getIcon('unchecked')\n          )\n        ),\n        _react2.default.createElement('div', { className: 'react-toggle-thumb' }),\n        _react2.default.createElement('input', _extends({}, inputProps, {\n          ref: function ref(_ref) {\n            _this2.input = _ref;\n          },\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          className: 'react-toggle-screenreader-only',\n          type: 'checkbox' }))\n      );\n    }\n  }]);\n\n  return Toggle;\n}(_react.PureComponent);\n\nexports.default = Toggle;\n\n\nToggle.displayName = 'Toggle';\n\nToggle.defaultProps = {\n  icons: {\n    checked: _react2.default.createElement(_check2.default, null),\n    unchecked: _react2.default.createElement(_x2.default, null)\n  }\n};\n\nToggle.propTypes = {\n  checked: _propTypes2.default.bool,\n  disabled: _propTypes2.default.bool,\n  defaultChecked: _propTypes2.default.bool,\n  onChange: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onBlur: _propTypes2.default.func,\n  className: _propTypes2.default.string,\n  name: _propTypes2.default.string,\n  value: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  'aria-labelledby': _propTypes2.default.string,\n  'aria-label': _propTypes2.default.string,\n  icons: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.shape({\n    checked: _propTypes2.default.node,\n    unchecked: _propTypes2.default.node\n  })])\n};","// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>\n// This work is free. You can redistribute it and/or modify it\n// under the terms of the WTFPL, Version 2\n// For more information see LICENSE.txt or http://www.wtfpl.net/\n//\n// For more information, the home page:\n// http://pieroxy.net/blog/pages/lz-string/testing.html\n//\n// LZ-based compression algorithm, version 1.4.5\nvar LZString = (function() {\n\n// private property\nvar f = String.fromCharCode;\nvar keyStrBase64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar keyStrUriSafe = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\nvar baseReverseDic = {};\n\nfunction getBaseValue(alphabet, character) {\n  if (!baseReverseDic[alphabet]) {\n    baseReverseDic[alphabet] = {};\n    for (var i=0 ; i<alphabet.length ; i++) {\n      baseReverseDic[alphabet][alphabet.charAt(i)] = i;\n    }\n  }\n  return baseReverseDic[alphabet][character];\n}\n\nvar LZString = {\n  compressToBase64 : function (input) {\n    if (input == null) return \"\";\n    var res = LZString._compress(input, 6, function(a){return keyStrBase64.charAt(a);});\n    switch (res.length % 4) { // To produce valid Base64\n    default: // When could this happen ?\n    case 0 : return res;\n    case 1 : return res+\"===\";\n    case 2 : return res+\"==\";\n    case 3 : return res+\"=\";\n    }\n  },\n\n  decompressFromBase64 : function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrBase64, input.charAt(index)); });\n  },\n\n  compressToUTF16 : function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 15, function(a){return f(a+32);}) + \" \";\n  },\n\n  decompressFromUTF16: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 16384, function(index) { return compressed.charCodeAt(index) - 32; });\n  },\n\n  //compress into uint8array (UCS-2 big endian format)\n  compressToUint8Array: function (uncompressed) {\n    var compressed = LZString.compress(uncompressed);\n    var buf=new Uint8Array(compressed.length*2); // 2 bytes per character\n\n    for (var i=0, TotalLen=compressed.length; i<TotalLen; i++) {\n      var current_value = compressed.charCodeAt(i);\n      buf[i*2] = current_value >>> 8;\n      buf[i*2+1] = current_value % 256;\n    }\n    return buf;\n  },\n\n  //decompress from uint8array (UCS-2 big endian format)\n  decompressFromUint8Array:function (compressed) {\n    if (compressed===null || compressed===undefined){\n        return LZString.decompress(compressed);\n    } else {\n        var buf=new Array(compressed.length/2); // 2 bytes per character\n        for (var i=0, TotalLen=buf.length; i<TotalLen; i++) {\n          buf[i]=compressed[i*2]*256+compressed[i*2+1];\n        }\n\n        var result = [];\n        buf.forEach(function (c) {\n          result.push(f(c));\n        });\n        return LZString.decompress(result.join(''));\n\n    }\n\n  },\n\n\n  //compress into a string that is already URI encoded\n  compressToEncodedURIComponent: function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 6, function(a){return keyStrUriSafe.charAt(a);});\n  },\n\n  //decompress from an output of compressToEncodedURIComponent\n  decompressFromEncodedURIComponent:function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    input = input.replace(/ /g, \"+\");\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrUriSafe, input.charAt(index)); });\n  },\n\n  compress: function (uncompressed) {\n    return LZString._compress(uncompressed, 16, function(a){return f(a);});\n  },\n  _compress: function (uncompressed, bitsPerChar, getCharFromInt) {\n    if (uncompressed == null) return \"\";\n    var i, value,\n        context_dictionary= {},\n        context_dictionaryToCreate= {},\n        context_c=\"\",\n        context_wc=\"\",\n        context_w=\"\",\n        context_enlargeIn= 2, // Compensate for the first entry which should not count\n        context_dictSize= 3,\n        context_numBits= 2,\n        context_data=[],\n        context_data_val=0,\n        context_data_position=0,\n        ii;\n\n    for (ii = 0; ii < uncompressed.length; ii += 1) {\n      context_c = uncompressed.charAt(ii);\n      if (!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)) {\n        context_dictionary[context_c] = context_dictSize++;\n        context_dictionaryToCreate[context_c] = true;\n      }\n\n      context_wc = context_w + context_c;\n      if (Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)) {\n        context_w = context_wc;\n      } else {\n        if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n          if (context_w.charCodeAt(0)<256) {\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<8 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          } else {\n            value = 1;\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1) | value;\n              if (context_data_position ==bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = 0;\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<16 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          }\n          context_enlargeIn--;\n          if (context_enlargeIn == 0) {\n            context_enlargeIn = Math.pow(2, context_numBits);\n            context_numBits++;\n          }\n          delete context_dictionaryToCreate[context_w];\n        } else {\n          value = context_dictionary[context_w];\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n\n\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        // Add wc to the dictionary.\n        context_dictionary[context_wc] = context_dictSize++;\n        context_w = String(context_c);\n      }\n    }\n\n    // Output the code for w.\n    if (context_w !== \"\") {\n      if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n        if (context_w.charCodeAt(0)<256) {\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<8 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        } else {\n          value = 1;\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | value;\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = 0;\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<16 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        delete context_dictionaryToCreate[context_w];\n      } else {\n        value = context_dictionary[context_w];\n        for (i=0 ; i<context_numBits ; i++) {\n          context_data_val = (context_data_val << 1) | (value&1);\n          if (context_data_position == bitsPerChar-1) {\n            context_data_position = 0;\n            context_data.push(getCharFromInt(context_data_val));\n            context_data_val = 0;\n          } else {\n            context_data_position++;\n          }\n          value = value >> 1;\n        }\n\n\n      }\n      context_enlargeIn--;\n      if (context_enlargeIn == 0) {\n        context_enlargeIn = Math.pow(2, context_numBits);\n        context_numBits++;\n      }\n    }\n\n    // Mark the end of the stream\n    value = 2;\n    for (i=0 ; i<context_numBits ; i++) {\n      context_data_val = (context_data_val << 1) | (value&1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data_position = 0;\n        context_data.push(getCharFromInt(context_data_val));\n        context_data_val = 0;\n      } else {\n        context_data_position++;\n      }\n      value = value >> 1;\n    }\n\n    // Flush the last char\n    while (true) {\n      context_data_val = (context_data_val << 1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data.push(getCharFromInt(context_data_val));\n        break;\n      }\n      else context_data_position++;\n    }\n    return context_data.join('');\n  },\n\n  decompress: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 32768, function(index) { return compressed.charCodeAt(index); });\n  },\n\n  _decompress: function (length, resetValue, getNextValue) {\n    var dictionary = [],\n        next,\n        enlargeIn = 4,\n        dictSize = 4,\n        numBits = 3,\n        entry = \"\",\n        result = [],\n        i,\n        w,\n        bits, resb, maxpower, power,\n        c,\n        data = {val:getNextValue(0), position:resetValue, index:1};\n\n    for (i = 0; i < 3; i += 1) {\n      dictionary[i] = i;\n    }\n\n    bits = 0;\n    maxpower = Math.pow(2,2);\n    power=1;\n    while (power!=maxpower) {\n      resb = data.val & data.position;\n      data.position >>= 1;\n      if (data.position == 0) {\n        data.position = resetValue;\n        data.val = getNextValue(data.index++);\n      }\n      bits |= (resb>0 ? 1 : 0) * power;\n      power <<= 1;\n    }\n\n    switch (next = bits) {\n      case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 2:\n        return \"\";\n    }\n    dictionary[3] = c;\n    w = c;\n    result.push(c);\n    while (true) {\n      if (data.index > length) {\n        return \"\";\n      }\n\n      bits = 0;\n      maxpower = Math.pow(2,numBits);\n      power=1;\n      while (power!=maxpower) {\n        resb = data.val & data.position;\n        data.position >>= 1;\n        if (data.position == 0) {\n          data.position = resetValue;\n          data.val = getNextValue(data.index++);\n        }\n        bits |= (resb>0 ? 1 : 0) * power;\n        power <<= 1;\n      }\n\n      switch (c = bits) {\n        case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 2:\n          return result.join('');\n      }\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n      if (dictionary[c]) {\n        entry = dictionary[c];\n      } else {\n        if (c === dictSize) {\n          entry = w + w.charAt(0);\n        } else {\n          return null;\n        }\n      }\n      result.push(entry);\n\n      // Add w+entry[0] to the dictionary.\n      dictionary[dictSize++] = w + entry.charAt(0);\n      enlargeIn--;\n\n      w = entry;\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n    }\n  }\n};\n  return LZString;\n})();\n\nif (typeof define === 'function' && define.amd) {\n  define(function () { return LZString; });\n} else if( typeof module !== 'undefined' && module != null ) {\n  module.exports = LZString\n} else if( typeof angular !== 'undefined' && angular != null ) {\n  angular.module('LZString', [])\n  .factory('LZString', function () {\n    return LZString;\n  });\n}\n","export default \"data:image/png;base64,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\"","import                       './Logo.css'\r\nimport logo             from '../../logo.png'\r\n\r\nexport default function Logo() {\r\n\r\n  return (\r\n    <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n  )\r\n}","import { Link }            from 'react-router-dom'\r\n\r\nimport                          './Header.css'\r\nimport Logo                from '../logo/Logo'\r\n\r\nexport default function Header(props: any) {\r\n  return (\r\n    <header className=\"App-header\">\r\n      <div className=\"left\">\r\n        <div className=\"logo-container\">\r\n          <Logo />\r\n          <h1>Playground</h1>\r\n        </div>\r\n        <p className='description' title='Internet Object vs. JSON: Try It!'>Internet Object vs. JSON: Try It!</p>\r\n      </div>\r\n\r\n      <div className=\"right\">\r\n        <div className=\"menu-container\">\r\n          <ul className=\"header-menu\">\r\n            <li className=\"header-menuItem\">\r\n              <Link to=\"https://www.internetobject.org/\" aria-label=\"Home\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path><polyline points=\"9 22 9 12 15 12 15 22\"></polyline></svg>\r\n              </Link>\r\n            </li>\r\n            <li className=\"header-menuItem\">\r\n              <Link  to=\"https://www.internetobject.org/io-vs-json/\" target=\"_blank\" aria-label=\"IO vs JSON\">\r\n                IO vs JSON\r\n              </Link>\r\n            </li>\r\n            <li className=\"header-menuItem\">\r\n              <Link to=\"https://www.internetobject.org/the-story/\" target=\"_blank\" aria-label=\"The Story\">\r\n                The Story\r\n              </Link>\r\n            </li>\r\n            <li className=\"header-menuItem\">\r\n              <Link to=\"https://www.internetobject.org/community/\" target=\"_blank\" aria-label=\"Community\">\r\n                Join Community\r\n              </Link>\r\n            </li>\r\n            <li className=\"header-menuItem\">\r\n              <Link to=\"https://docs.internetobject.org\" target=\"_blank\" aria-label=\"Specification\">\r\n                Specification\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        {props.children}\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n","\r\nconst doc = `\r\n~ recordCount: 23\r\n~ page: 3\r\n~ prevPage: \"/api/v1/people/page/2\"\r\n~ nextPage: T\r\n---\r\n~ John Doe, 25, d'2022-01-01', m, @officeAddr,@officeAddr, [red, green, blue]\r\n~ Jane Done, 20, d'2022-10-10', f, {\\uD83D\\uDCC8 Bond Street, \"New York\", NY},N, [green, purple]\r\n`.trim()\r\n\r\nconst schema = `\r\n# Employee Schema and Variables\r\n~ @officeAddr: {Santacruze, California, CA}\r\n~ $address: {\r\n      street: string,\r\n      city: {string, choices:[New York, California, San Fransisco, Washington]},\r\n      state: {string, maxLen:2, choices:[NY, CA, WA]}\r\n    }\r\n~ $schema: {\r\n    name: string,  # The person name\r\n    age: {int, min:20, max:35},  # The person age!\r\n    joiningDt: date,  # The person joining date\r\n    gender?: {string, choices:[m, f, u]},\r\n    currentAddress: $address,\r\n    permanentAddress?*: $address,\r\n    colors?: [string], # Color array inthe form of string array\r\n    isActive?: {bool, F}\r\n  }\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'Variables and Schema References',\r\n  id: 'variable-and-schema-refs',\r\n  schemaPanelHeight: 380,\r\n}\r\n\r\nexport default exportable;\r\n","const schema = `\r\n~ $borrower: {userId:string, dueDate:date}\r\n~ $borrowedBooks: {bookIsbn:number, borrowDate:date}\r\n~ $users: {userId:string, name:string, membershipType:{type:string, choices:[Standard, Premium]}, currentlyBorrowedBooks:[$borrowedBooks]}\r\n~ $books: {title:string, author:string, isbn:number, availability:bool, categories:[string], published:number, borrowedBy?: $borrower}\r\n~ $library: {name: string, address: string, books: [$books], users: [$users]}\r\n~ $schema: $library\r\n`.trim()\r\n\r\nconst doc = `\r\nCity Central Library, \"123 Library St, Bookville\",\r\nbooks: [\r\n    { The Great Gatsby, \"F. Scott Fitzgerald\", 1234567890, T, [Fiction, Classic], 1925 },\r\n    { \"1984\", George Orwell, 2345678901, F, [Fiction, Dystopian], 1949, { user123, d\"2024-02-20\"}}\r\n],\r\nusers: [\r\n    { user123, John Doe, Standard,  [{2345678901,d\"2024-01-20\"}]  },\r\n    { user456, Jane Smith, Premium, [] }\r\n]\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'Nested Schema',\r\n  id: 'nested-schema',\r\n  schemaPanelHeight: 170,\r\n}\r\n\r\nexport default exportable;","const schema = `\r\n~ @r: red\r\n~ @g: green\r\n~ @b: blue\r\n~$schema: {\r\n  name: string,\r\n  email: email,\r\n  joiningDt: date,\r\n  color: {string, choices: [@r, @g, @b]}\r\n}\r\n`.trim()\r\n\r\nconst doc = `\r\n~ John Doe, john.doe@example.com, d'2020-01-01', @r\r\n`.trim()\r\n\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: schema,\r\n  name: 'Variables',\r\n  id: 'variables',\r\n  schemaPanelHeight: 320,\r\n}\r\n\r\nexport default exportable;","\r\nconst doc = `\r\n# JSON format is compatible with Internet Object\r\n{\r\n  \"library\": {\r\n    \"name\": \"City Central Library\",\r\n    \"address\": \"123 Library St, Bookville\",\r\n    \"books\": [\r\n      {\r\n        \"title\": \"The Great Gatsby\",\r\n        \"author\": \"F. Scott Fitzgerald\",\r\n        \"isbn\": \"1234567890\",\r\n        \"availability\": true,\r\n        \"categories\": [\"Fiction\", \"Classic\"],\r\n        \"published\": 1925\r\n      },\r\n      {\r\n        \"title\": \"1984\",\r\n        \"author\": \"George Orwell\",\r\n        \"isbn\": \"2345678901\",\r\n        \"availability\": false,\r\n        \"categories\": [\"Fiction\", \"Dystopian\"],\r\n        \"published\": 1949,\r\n        \"borrowedBy\": {\r\n          \"userId\": \"user123\",\r\n          \"dueDate\": \"2024-02-20\"\r\n        }\r\n      }\r\n    ],\r\n    \"users\": [\r\n      {\r\n        \"userId\": \"user123\",\r\n        \"name\": \"John Doe\",\r\n        \"membershipType\": \"Standard\",\r\n        \"currentlyBorrowedBooks\": [\r\n          {\r\n            \"bookIsbn\": \"2345678901\",\r\n            \"borrowDate\": \"2024-01-20\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"userId\": \"user456\",\r\n        \"name\": \"Jane Smith\",\r\n        \"membershipType\": \"Premium\",\r\n        \"currentlyBorrowedBooks\": []\r\n      }\r\n    ]\r\n  }\r\n}`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: null,\r\n  name: 'JSON Format',\r\n  id: 'json'\r\n}\r\n\r\nexport default exportable;\r\n","\r\nconst schema = `\r\n~ $borrower: {userId:string, dueDate:string}\r\n~ $borrowedBooks: {bookIsbn:string, borrowDate:string}\r\n~ $users: {userId:string, name:string, membershipType:{type:string, choices:[Standard, Premium]}, currentlyBorrowedBooks:[$borrowedBooks]}\r\n~ $books: {title:string, author:string, isbn:string, availability:bool, categories:[string], published:number, borrowedBy?: $borrower}\r\n~ $library: {name: string, address: string, books: [$books], users: [$users]}\r\n~ $schema: $library\r\n\r\n# This example intentionally fails validation to demonstrate schema checks.\r\n`.trim()\r\n\r\nconst doc = `\r\n{\r\n  \"name\": \"City Central Library\",\r\n  \"address\": \"123 Library St, Bookville\",\r\n  \"books\": [\r\n    {\r\n      \"title\": \"The Great Gatsby\",\r\n      \"author\": \"F. Scott Fitzgerald\",\r\n      \"isbn\": \"1234567890\",\r\n      \"availability\": \"yes\",  # INTENTIONAL ERROR: expected boolean (e.g., true)\r\n      \"categories\": [\"Fiction\", \"Classic\"],\r\n      \"published\": 1925\r\n    },\r\n    {\r\n      \"title\": \"1984\",\r\n      \"author\": \"George Orwell\",\r\n      \"isbn\": \"2345678901\",\r\n      \"availability\": false,\r\n      \"categories\": [\"Fiction\", \"Dystopian\"],\r\n      \"published\": 1949,\r\n      \"borrowedBy\": {\r\n        \"userId\": \"user123\",\r\n        \"dueDate\": \"2024-02-20\"\r\n      }\r\n    }\r\n  ],\r\n  \"users\": [\r\n    {\r\n      \"userId\": \"user123\",\r\n      \"name\": \"John Doe\",\r\n      \"membershipType\": \"Standard\",\r\n      \"currentlyBorrowedBooks\": [\r\n        {\r\n          \"bookIsbn\": \"2345678901\",\r\n          \"borrowDate\": \"2024-01-20\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"userId\": \"user456\",\r\n      \"name\": \"Jane Smith\",\r\n      \"membershipType\": \"Premium\",\r\n      \"currentlyBorrowedBooks\": []\r\n    }\r\n  ]\r\n}`.trim()\r\n\r\n// Brief guidance shown by the playground (safe if ignored by consumer)\r\nconst hint = `\r\nThis sample intentionally fails validation to demonstrate schema checks.\r\n\r\n- Error: books[0].availability must be a boolean, but it's a string (\"yes\").\r\n- Fix: change \"yes\" to true below to pass validation.\r\n\r\nTip: Try running validation first to see the precise error location, then apply the fix.\r\n`.trim()\r\n\r\n// A corrected version you can switch to if needed\r\nconst validDoc = `\r\n{\r\n  \"name\": \"City Central Library\",\r\n  \"address\": \"123 Library St, Bookville\",\r\n  \"books\": [\r\n    {\r\n      \"title\": \"The Great Gatsby\",\r\n      \"author\": \"F. Scott Fitzgerald\",\r\n      \"isbn\": \"1234567890\",\r\n      \"availability\": true,\r\n      \"categories\": [\"Fiction\", \"Classic\"],\r\n      \"published\": 1925\r\n    },\r\n    {\r\n      \"title\": \"1984\",\r\n      \"author\": \"George Orwell\",\r\n      \"isbn\": \"2345678901\",\r\n      \"availability\": false,\r\n      \"categories\": [\"Fiction\", \"Dystopian\"],\r\n      \"published\": 1949,\r\n      \"borrowedBy\": {\r\n        \"userId\": \"user123\",\r\n        \"dueDate\": \"2024-02-20\"\r\n      }\r\n    }\r\n  ],\r\n  \"users\": [\r\n    {\r\n      \"userId\": \"user123\",\r\n      \"name\": \"John Doe\",\r\n      \"membershipType\": \"Standard\",\r\n      \"currentlyBorrowedBooks\": [\r\n        {\r\n          \"bookIsbn\": \"2345678901\",\r\n          \"borrowDate\": \"2024-01-20\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"userId\": \"user456\",\r\n      \"name\": \"Jane Smith\",\r\n      \"membershipType\": \"Premium\",\r\n      \"currentlyBorrowedBooks\": []\r\n    }\r\n  ]\r\n}`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: schema,\r\n  name: 'JSON with IO Schema (Intentional Error)',\r\n  id: 'json-with-schema',\r\n  hint,\r\n  validDoc\r\n}\r\n\r\nexport default exportable;\r\n","const doc = `name, age, isActive, joiningDt, address: {street, city, state}, colors\r\n---\r\nJohn Doe, 25, T, d'2022-01-01', {Bond Street, New York, NY}, [red, blue]\r\n`\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: null,\r\n  name: 'Single Object',\r\n  id: 'single-object'\r\n}\r\n\r\nexport default exportable;","const doc = `name, age, gender, joiningDt, address: {street, city, state?}, colors, isActive\r\n---\r\n~ Alice Smith, 28, f, d'2021-04-15', {Elm Street, Dallas, TX}, [yellow, green], T\r\n~ Bob Johnson, 22, m, d'2022-02-20', {Oak Street, Chicago, IL}, [blue, black], T\r\n~ Rachel Green, 31, f, d'2021-12-11', {Sunset Boulevard, Los Angeles, CA}, [purple, pink], T\r\n~ Michael Scott, 41, m, d'2021-07-22', {Pine Street, Scranton, PA}, [green, orange], F\r\n~ Monica Geller, 27, f, d'2022-08-19', {Maple Street, New York, NY}, [red, yellow], T\r\n~ Joey Tribbiani, 25, m, d'2023-01-10', {6th Street, Las Vegas, NV}, [black, blue], T\r\n~ Lisa Kudrow, 36, f, d'2021-11-05', {Broadway, Los Angeles, CA}, [pink, red], F\r\n~ Chandler Bing, 30, m, d'2023-03-12', {Wall Street, New York, NY}, [blue, grey], T\r\n~ Ross Geller, 32, m, d'2022-06-30', {1st Avenue, New York, NY}, [green, purple], T\r\n~ Phoebe Buffay, 29, f, d'2022-09-21', {Lexington Avenue, New York, NY}, [yellow, red], T\r\n~ Bruce Wayne, 38, m, d'2022-05-15', {Wayne Manor, Gotham City}, [black, silver], F\r\n~ Diana Prince, 29, f, d'2023-02-28', {Themyscira Drive, Washington, DC}, [blue, gold], T\r\n~ Tony Stark, 34, m, d'2022-07-04', {Stark Tower, New York, NY}, [red, gold], F\r\n~ Natasha Romanoff, 32, f, d'2021-08-23', {5th Avenue, New York, NY}, [black, grey], T\r\n~ Steve Rogers, 36, m, d'2023-04-14', {Brooklyn Heights, New York, NY}, [blue, white, red], T\r\n~ Thor Odinson, 30, m, d'2021-03-17', {Asgard Lane, Oklahoma City, OK}, [red, silver], F\r\n~ Wanda Maximoff, 28, f, d'2022-04-27', {Vision Street, Westview, NJ}, [red, crimson], T\r\n~ Stephen Strange, 40, m, d'2022-12-01', {Bleecker Street, New York, NY}, [blue, gold], F\r\n~ Carol Danvers, 35, f, d'2022-01-16', {Roosevelt Avenue, Chicago, IL}, [blue, red], T\r\n~ Scott Lang, 30, m, d'2023-03-30', {Ant Hill Road, San Francisco, CA}, [red, silver], T\r\n~ Hope van Dyne, 32, f, d'2021-05-05', {Pym Lane, San Francisco, CA}, [red, gold], F\r\n~ Nick Fury, 50, m, d'2021-06-09', {Shield Road, Washington, DC}, [black], T\r\n~ Sam Wilson, 33, m, d'2022-11-11', {Falcon Street, Harlem, NY}, [red, white], T\r\n~ James Rhodes, 38, m, d'2022-07-29', {War Machine Blvd, Philadelphia, PA}, [grey, silver], T\r\n~ Pepper Potts, 37, f, d'2021-09-13', {Stark Industries, Malibu, CA}, [green, white], F\r\n~ Shuri, 24, f, d'2023-01-01', {Wakanda Way, Oakland, CA}, [black, purple], T\r\n~ \"T'Challa\", 35, m, d'2022-04-30', {Royal Palace, Birnin Zana}, [black, silver], F\r\n~ Okoye, 33, f, d'2021-08-18', {Warrior Falls, Birnin Zana}, [red, green], T\r\n~ Erik Killmonger, 29, m, d'2022-10-31', {Golden City, Birnin Zana}, [gold, black], F\r\n~ \"M'Baku\", 31, m, d'2021-12-12', {Jabari Land, Birnin Zana}, [white, brown], T\r\n`\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: null,\r\n  name: 'Simple Collection',\r\n  id: 'simple-collection'\r\n}\r\n\r\nexport default exportable;","const doc = `# This example deliberately includes errors to show how Internet Objectunlike plain JSONvalidates schemas,\r\n# reports issues clearly, and lets you process each record independently.\r\n# Age must be  30 (some rows violate), plus some syntax errors.\r\n# Orange = validation; Red = syntax/parsing.\r\n\r\nname, age:{number, min:30}, gender, joiningDt, address: {street, city, state?}, colors, isActive\r\n---\r\n~ Alice Smith, 28, f, d'2021-04-15', {Elm Street, Dallas, TX}, [yellow, green, T\r\n~ Bob Johnson, 22, m, d'2022-02-20', {Oak Street, Chicago, IL, [blue, black], T\r\n~ Rachel Green, 31, f, d'2021-12-11', {Sunset Boulevard, Los Angeles, CA}, [purple, pink], T\r\n~ Michael Scott, 41, m, d'2021-07-22', {Pine Street, Scranton, PA}, [green, orange], F\r\n~ Monica Geller, 27, f, d'2022-08-19', {Maple Street, New York, NY}, [red, yellow], T\r\n~ Joey Tribbiani, 25, m, d'2023-01-10', {6th Street, Las Vegas, NV}, [black, blue], T\r\n~ Lisa Kudrow, 36, f, d'2021-11-05', {Broadway, Los Angeles, CA, [pink, red], F\r\n~ Chandler Bing, 30, m, d'2023-03-12', {Wall Street, New York, NY}, [blue, grey], T\r\n~ Ross Geller, 32, m, d'2022-06-30', {1st Avenue, New York, NY}, [green, purple], T\r\n~ Phoebe Buffay, 29, f, d'2022-09-21', {Lexington Avenue, New York, NY}, [yellow, red], T\r\n~ Bruce Wayne, 38, m, d'2022-05-15', {Wayne Manor, Gotham City, [black, silver], F\r\n~ Diana Prince, 29, f, d'2023-02-28', {Themyscira Drive, Washington, DC}, [blue, gold], T\r\n~ Tony Stark, 34, m, d'2022-07-04', {Stark Tower, New York, NY}, [red, gold], F\r\n~ Natasha Romanoff, 32, f, d'2021-08-23', {5th Avenue, New York, NY}, [black, grey], T\r\n~ Steve Rogers, 36, m, d'2023-04-14', {Brooklyn Heights, New York, NY}, [blue, white, red], T\r\n~ Thor Odinson, 30, m, d'2021-03-17', {Asgard Lane, Oklahoma City, OK}, [red, silver], F\r\n~ Wanda Maximoff, 28, f, d'2022-04-27', {Vision Street, Westview, NJ}, [red, crimson], T\r\n~ Stephen Strange, 40, m, d'2022-12-01', {Bleecker Street, New York, NY}, [blue, gold], F\r\n~ Carol Danvers, 35, f, d'2022-01-16', {Roosevelt Avenue, Chicago, IL}, [blue, red], T\r\n~ Scott Lang, 30, m, d'2023-03-30', {Ant Hill Road, San Francisco, CA}, [red, silver], T\r\n~ Hope van Dyne, 32, f, d'2021-05-05', {Pym Lane, San Francisco, CA}, [red, gold], F\r\n~ Nick Fury, 50, m, d'2021-06-09', {Shield Road, Washington, DC}, [black], T\r\n~ Sam Wilson, 33, m, d'2022-11-11', {Falcon Street, Harlem, NY}, [red, white, T\r\n~ James Rhodes, 38, m, d'2022-07-29', {War Machine Blvd, Philadelphia, PA}, [grey, silver], T\r\n~ Pepper Potts, 37, f, d'2021-09-13', {Stark Industries, Malibu, CA}, [green, white], F\r\n~ Shuri, 24, f, d'2023-01-01', {Wakanda Way, Oakland, CA}, [black, purple], T\r\n~ \"T'Challa\", 35, m, d'2022-04-30', {Royal Palace, Birnin Zana}, [black, silver], F\r\n~ Okoye, 33, f, d'2021-08-18', {Warrior Falls, Birnin Zana}, [red, green], T\r\n~ Erik Killmonger, 29, m, d'2022-10-31', {Golden City, Birnin Zana}, [gold, black], F\r\n~ \"M'Baku\", 31, m, d'2021-12-12', {Jabari Land, Birnin Zana}, [white, brown], T\r\n`\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: null,\r\n  name: 'Simple Collection with Errors',\r\n  id: 'simple-collection-with-errors',\r\n}\r\n\r\nexport default exportable;","const doc = `\r\nname: string,\r\nage: number,\r\ngender: {string, choices: [m, f]},\r\njoiningDt: date,\r\naddress: {\r\n  street: string,\r\n  city: string,\r\n  state?: {string, len: 2} # Optional\r\n},\r\ncolors: string\r\n---\r\n~ Alice Smith, 28, f, d'2021-04-15', {Elm Street, Dallas, TX}, yellow\r\n~ Bob Johnson, 22, m, d'2022-02-20', {Oak Street, Chicago, IL}, blue\r\n~ Rachel Green, 31, f, d'2021-12-11', {Sunset Boulevard, Los Angeles, CA}, purple\r\n~ Michael Scott, 41, m, d'2021-07-22', {Pine Street, Scranton, PA}, green\r\n~ Monica Geller, 27, f, d'2022-08-19', {Maple Street, New York, NY}, red\r\n~ Joey Tribbiani, 25, m, d'2023-01-10', {6th Street, Las Vegas, NV}, black\r\n~ Lisa Kudrow, 36, f, d'2021-11-05', {Broadway, Los Angeles, CA}, pink\r\n~ Chandler Bing, 30, m, d'2023-03-12', {Wall Street, New York, NY}, blue\r\n~ Ross Geller, 32, m, d'2022-06-30', {1st Avenue, New York, NY}, green\r\n~ Phoebe Buffay, 29, f, d'2022-09-21', {Lexington Avenue, New York, NY}, yellow\r\n~ Bruce Wayne, 38, m, d'2022-05-15', {Wayne Manor, Gotham City}, black\r\n~ Diana Prince, 29, f, d'2023-02-28', {Themyscira Drive, Washington, DC}, blue\r\n~ Tony Stark, 34, m, d'2022-07-04', {Stark Tower, New York, NY}, red\r\n~ Natasha Romanoff, 32, f, d'2021-08-23', {5th Avenue, New York, NY}, black\r\n~ Steve Rogers, 36, m, d'2023-04-14', {Brooklyn Heights, New York, NY}, blue\r\n~ Thor Odinson, 30, m, d'2021-03-17', {Asgard Lane, Oklahoma City, OK}, red\r\n~ Wanda Maximoff, 28, f, d'2022-04-27', {Vision Street, Westview, NJ}, red\r\n~ Stephen Strange, 40, m, d'2022-12-01', {Bleecker Street, New York, NY}, blue\r\n~ Carol Danvers, 35, f, d'2022-01-16', {Roosevelt Avenue, Chicago, IL}, blue\r\n~ Scott Lang, 30, m, d'2023-03-30', {Ant Hill Road, San Francisco, CA}, red\r\n~ Hope van Dyne, 32, f, d'2021-05-05', {Pym Lane, San Francisco, CA}, red\r\n~ Nick Fury, 50, m, d'2021-06-09', {Shield Road, Washington, DC}, black\r\n~ James Rhodes, 38, m, d'2022-07-29', {War Machine Blvd, Philadelphia, PA}, grey\r\n~ Pepper Potts, 37, f, d'2021-09-13', {Stark Industries, Malibu, CA}, green\r\n~ Shuri, 24, f, d'2023-01-01', {Wakanda Way, Oakland, CA}, black\r\n~ \"T'Challa\", 35, m, d'2022-04-30', {Royal Palace, Birnin Zana}, black\r\n~ Okoye, 33, f, d'2021-08-18', {Warrior Falls, Birnin Zana}, red\r\n~ Erik Killmonger, 29, m, d'2022-10-31', {Golden City, Birnin Zana}, gold\r\n~ \"M'Baku\", 31, m, d'2021-12-12', {Jabari Land, Birnin Zana}, white\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: null,\r\n  id: 'simple-collection-with-types',\r\n  name: 'Simple Collection With Types'\r\n}\r\n\r\nexport default exportable\r\n","const schema = `\r\n~ $borrower: {userId:string, dueDate:date}\r\n~ $borrowedBooks: {bookIsbn:number, borrowDate:date}\r\n~ $users: {userId:string, name:string, membershipType:{type:string, choices:[Standard, Premium]}, currentlyBorrowedBooks:[$borrowedBooks]}\r\n~ $books: {title:string, author:string, isbn:number, availability:bool, categories:[string], published:number, borrowedBy?: $borrower}\r\n~ $library: {name: string, address: string}\r\n`.trim()\r\n\r\nconst doc = `\r\n--- $library\r\n# Bookville Library\r\nCity Central Library, \"123 Library St, Bookville\"\r\n\r\n--- $books\r\n~ The Great Gatsby, \"F. Scott Fitzgerald\", 1234567890, T,[Fiction, Classic], 1925\r\n~ \"1984\", George Orwell, 2345678901, F, [Fiction, Dystopian], 1949, { user123, d\"2024-02-20\"}\r\n\r\n--- subscribers: $users\r\n~ user123, John Doe, Standard,  [{2345678901,d\"2024-01-20\"}]\r\n~ user456, Jane Smith, Premium, []\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'Multiple Sections',\r\n  id: 'multiple-sections'\r\n}\r\n\r\nexport default exportable;\r\n","const schema = `\r\n# This example illustrates how Internet Object handles values of the \"any\" type,\r\n# allowing for flexible data representation. Additionally, it demonstrates the \"anyOf\"\r\n# feature, which enables specifying multiple possible types for a single field.\r\n\r\n\r\nname, age, gender,                # When type is not specified, it's considered as \"any\"\r\naddress: {\r\n  any, anyOf: [                           # Address can be any type or any of the following\r\n    { string, choices:[N/A, N/R, N/M ]},  # not available, not required, not mentioned\r\n    { street, city, state, zip }          # Address in object format\r\n  ]\r\n},\r\ncolors: [{                        # Array of colors\r\n  any, anyOf: [ string, number ]  # Color can be string or number\r\n}],\r\nisActive: bool\r\n`.trim()\r\n\r\nconst doc = `\r\n~ John Doe, 25, m, {Bond Street, New York, NY, 10001}, [red, blue], T\r\n~ Jane Done, 20, f, N/A, [0xFF0000, 0x0000FF], F\r\n~ Jack Doe, 30, m, {Queen Rd, San Fransisco, CA, 94101}, [0xFF0000, \"orange\"], T\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: schema,\r\n  name: 'IO Any',\r\n  id: 'io-any',\r\n  schemaPanelHeight: 320,\r\n}\r\n\r\nexport default exportable;\r\n","const schema = `\r\n# This example showcases all kinds of strings supported by Internet Object\r\n\r\n# a) Open b) Regular Enclosed c) Raw string\r\n# It also showcase built in email and url validator types\r\n#\r\n# References:\r\n# https://docs.internetobject.org/the-values/string - String Value Structure\r\n# https://docs.internetobject.org/the-schema/data-types/string - String Type\r\n\r\nusername: {string, pattern: r'^[a-z0-9_-]{3,16}$'}, # Pattern is defined using raw string format r'...'\r\nname: {string, minLen: 3, maxLen: 50},\r\nemail: email, website: url,\r\nbio?: {string, minLen: 50, maxLen: 500}, # Optional field\r\njoiningDt: {string, pattern: r'^\\\\d{4}-\\\\d{2}-\\\\d{2}$'} # Here joining is NOT an io-date type. It is a string value with date like format.\r\n`.trim()\r\n\r\nconst doc = `\r\n~ john-001, John Doe, john.doe@example.com, 'https://johndoe.com',\r\n  \"John Doe is a software engineer with 10 years of experience in web development.\r\n  He is a full-stack developer with expertise in React, Node.js, and MongoDB.\", 2020-01-01\r\n\r\n~ jane-002, Jane Doe, jane.doe@examples.com, 'https://janedoe.com',, 2020-02-03\r\n\r\n~ alice-003, \"Alice D'Costa\", alice@wonderland.com, 'https://wonderland.com',\r\n  \"Alice D'Costa is an artist with specialization in watercolor painting and sketching.\r\n  She has been awarded several times for her work.\", 2020-03-04\r\n\r\n`.trim()\r\n\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: schema,\r\n  name: 'IO Strings',\r\n  id: 'io-strings',\r\n  schemaPanelHeight: 320,\r\n}\r\n\r\nexport default exportable;","const schema = `\r\n# This example showcases all kinds of strings supported by Internet Object\r\n\r\n# a) Open b) Regular Enclosed c) Raw string\r\n# It also showcase built in email and url validator types\r\n#\r\n# References:\r\n# https://docs.internetobject.org/the-values/number - Number Values\r\n# https://docs.internetobject.org/the-schema/data-types/number - Number Type\r\n\r\n~ $notations:   { hex: uint8, oct: uint8, bin: uint8, decimal: number, scientific: {number, min:999999999}, other?: number }\r\n~ $intRanges:   { num1: int8, num2: int16, num3: int32, num4: int }\r\n~ $uintRanges:  { num1: uint8, num2: uint16, num3: uint32, num4: uint64, num5: number }\r\n~ $float:       { num1: float64, num2: float }\r\n~ $bigNumbers:  { num1: bigint, num2: {bigint, min:999999999999999999999999999999999999999999999999999999n} }\r\n~ $decimals:    { num1: decimal, num2: {decimal, min:999999999999999999999999999999999999999999999999.9999999999999999999m} }\r\n`.trim()\r\n\r\nconst doc = `\r\n--- notations: $notations # Various number notations\r\n~ 0x000011, 0o002, 0b11, 10, 4.329e+10, NaN\r\n~ 0x000022, 0o003, 0b100, 20, 2.329e+20, Inf\r\n~ 0x000033, 0o004, 0b101, 30, 4.345e12, -Inf\r\n\r\n--- $bigNumbers # Big numbers\r\n~ 999999999999999999999999999999999999999999999999999999n, 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFn\r\n\r\n--- $decimals # Decimal numbers\r\n~ 99.9999999999999999999999999999999999999999999m, 99999999999999999999999999999999999999999999999999999m\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: schema,\r\n  name: 'IO Numbers',\r\n  id: 'io-numbers',\r\n  schemaPanelHeight: 310,\r\n}\r\n\r\nexport default exportable;","const schema = `\r\n# This example demonstrates the representation of date and time in Internet Object using annotated strings.\r\n# The types 'datetime', 'date', and 'time' are denoted by 'dt', 'd', and 't' annotations respectively.\r\n# See how values can be expressed with or without separators, and how you can omit the later parts of the date and time\r\n# without affecting the parsing. The 'validations' section demonstrates how you can specify the min and max values for\r\n# datetime, date, and time types.\r\n\r\n~ $dateTimes:{ dt1:datetime, dt2:datetime, dt3:datetime, dt4:datetime, dt5:datetime, dt6:datetime, dt7:datetime, dt8:datetime }\r\n~ $dates:{ d1:date, d2:date, d3 }\r\n~ $times:{ t1:time, t2:time, t3:time, t4:time, t5:time }\r\n~ $validations: {\r\n    dt: {datetime, min: dt'2024-01-00T00:00:00Z', max: dt'2024-12-31T23:59:59Z' }, # During 2024\r\n    d: {date, min: d'2024-01-01', max:d'2024-03-31' }, # First quater 2024\r\n    t: {time, min: t'09:00', max:t'17:00' } # 9 AM to 5 PM\r\n  }\r\n`.trim()\r\n\r\nconst doc = `\r\n--- $dateTimes\r\n~ dt'2020-05-10T12:00:00Z', dt'2020-05-10T12:00', dt'2020-05-10T12:00', dt'2020-05-10T12', dt'2020-05-10', dt'2020-05', dt'2020-05', dt'2020' # with separators\r\n~ dt'20200510T120000Z', dt'20200510T1200', dt'20200510T1200', dt'20200510T12', dt'20200510', dt'20200510', dt'20200510', dt'2020' # without separators\r\n\r\n--- $dates\r\n~ d'2020-05-10', d'2020-05', d'2024' # with separators\r\n~ d'20200510', d'202005', d'2024'    # without separators\r\n\r\n--- $times # JSON will truncate t1 milliseconds\r\n~ t'14:35:58.123456', t'14:35:58.123', t'14:35:48', t'14:35', t'14'  # with separators\r\n~ t'143548123456', t'143548123', t'143548',t'1435', t'14'        # without separators\r\n\r\n--- $validations\r\n~ dt'2024-06-15T12:39:54.765', d'2024-02-19', t'13:42'\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema:schema,\r\n  name: 'IO Date and Times',\r\n  id: 'io-datetimes',\r\n  schemaPanelHeight:320,\r\n}\r\n\r\nexport default exportable;","const schema = `\r\n# With string notations\r\narray_of_any: array,                      # Empty array shows\r\n\r\n# With array notations\r\narray_of_any2: [],                        # Empty array shows\r\narray_of_strings: [string],               # array of string\r\narray_of_strings2: [{string, minLen:2}],  # array of string with minimum length of string required to be 2\r\n\r\n# With object notations\r\narray_of_any_min_len2: {array, minLen:2, of:{string, minLen: 2}},  # array of any with minimum length of array and string to be 2\r\narray_of_objects:{array, of:{}},\r\narray_of_objects2: {array, of:{name, age, type}}\r\n`.trim()\r\n\r\nconst doc = `\r\n[1, two, 3.0, true, false],\r\n[one, 2, 3.0, true, false, null,d'2021-01-01'],\r\n[a, b],\r\n[aa, bbb, cccc],\r\n[aa, bb, cc],\r\n[{a: 1, b: 2}, {a: 3, b: 4}],\r\n[{John Doe, 25, Student}, {Jane Doe, 30, Teacher}]\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: schema,\r\n  name: 'IO Arrays',\r\n  id: 'io-arrays',\r\n  schemaPanelHeight: 320,\r\n}\r\n\r\nexport default exportable;","const schema = `\r\na:{}, b:object,                                       # both a and b can accept any object\r\nc: {object, schema:{a, b, c}}, d: {a, b, c},          # c and d must have a, b, and c members and both of them are not open\r\ne: {a, b, c, *},                                      # * as the last member in the schema makes object open.\r\n                                                      # That is it can accept any non-defined members\r\nf: {a, b?, c?},                                       # here last two members are optional\r\ng: {a:any, b:{any, optional:T}, c:{any, optional:T}}  # same as f\r\n`.trim()\r\n\r\nconst doc = `\r\n{a, b, c},                # a\r\n{a:1, b:2, c:3},          # b\r\n{a:1, b:2, c:3},          # c\r\n{a, b, c},                # d\r\n{1, 2, 3, d:4, e:5},      # e\r\n{1},                      # f\r\n{1}                       # g\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema: schema,\r\n  name: 'IO Objects',\r\n  id: 'io-objects',\r\n  schemaPanelHeight: 320,\r\n}\r\n\r\nexport default exportable;\r\n","const schema = `\r\nEmployee ID,Name,Date of Birth,Position,Department,Hire Date,Email,Phone Number,Address,Emergency Contact,Salary\r\n`.trim()\r\n\r\nconst doc = `\r\n~ CbIX-71323,Chad Orr,1957-06-13,Salesperson,IT,2015-05-05,aanderson@phillips.com,550.930.8133,\"452 Christina Port South James, OH 61677\",\"Anthony Hayes, 396-931-9060\",47098.41\r\n~ pJgr-97808,Donna Casey,2000-04-15,Clerk,Engineering,2021-04-03,fernandezanthony@gmail.com,001-683-855-5317,\"47211 Kenneth Mount Suite 141 North Ryanborough, RI 68172\",\"Melissa Edwards, 001-239-181-5925\",55082.67\r\n~ dDLe-30352,Daniel Jones,1989-11-22,Salesperson,Engineering,2019-04-20,josephli@wilson-greer.com,723-562-6109x1854,\"39409 Elizabeth Creek Clarkemouth, MD 76214\",\"John Smith, 8749563918\",63078.35\r\n~ ZSvz-02056,Nicole Herrera,1969-01-14,Manager,Sales,2015-03-23,icarter@gmail.com,001-292-680-9590x89780,\"18024 Amanda Mills Apt. 402 Reeveschester, VA 97006\",\"Jack Brooks, 167-480-5784x166\",61835.9\r\n~ LwKR-17114,Nicole Boyd,1973-05-03,Engineer,Engineering,2020-06-28,camposkristin@murray.com,(112)228-0089x893,\"17442 Maxwell Street New Mary, CO 69392\",\"Nicholas Bridges, 006.462.5324\",91788.4\r\n~ XXAi-05890,Joseph Pacheco,1956-11-09,Salesperson,Sales,2019-06-07,conniewilkinson@yahoo.com,347.299.4044x4097,\"99402 Wu Common East Robert, OR 61395\",\"Susan Martinez, 882-867-0413\",85035.31\r\n~ RGjU-71011,Mr. James Contreras,1961-12-29,Clerk,IT,2019-04-12,james77@hotmail.com,575-465-1540,\"2446 Lopez Centers Suite 869 East Meganburgh, NY 39276\",\"Charles Moore, 001-780-572-5191x093\",32613.3\r\n~ yivt-26243,Jonathan Huff,1965-10-23,Analyst,HR,2014-12-04,pattyparker@gmail.com,(601)758-3501x70295,\"80519 Wise Cliffs Suite 650 East Mia, RI 27015\",\"Robert Moore, 632.403.2749\",77688.64\r\n~ DrRF-70672,Trevor Beltran,2000-01-29,Analyst,Sales,2014-04-06,joshuawilliams@wells.info,001-405-237-1511x3509,\"9732 Derek Square North Brianmouth, MN 19670\",\"Ricky Garcia, 0348163521\",42172.12\r\n~ lPSo-00068,Kelly Chavez,1953-12-04,Manager,HR,2020-02-27,psanchez@gonzalez-clark.info,001-134-627-4611,\"90166 Tina Rapids Suite 446 East Nicoleton, WY 05199\",\"Anthony Mora, (608)845-1303\",38544.09\r\n~ cXbf-31448,Ian Hicks,1985-06-21,Manager,IT,2023-04-07,penny46@mcmahon-lee.com,2545586803,\"1949 Hunter Creek Randychester, MA 92448\",\"Michelle Avery, (027)917-5121\",73966.41\r\n~ pOzO-40747,Mrs. Alexis Daniels,2003-02-18,Salesperson,Finance,2018-10-08,danaromero@gmail.com,(297)664-0404x06859,\"33385 Nash Route Suite 226 North Lisamouth, HI 59936\",\"Clayton Benton, (312)318-9279\",78249.23\r\n~ CmfF-50028,Jeff Baker,1970-05-24,Clerk,HR,2022-06-20,katherine95@martinez-taylor.com,(321)431-5364,\"667 Ochoa Burg Apt. 149 Jeffreymouth, ND 39473\",\"William Allen, 1132709563\",79832.06\r\n~ MKEG-91715,Jessica Powell,2004-11-09,Clerk,HR,2022-03-07,joshuamoreno@serrano-cummings.com,001-051-324-8333x598,\"3343 Price Corner Suite 518 Port Matthewside, OK 18485\",\"Crystal Jones, 820-297-2694x4298\",59980.48\r\n~ inYP-36366,Timothy Baldwin,1998-06-22,Manager,HR,2023-01-20,rachelmoore@yahoo.com,+1-172-669-3102x864,\"527 Davis Prairie Sheilaville, MO 08055\",\"Richard Taylor, 377-401-2589\",92894.15\r\n~ QKbc-23866,Mrs. Emily Miller PhD,1970-04-04,Salesperson,IT,2014-10-26,treeves@padilla.info,001-935-518-9432x5552,\"9750 Julie Crossroad Suite 875 South Katherine, AL 14471\",\"James Bates, (648)935-0057x892\",54253.89\r\n~ XBXp-71579,Cody Small,2004-12-22,Engineer,IT,2018-04-13,melindahicks@gmail.com,362-349-7375,\"60661 Leslie Gateway Suite 895 Rosariomouth, MI 71666\",\"Miguel Hahn, (732)110-6019x93752\",67309.06\r\n~ WWAQ-71834,Pamela Duncan,1969-04-07,Manager,Sales,2016-08-09,travis58@yahoo.com,(897)365-0757,\"PSC 7429, Box 4519 APO AE 38206\",\"Christine Moore, 001-324-716-0921x1967\",42806.88\r\n~ UmIK-38052,Benjamin Kim,1964-08-06,Analyst,IT,2020-10-30,owood@garcia.org,+1-066-147-4882x336,\"3164 Nancy Bridge Apt. 087 Mcintoshton, MO 70341\",\"Glen Bennett, 001-913-266-9806\",40151.52\r\n~ NTzM-71314,John Hernandez,1969-03-18,Engineer,HR,2020-08-07,owensholly@hotmail.com,(941)808-1934,\"2966 Rich Road Suite 994 North Christinastad, NE 83422\",\"Deborah Lam, +1-846-587-4926x58770\",67515.03\r\n~ ogLy-82843,Joshua Thomas,1973-11-12,Analyst,Finance,2023-12-20,margaretcantrell@reeves.org,+1-901-787-8483x0555,\"11260 Lynch Light New Matthewmouth, RI 54213\",\"Randy Price, +1-996-034-4726x540\",52388.55\r\n~ XJzK-76991,Sara Mercado,1965-01-28,Clerk,Sales,2023-06-01,villarrealdonald@gmail.com,+1-333-135-5084x12631,\"78586 Anna Inlet South Tonya, MO 90513\",\"Amy White, 032-251-9932x538\",48341.04\r\n~ yviu-85555,Alyssa Tran,1956-06-15,Engineer,IT,2017-12-04,wardjoseph@fisher.com,2841901716,\"965 Leah Mountains Suite 674 South David, CA 26540\",\"Richard Gardner, (195)333-9967\",64529.82\r\n~ JwBc-76050,Deborah Neal,1994-04-15,Analyst,Sales,2018-07-12,tara16@hernandez.net,+1-033-433-4810x62348,\"PSC 2563, Box 8731 APO AP 02499\",\"Tammy Crawford, +1-473-026-9178x626\",91930.54\r\n~ JwCq-41015,Ashley Hicks,1966-08-27,Clerk,Finance,2018-01-23,robert23@gmail.com,(427)266-7151,\"1657 Jerry Lake Thompsonfurt, GA 33186\",\"Cheryl Riley, +1-415-889-1099x76285\",36642.75\r\n~ WLLJ-04941,Jose Davis,1971-11-25,Salesperson,IT,2023-12-18,eugene75@yahoo.com,001-685-333-8027,\"567 Barber Mountains Apt. 550 Maloneshire, AR 60981\",\"Thomas Freeman, 591-466-0228x505\",87641.07\r\n~ xIgZ-52821,Paul Burke,1978-09-16,Manager,HR,2018-05-11,salinasrichard@hotmail.com,(212)429-0085x88337,\"29119 Snyder Garden Suite 841 Farleybury, GA 76749\",\"Krystal Wise, 9711271368\",84335.65\r\n~ mDjm-37643,Becky Brown,1996-10-20,Analyst,IT,2014-06-28,gregory91@hotmail.com,+1-430-743-3397x010,\"916 Michael Stravenue New Tiffany, RI 94282\",\"Katherine Mcdaniel, 001-185-466-9066x3490\",55391.84\r\n~ TYub-31571,Jerry Medina,1988-12-03,Salesperson,Sales,2014-01-22,nicole89@mays.com,004-655-2740,\"54941 Emily Grove Apt. 580 Kristenmouth, IL 22923\",\"Holly Morgan, 218-469-8429\",65399.14\r\n~ tZHF-72631,April Rivera,1981-07-21,Clerk,Engineering,2020-07-16,jeffreybell@hodge.com,778-151-0882x71838,\"46131 Lisa Turnpike Philiptown, NJ 50494\",\"Matthew Shaffer, (282)076-5052\",63972.0\r\n~ yGgw-69006,Mary Sparks,1958-11-21,Analyst,Engineering,2015-12-25,robertschristopher@mcknight.com,+1-771-962-4167x4312,\"987 Cole Ridges Apt. 151 Reyesberg, DE 56698\",\"Julie Johnson, 419-466-2640x41307\",66343.14\r\n~ hSrR-56837,Wendy Rios,1984-11-11,Engineer,Sales,2023-05-26,christophermartinez@jones.com,(266)943-0368,\"430 Hunt Glen Apt. 560 Billfort, GA 86821\",\"Anthony Bowen, 860.923.7253\",40647.52\r\n~ MARR-43330,Brian Cooke,1963-07-10,Analyst,Finance,2015-01-14,lisaolsen@anthony.biz,001-956-997-1509,\"669 Murray Road Suite 437 Robertsonstad, WI 48288\",\"Melanie Torres, (361)875-0570x804\",77444.62\r\n~ JtkS-69659,Jessica Rodriguez,1988-02-20,Analyst,Engineering,2020-09-10,johnsdiana@yahoo.com,278-461-7170x4478,\"8554 Fisher Fall Apt. 459 Jacksonfort, IA 61670\",\"William Harrington, 381.149.3021x29309\",93062.66\r\n~ OSww-70751,Elizabeth Rodriguez,1993-12-22,Clerk,Engineering,2018-05-17,sharon90@hotmail.com,2002984270,\"7223 Derek Underpass Apt. 273 East Debrafort, UT 73535\",\"Caitlyn Chen, (446)755-9820x7317\",86607.6\r\n~ VcRt-04073,Casey Hess,1953-03-24,Clerk,IT,2015-06-15,haysjames@kennedy-gonzalez.com,0126068353,\"982 Henderson Wall South Anthony, DE 07801\",\"Gabriella Torres, 915-656-5992x00817\",56030.49\r\n~ lviD-07873,Kari Jordan,1964-08-03,Engineer,Sales,2015-12-20,myerszachary@yahoo.com,807-385-7814x3161,\"430 Sabrina Pike West David, AR 50909\",\"Stephanie Wiggins, 693-803-1500x3435\",40662.86\r\n~ FFNo-69842,Christina Adams,1988-12-11,Analyst,HR,2016-07-27,amygray@yahoo.com,131.486.3308x1283,\"4077 Wilson Plaza Kristinberg, SC 02064\",\"Denise Estrada DDS, (454)022-1915\",96368.36\r\n~ JsaO-94091,Christopher Rice,1972-06-12,Engineer,HR,2020-04-28,acarpenter@gmail.com,697.032.6836x661,\"4244 Brandon Expressway Suite 209 Andersonland, VA 92377\",\"Joshua Beck, 001-794-153-9484\",36277.05\r\n~ Chuo-27164,Rachel Watson,1969-04-20,Clerk,IT,2020-08-11,bdavies@black.biz,731-920-2347x227,\"2200 Katelyn Spurs Apt. 406 Port Brandonmouth, OK 09040\",\"Alexis Aguilar, 213-593-9433x3587\",85970.11\r\n~ BTsF-14199,Vickie Smith,1957-07-12,Engineer,Finance,2014-11-23,melanielewis@gmail.com,8505377327,\"9210 Melissa Prairie Lake Melissaburgh, WY 46992\",\"Adrian Collins, (674)963-7232x628\",40794.66\r\n~ IMtV-42232,Sheri Peterson,1961-11-05,Analyst,IT,2019-06-06,samanthadominguez@gmail.com,001-820-694-7269,\"7323 Soto Track North Patrick, NH 10034\",\"Jeff Johnson, 803.072.8353x20141\",90768.74\r\n~ lGxa-50549,Roy Miller,1964-10-07,Engineer,HR,2021-07-22,yzimmerman@black-thompson.info,001-961-878-5254x8001,\"670 Sandra Spur Madisonstad, HI 77306\",\"Jessica Randall, (572)161-1935x2135\",61909.29\r\n~ PHbM-57072,Stacey Freeman,1972-11-10,Salesperson,Finance,2021-04-09,moorethomas@murillo-cardenas.org,(300)946-1280x6881,\"43831 Phillips Rue Riverafurt, MI 12008\",\"Sheena Andrews, 700-913-5782x799\",94867.91\r\n~ uERf-51475,Christopher Gray,1997-09-10,Engineer,HR,2018-06-17,foxjohn@hotmail.com,001-551-413-9011x2001,\"079 Christine Gateway Darrellburgh, MS 54968\",\"Alan Melton, +1-838-570-5710x2164\",79711.76\r\n~ Tiih-64755,Allen Wilkerson,1981-01-09,Salesperson,Engineering,2021-03-07,harperstephanie@hotmail.com,+1-648-046-9010x00617,\"575 Holland Port West Juanberg, WV 38814\",\"Cassandra Ball, 001-722-609-7171\",94492.59\r\n~ UIJU-99261,Gwendolyn Gonzalez,1980-03-11,Clerk,Engineering,2016-05-22,tbaker@yahoo.com,508-984-9455,\"3196 Davis Plains Apt. 079 North Carmen, GA 65266\",\"Rebekah Chapman, 771-441-2123x10958\",40674.45\r\n~ tTJD-24064,Eric Patterson,1970-11-17,Engineer,Finance,2021-04-11,normanamy@yahoo.com,(008)762-9090x3460,\"45602 Maria Cape Port James, SD 91158\",\"Brian Harper, (862)176-7830x3833\",89032.42\r\n~ eqTe-93117,Janice Lambert,1977-03-22,Salesperson,Engineering,2018-09-06,johnsonjacob@pena.com,490.538.3101x26120,\"473 Christopher Stream East Parker, NJ 72893\",\"Heather Perkins, 001-021-652-8393x568\",72608.6\r\n~ rZwN-29497,Nicholas Spencer,1976-09-22,Analyst,HR,2021-01-07,chaas@hamilton-pitts.com,+1-657-176-0442x388,\"709 Rios Brooks Suite 039 Brandonshire, OR 14332\",\"Courtney Fisher, 5635793469\",89513.54\r\n~ TDZV-92389,Scott Whitney,1958-10-12,Clerk,IT,2022-10-18,taylorstacey@gmail.com,803.099.5835x7363,\"577 Lisa Route Tylerton, IA 52439\",\"Shaun Cook, 1195321732\",46467.12\r\n~ bXKr-18324,William Ward,1985-10-31,Engineer,Engineering,2021-05-16,hortonjacob@manning.com,001-394-181-6346,\"95570 Richard Extension Apt. 564 Porterland, ID 37218\",\"Chad Sutton, 0824900421\",67578.38\r\n~ XKoZ-15525,Greg Figueroa,2001-10-10,Engineer,Sales,2018-10-18,mariayoung@hotmail.com,+1-793-477-7239x367,\"92719 Shannon Heights Apt. 498 Markborough, CO 77948\",\"George Johnson, 001-580-623-3175\",46456.36\r\n~ sgFU-75575,Danielle Steele,1965-04-09,Analyst,HR,2018-08-31,michaelduncan@yahoo.com,+1-415-511-1296x5185,\"7835 Seth Crossing Suite 473 Port Jeffrey, NJ 19141\",\"Stephen Andrade, (892)156-9695x762\",33207.65\r\n~ cams-05979,Kristina Adkins,1988-10-30,Clerk,HR,2021-03-23,victor66@yahoo.com,+1-863-764-1224x52969,\"78010 Cynthia Skyway Apt. 196 North Jamie, NH 78546\",\"Trevor Jackson, +1-954-817-0090x985\",48788.31\r\n~ aQff-61986,Gary Jones,1969-11-02,Salesperson,IT,2014-08-25,wgill@hill.net,652.852.6419,\"05135 Monique Lodge Michaelshire, SD 26756\",\"Christian Washington, (468)419-1114\",97819.14\r\n~ wzJX-88453,Erik Gomez,1959-01-06,Salesperson,Finance,2021-08-22,shaun08@hotmail.com,463-428-5322x8472,\"Unit 5499 Box 0686 DPO AP 24624\",\"Donald Davis, +1-767-630-7756x0139\",51083.09\r\n~ Dkri-92004,Sherry Bailey,2001-12-21,Engineer,IT,2016-08-12,theresaschmidt@ramirez-bradshaw.org,(908)283-4236,\"472 Douglas Gardens West Regina, ME 63271\",\"Lisa Garcia, 001-286-839-0203\",34606.36\r\n~ VxzV-58079,David Miller,1963-12-13,Clerk,HR,2019-03-15,ncastro@gmail.com,001-360-856-0900x1497,\"24514 Murphy Plains Suite 032 Kristinland, UT 91570\",\"Samuel Harris, 072.003.6214\",61357.28\r\n~ lGgT-20143,Bonnie Harris,1992-03-05,Manager,IT,2017-01-04,robin81@harris.com,550-673-5025x15860,\"194 Paul Ramp Apt. 071 Ashleymouth, GA 82162\",\"Joe Sanchez, 001-349-672-9502x74419\",83987.93\r\n~ sUlg-56210,Raymond Dunn,1954-06-24,Salesperson,IT,2015-09-15,jacksonjohnson@cook.org,2571588944,\"59005 Campbell Shore Apt. 104 Port Michael, KS 81364\",\"Tammy Valdez, +1-223-767-8288x5643\",96802.83\r\n~ Ugsg-89881,Thomas Olson,1979-01-09,Engineer,Sales,2017-11-15,cgomez@hotmail.com,3644568817,\"169 Wright Wall Edwardside, WA 40970\",\"David Mcdonald, 632-299-0759x944\",60780.17\r\n~ eKvH-55213,Karen Adams,1971-10-07,Salesperson,Finance,2023-08-21,michaelwalker@hotmail.com,004.094.9339,\"46941 Brown Roads South Theresa, LA 56479\",\"David Stevens, (467)621-5679x29854\",54421.17\r\n~ xQeN-66765,Angela Sanchez,2002-09-24,Clerk,Finance,2020-05-13,theresa33@jones-harris.info,001-623-149-4704,\"93917 Kyle Causeway Johnsonberg, OK 52551\",\"Jennifer Rocha, (079)376-2969\",72552.28\r\n~ RiJB-73843,Caitlin Simpson,1953-06-09,Salesperson,Sales,2021-12-10,frank63@yahoo.com,(858)382-2707,\"90285 Franklin Lights Apt. 172 Jonesbury, TN 16512\",\"Danny Price, +1-445-291-1475x278\",99628.97\r\n~ QYCi-82666,Christina Cain,1967-02-17,Manager,HR,2020-09-13,rkemp@mack-butler.com,767.957.7204x676,\"38492 Hernandez Port South Kristinborough, AK 52927\",\"Emily Martinez, 001-218-517-3328x4212\",86364.45\r\n~ NYuS-19136,Jose Fleming,1985-08-27,Clerk,IT,2015-09-04,wsolis@smith-taylor.com,363-255-6701x1003,\"46472 Miller Stravenue New Mirandastad, WI 08116\",\"Thomas Martin, 655.522.0235x5148\",86457.7\r\n~ iwvW-55803,David Jones,1974-10-23,Engineer,Finance,2016-07-02,brian41@gmail.com,001-170-678-0518x2793,\"77470 Cheryl Motorway Lake Stacyberg, NM 21501\",\"Diana Church, 001-957-178-3794x3565\",90117.51\r\n~ GbWj-25818,Sonya Cannon,1967-10-30,Engineer,Finance,2021-04-10,william96@yahoo.com,001-337-397-5839x4069,\"4942 Jackson Ferry Apt. 022 Smithfurt, MS 23970\",\"Mary Mitchell, 240-977-9152x5005\",76991.19\r\n~ GuOP-27977,John Ramirez,1998-10-23,Analyst,Engineering,2015-12-21,russell89@yahoo.com,001-226-569-1349x77279,\"391 Kenneth Cove Lake Leah, NM 70148\",\"Katie Mueller, (643)683-0148\",82479.19\r\n~ XlSH-98755,Kristin Chavez,1970-03-17,Analyst,Sales,2016-10-05,sanchezangela@stone.org,+1-863-243-8664,\"879 Stephen Common Fisherport, MI 01842\",\"Reginald Rush, +1-667-348-8692x026\",78135.38\r\n~ HYVk-58471,James James,1966-08-19,Analyst,IT,2022-06-20,ecantrell@morales-hess.com,(614)825-7991,\"3657 Beverly Ferry New Sylvia, DE 50529\",\"Ernest Evans, +1-064-960-0419x9317\",77376.29\r\n~ ktVo-51593,Ronald Smith,1989-02-07,Engineer,Sales,2017-08-17,fryerhonda@taylor-moran.com,(857)901-4791x574,\"81591 Ashley Shoal New Bradleytown, IN 93609\",\"Julie Silva, 359-462-7833x335\",89763.3\r\n~ ksYg-27882,Robert Stewart,1981-05-30,Analyst,Sales,2020-08-09,ftaylor@sharp.org,001-592-922-2305x482,\"185 Michael Rapid East Walterbury, NH 42189\",\"Nathaniel Miller, (883)032-0696\",54314.1\r\n~ fqIM-99281,Daniel Vasquez,1969-11-11,Analyst,IT,2014-05-16,john91@reynolds.com,(276)270-2060,\"142 Hogan Mountain Apt. 648 West Nathan, DE 88612\",\"Crystal Green, 010-919-7421\",88859.72\r\n~ tsIH-16112,Jeffrey Randall,1969-03-13,Analyst,Finance,2023-09-02,amber29@gmail.com,(070)466-0567,\"99493 Weiss Knoll Suite 996 East Marvinberg, TX 95684\",\"Matthew Reed, 194-378-9419x426\",78429.15\r\n~ DPEu-79006,Michelle Marquez,1971-12-05,Clerk,Engineering,2017-09-02,lori73@rodriguez-bentley.info,204-074-9933x825,\"052 Sullivan Summit West Dennis, MO 69276\",\"Kristen Walker, 001-217-528-5665x50065\",96756.43\r\n~ ygxb-41803,Keith Carter,1962-07-27,Clerk,Engineering,2017-08-02,joshua83@rodgers.com,473-393-3166x04040,\"28349 Jones Ferry Suite 107 Vanessaport, OK 40643\",\"Natalie Smith, 261-287-0847\",37328.5\r\n~ nyQN-11893,Sean Wood,1986-03-19,Engineer,Sales,2016-03-24,jacksonbruce@fox-anderson.com,001-508-255-7978x5548,\"USS Lambert FPO AP 84645\",\"Daniel Petty, 132-658-1815x8672\",30755.54\r\n~ MXCD-08965,Stacey Davidson,2001-10-27,Engineer,HR,2015-03-12,kwright@hotmail.com,001-881-455-2783x336,\"8354 Morgan Dale Apt. 943 West Katherinehaven, GA 19538\",\"Michael Thompson, 001-066-077-4001\",46177.57\r\n~ bfAP-69835,Steven Ward,1973-01-25,Engineer,IT,2020-05-02,roberthodges@hotmail.com,(126)136-3692x60426,\"398 Hernandez Course Apt. 353 Longport, IN 24993\",\"Melissa Delacruz, (140)285-2549x650\",79721.34\r\n~ oIuR-70535,Jason Morgan,2005-08-14,Manager,HR,2017-04-24,yjacobs@jenkins.com,915-580-2748,\"9356 Thomas Greens Lake Ashley, AR 93535\",\"Christine Wilson, 007-597-7181x12057\",37949.75\r\n~ pRMh-04449,Jeffrey Nguyen,1959-08-21,Salesperson,IT,2017-08-06,brownbrandon@haley-christian.com,(792)738-9488x72505,\"6254 Alexis Orchard Zacharybury, AK 01716\",\"Jerome Barnes, 9833220485\",33922.41\r\n~ PPOs-69346,Justin Miller,1961-05-08,Salesperson,IT,2022-08-04,apearson@roberts-myers.org,(660)456-8785,\"0640 Lawrence Lodge Apt. 961 West Mary, LA 60521\",\"Kathryn Foster, 001-263-065-5945x82255\",51320.19\r\n~ DnYD-67311,Katrina Young,2001-12-29,Analyst,IT,2018-09-29,perry89@payne.biz,+1-448-750-0240x64448,\"62240 Cox Island South Andrea, MA 31830\",\"Heidi Curtis, (639)741-5957x718\",95211.59\r\n~ Ekqr-84128,Kyle Cooper,2003-10-27,Clerk,Engineering,2020-11-04,angela93@yahoo.com,001-822-753-5366x352,\"540 Taylor Garden Suite 458 North Toddstad, TN 60024\",\"Christine Reyes, (385)574-8254\",85246.2\r\n~ hGVp-14335,Shannon Hanna,1965-11-29,Analyst,IT,2021-07-12,natalie83@lane.com,634.807.1222x78495,\"3001 Jimmy Circles Apt. 619 East Johnborough, OH 75740\",\"Tara Washington, +1-952-524-7527x684\",85026.9\r\n~ QPnw-49584,Luke Gibson,1992-01-27,Analyst,Engineering,2015-09-21,hollowayjoann@gmail.com,283-447-7687,\"92227 Roberts Village Suite 999 Erictown, MN 55850\",\"Matthew Brown, (852)160-4856x82446\",66923.16\r\n~ eFkP-90762,Steven Sharp DVM,1968-11-20,Engineer,IT,2016-08-23,bakermichael@yahoo.com,+1-118-550-9003,\"Unit 4860 Box 6218 DPO AP 51776\",\"Kevin Williams, 337-035-7961x151\",59001.99\r\n~ bLXL-45338,Erin Barnes,1976-03-24,Clerk,Sales,2016-11-06,henry81@gmail.com,(679)983-0382,\"957 Harrison Falls Dawnborough, WV 02720\",\"Kristen Gray, 8242561471\",35270.71\r\n~ BmBO-89287,Elizabeth Garcia,1988-12-26,Clerk,IT,2020-02-05,kimberlywilliams@fisher.com,(203)550-1945,\"2577 Nelson Glens Sierrabury, OH 14059\",\"Amber Johnson, 336.715.8990\",40173.9\r\n~ FYhI-25619,Karen Harris,1972-09-30,Salesperson,Finance,2021-11-10,richardchurch@bernard-clark.net,+1-891-674-0100x2280,\"66703 Ray Shore Apt. 417 East Anthonyview, FL 03786\",\"Thomas King DDS, (771)509-9555\",71406.27\r\n~ MDko-28863,David Flores,1969-05-28,Analyst,HR,2019-01-29,thomaskatherine@davis-lambert.info,466-649-3154,\"USS Padilla FPO AA 66948\",\"Rachel Moran, 060.724.5566x70761\",92383.73\r\n~ QkFp-55704,Michael Joseph,1960-11-10,Manager,Engineering,2016-04-04,dhoward@yahoo.com,666-499-6603,\"7489 Maria Avenue Apt. 285 East Staceyfort, FL 69990\",\"Robert Sutton, +1-795-787-1280x666\",40027.05\r\n~ NAZY-21020,Jeremy Perez,1990-06-04,Clerk,Engineering,2023-10-23,russell57@hotmail.com,413-190-6295,\"849 Huff Orchard Suite 855 Robinbury, LA 70119\",\"Zachary Jones, 603.809.4354x3117\",36510.48\r\n~ gWRl-79357,Kelly Lee,1983-12-02,Manager,Engineering,2020-05-10,ohughes@gmail.com,001-999-472-6955x1550,\"21271 Gregory Pine West Jamesburgh, NE 69639\",\"Elizabeth Robertson, 944-835-7473x66623\",62872.72\r\n~ wJdg-50277,Connie Bowers,1988-02-11,Salesperson,HR,2018-03-13,roachdeborah@hotmail.com,5941575121,\"270 Kimberly Spur Apt. 971 Jessicaside, NJ 60710\",\"Sandra Brown, 690-036-7493x16924\",97111.02\r\n~ utpo-39187,Elizabeth Waters,1974-10-10,Engineer,IT,2017-01-02,bnguyen@yahoo.com,320-091-9440x35787,\"676 Nguyen Skyway Bradleyburgh, CA 43784\",\"Deborah Kelly, 212.701.1727x3432\",66885.71\r\n~ WYPL-00444,Sandra Obrien,2004-07-30,Manager,HR,2022-09-13,lisa94@larson.org,001-324-363-5352,\"6186 Lee Rue Port Sara, OK 30798\",\"Stacey Leonard, 545-857-8355x1562\",60866.29\r\n~ ZRJJ-21190,Jacob Peck,1953-02-22,Analyst,Engineering,2023-06-02,gonzalezsamantha@gmail.com,(216)360-6769x6277,\"USNV Diaz FPO AA 37515\",\"Janet Griffith, 571.864.4344x8564\",47948.43\r\n~ WuQf-38827,Heather Moore,1973-12-03,Clerk,HR,2014-05-12,perkinsmichael@hotmail.com,678-218-0518,\"909 Tony Cape Suite 996 Gutierrezborough, WI 51598\",\"Mary Peterson, 769.481.4145\",90917.94\r\n~ fhkp-13054,Michael Liu,1959-02-28,Manager,Engineering,2016-06-06,roychad@murray-sullivan.com,7572614848,\"USCGC Baker FPO AE 37066\",\"Vincent Frank, 001-947-327-3047x916\",86464.11\r\n~ frGC-04350,Amber Shepard,1963-02-17,Engineer,Engineering,2015-03-12,michaelmartinez@oliver-franklin.com,427.428.7954,\"629 Julie Tunnel West Terri, FL 52339\",\"Heather Harris, 111-264-2283x771\",71986.06\r\n~ tgWN-72139,Austin Booth,1983-11-18,Analyst,HR,2014-04-20,nhunt@yahoo.com,001-786-106-8727x366,\"95351 Soto Drive West Christian, LA 84908\",\"Zachary Rodriguez, 001-819-359-2051x21623\",83658.76\r\n~ keGd-66800,Jason Armstrong,1986-11-05,Clerk,IT,2017-10-07,larryrosales@gmail.com,(042)329-2636x120,\"86692 Stephanie Hill New Wendyport, PA 27735\",\"Juan Middleton, +1-838-184-1869\",37778.01\r\n~ UsKL-90573,Dean Cline,1983-10-14,Clerk,Engineering,2021-09-07,levans@padilla.com,001-008-177-8665,\"08059 Taylor Meadow Ewingstad, OK 06010\",\"John Knox, (740)599-8107x6611\",39079.76\r\n~ lBGb-57618,Steven Smith,1979-10-14,Salesperson,IT,2021-04-06,robert84@arnold-thomas.biz,452.097.2978,\"8676 Brady Cove Suite 362 South Michelleborough, WY 63053\",\"David Larsen, 001-649-115-0912x996\",75899.49\r\n~ WjHd-28279,Charles Smith,1966-11-06,Salesperson,Finance,2023-04-22,robertevans@yahoo.com,(449)119-1800x12299,\"69326 Douglas Row Gregoryfort, PA 42686\",\"Andrea Rodriguez, 9564314351\",48572.32\r\n~ kZjb-32714,Marvin Harris,1971-04-19,Salesperson,IT,2023-03-15,ronaldgibson@yahoo.com,200.022.7998x44744,\"039 Valdez Tunnel Suite 279 New Jason, NE 73257\",\"Katie Miles, 547.515.3670\",78525.14\r\n~ gmyV-60634,David Sullivan,1971-07-03,Manager,Finance,2014-12-24,joshuabrooks@jackson.biz,350-224-4207,\"02269 Eric Pines Lake Reneeville, IL 81833\",\"Christopher Elliott, 275-954-2591\",55999.41\r\n~ fyLq-43913,Gina Weeks,1980-11-01,Clerk,Sales,2018-04-30,patrick39@yahoo.com,001-225-960-6505x9657,\"75497 Nelson Throughway South Renee, NC 89319\",\"Dr. Ann Johnston, +1-125-573-2903x0058\",56586.91\r\n~ DKNm-22944,Jonathan Henderson,1955-10-09,Salesperson,IT,2015-09-07,ecervantes@jones-brown.com,610.271.6167x898,\"917 Christopher Orchard North Sharon, OR 65226\",\"Michael Wilson, 001-976-134-2776x004\",52115.75\r\n~ CCyU-26182,Keith Cox,1978-06-29,Engineer,HR,2014-10-15,andersonchris@gmail.com,(136)221-8567x0611,\"1752 Tara Spring New Kimberlyland, DE 83796\",\"Melissa Mcdaniel, 001-951-867-4424x819\",50476.31\r\n~ MQiF-71193,Mary Allen,1955-07-25,Manager,Engineering,2018-01-21,garciaashley@hotmail.com,927-475-8633,\"86536 Lee Underpass Apt. 378 Erictown, TN 56548\",\"Danny Martinez, 9096269519\",71398.69\r\n~ uwDe-78995,Brittany Burgess,1963-11-16,Engineer,Engineering,2014-09-27,walterbeck@hotmail.com,043-694-2052,\"979 Hutchinson Isle South Timothymouth, PA 20541\",\"Michael Henderson, +1-002-478-5785x055\",86542.04\r\n~ oaSU-23504,Charles Schmidt,1997-11-12,Engineer,Finance,2019-01-04,xfrank@hotmail.com,(125)159-0405x90216,\"Unit 1954 Box 3844 DPO AP 68717\",\"Lisa Guerra, 785.945.0941\",54402.89\r\n~ vZVs-76067,Jennifer Fleming,1994-12-26,Engineer,Sales,2020-06-26,kristen69@gmail.com,693.927.6493x66964,\"USNS Shah FPO AE 84610\",\"Susan Lewis, 352-369-7086x387\",98344.53\r\n~ lEzs-40607,Mary Mcclain,1994-02-01,Clerk,Finance,2022-01-07,phillipsdebbie@gmail.com,(570)855-5074,\"514 Ashley Roads Lopezbury, MI 22944\",\"Cindy Anderson, 020-120-3927x836\",35816.62\r\n~ LmBm-38066,Michael Diaz,1965-08-22,Analyst,Sales,2017-07-09,kelly72@gmail.com,(341)561-4278x353,\"416 Cole Walks Frankstad, AR 03011\",\"Jane Rodriguez, +1-434-350-5553x11123\",85111.5\r\n~ pbRq-14150,Harold Hill,1981-08-02,Engineer,HR,2022-12-14,robert81@hotmail.com,001-743-828-4878x8678,\"7649 Wells Corners Apt. 964 South Ray, OR 29379\",\"Carmen Schmidt, (276)254-6624x29998\",93732.84\r\n~ fZjt-44560,Donna Phillips,1978-04-11,Clerk,HR,2015-04-04,dberry@flores-wright.com,+1-770-704-4956x0145,\"9393 Riggs Grove South Amandastad, MT 83553\",\"Mary Faulkner, +1-305-876-2678\",87722.54\r\n~ PqUj-34040,Stephanie Lee,1987-01-10,Clerk,IT,2018-11-21,whitneywheeler@stephens.com,724-472-8160,\"0434 Alisha Crescent New Karenshire, MI 35287\",\"Matthew Williams, 666.512.5279x1277\",87490.82\r\n~ dWWb-54432,James White,1979-04-08,Engineer,Finance,2016-09-20,williamsjeffrey@gmail.com,592-933-2098,\"683 Kenneth Expressway Lake Jerome, PA 79447\",\"Kaitlyn Gonzalez, +1-154-142-3873x9547\",57854.43\r\n~ WzAI-33042,Diana Gonzalez,1958-10-11,Clerk,IT,2016-04-11,smatthews@yahoo.com,001-981-726-9204x08167,\"816 Caldwell Row Suite 518 Josephborough, NH 50744\",\"Ashley Alexander, 001-850-621-4930x9162\",72097.89\r\n~ HIuq-18375,Robyn Wright,1960-07-22,Analyst,IT,2023-10-24,jacobleblanc@gmail.com,+1-142-257-7881,\"5996 Washington Prairie Victoriafurt, NM 19371\",\"Jeremy Payne, 001-233-612-1040\",78116.98\r\n~ QYgc-04889,Suzanne Hernandez,1962-09-18,Manager,HR,2016-05-01,bpeters@johnson-lopez.org,449-418-1381x40969,\"524 Reynolds Vista Suite 075 Lake Cynthiafort, LA 35473\",\"Kelly Arias, (855)220-5967x9291\",37552.88\r\n~ ahBh-99770,Becky Henry,1973-09-23,Clerk,Engineering,2023-11-16,nicholas03@morse-frey.info,4791549312,\"46895 Robert Brook New Keith, TX 72893\",\"Dawn Rodriguez, 001-590-620-6299\",71489.08\r\n~ TLIk-63907,Mathew Oconnor,1954-07-15,Manager,Sales,2014-01-17,robindavies@king.com,752.036.8894,\"684 Leonard Ways Suite 555 Freemanmouth, MN 31932\",\"Melissa Thompson, (867)649-2161x4998\",69939.7\r\n~ ycjA-49906,James Bryan,1981-04-27,Analyst,HR,2017-06-22,wardkayla@hotmail.com,001-894-390-7557x7124,\"93354 Terry Manor Thomaschester, SC 96536\",\"Benjamin Nichols, 876.439.8121x027\",52020.31\r\n~ dnqd-45256,Angel Duffy,1966-04-02,Manager,IT,2015-05-26,chad54@gmail.com,(188)616-9433,\"9731 Avery Avenue Geraldshire, FL 49405\",\"Ashley Dean, (360)173-4208\",92876.79\r\n~ yYdA-81428,Alyssa James,1983-08-10,Manager,Sales,2023-01-04,mcphersonsean@yahoo.com,298.189.2779x8170,\"192 Sara Plain Apt. 820 East Tylermouth, GA 14097\",\"Raymond Hart, 525.899.4636\",80215.89\r\n~ jeaa-13400,Richard Paul,1995-09-06,Engineer,Engineering,2018-11-15,jason89@chung.org,377-193-4531,\"18987 Todd Hollow South Tammy, MI 55706\",\"Mr. Mark Ferrell, (922)475-4806\",90493.45\r\n~ gVpB-25637,Eric Gross,1974-02-25,Engineer,HR,2022-07-07,acevedodavid@yahoo.com,+1-061-465-3230x905,\"66436 Bowen Coves New Brian, WI 13227\",\"Ann Parker, (343)575-8414\",88868.9\r\n~ Spga-84961,Charles Howard,1996-03-15,Salesperson,Engineering,2023-06-03,hayley65@porter.info,072.053.3897x503,\"445 Miranda Squares Apt. 646 Lake Ericchester, OR 23972\",\"Kimberly Roberson, 001-586-233-8363x4869\",94129.51\r\n~ pPrC-14352,Nicholas Parker MD,1963-07-19,Analyst,Sales,2016-07-26,dowens@hotmail.com,997.651.2794x67169,\"94351 Brandon Circles Derekhaven, MO 89239\",\"Peggy Macdonald, 427-444-5099x81700\",91715.07\r\n~ hptl-56593,Elizabeth Gonzalez,1971-09-10,Manager,IT,2015-07-16,randyarnold@hotmail.com,786.889.7185,\"67896 Terri Plains Apt. 227 Sabrinaview, ND 48205\",\"Juan Gilbert, 001-131-147-7990x3207\",77240.99\r\n~ risz-78380,Karla Obrien,1968-01-07,Clerk,Finance,2019-01-26,qphelps@kim.org,078-748-7295x32300,\"4398 Torres Shoal Suite 433 Johnsonland, DE 59934\",\"Marcus Young, +1-542-492-1845x962\",78066.05\r\n~ FFmR-74727,Kelsey Lindsey,1987-02-25,Clerk,IT,2017-01-16,trujillopamela@stevens.com,(667)299-1912x53933,\"48097 Hart Common Apt. 364 South Kennethtown, CO 25545\",\"Richard Randall, 001-131-070-1290x4968\",43863.92\r\n~ OIor-21104,Abigail Young,1960-07-08,Manager,Finance,2018-02-13,jessetaylor@yahoo.com,862.542.9048x385,\"2697 Hudson Mountain Apt. 978 West Devin, GA 06537\",\"Richard Stephenson, 304.362.6431x97330\",91750.37\r\n~ QckM-44055,Crystal Ball,1986-05-09,Analyst,Engineering,2016-03-06,pschmidt@hotmail.com,258-952-1831x52812,\"324 George Walk Terriville, VT 97104\",\"Lauren English, 400.663.5874x03097\",48531.45\r\n~ CLXM-70294,Victoria Campbell,1971-04-30,Engineer,HR,2017-11-17,jeremy16@hotmail.com,+1-733-707-4058x175,\"4628 Castillo Motorway Suite 006 Jordanland, AL 08185\",\"Hunter Griffith, 851.173.4317\",77190.79\r\n~ csEy-27517,Steve Allison,1998-03-03,Engineer,IT,2023-06-09,whitney26@hotmail.com,3024942275,\"92418 Christopher Prairie Apt. 862 New Jennifer, SC 92872\",\"Nichole Forbes, 868.928.5200x7098\",77884.09\r\n~ AmgM-30992,Jason Green,1966-11-23,Analyst,Sales,2022-12-06,tammy14@williams.com,001-656-590-7590x5465,\"45544 Ellen View Port Christine, CT 13327\",\"Jerry Cannon, 001-030-701-3856x311\",30132.9\r\n~ bedZ-73758,Jacqueline Diaz,1960-08-03,Analyst,IT,2014-08-22,murrayricardo@allen.com,001-300-740-2778x43275,\"468 Robinson Park Lindseyfurt, MO 94248\",\"Alicia Wright, 160.998.6844x2350\",53055.98\r\n~ jtFL-13016,Shannon Ortiz,1995-06-13,Clerk,Sales,2015-05-16,dominicgentry@yahoo.com,281.810.5092,\"15723 Teresa Mall Apt. 668 Tonyfurt, FL 14726\",\"Anthony Gilbert, 001-006-454-6321x66842\",90961.66\r\n~ CqQb-25839,Dawn Mendez,1987-06-15,Salesperson,IT,2014-11-02,michaelyork@gmail.com,001-460-116-2499x93876,\"6269 Dodson Prairie Lunaview, IL 35909\",\"Richard Freeman, 001-756-447-9825x4841\",61676.71\r\n~ dLWl-95324,Samantha White,1979-12-27,Manager,IT,2019-03-19,darlenehogan@hanna.com,364.190.1730x723,\"7002 Williams Plain East Megan, TN 06540\",\"Michael Krause, 001-410-385-0718x4017\",30743.44\r\n~ oYQT-82830,Sophia Barber,1968-11-23,Analyst,Engineering,2015-06-26,smithbobby@gardner.biz,+1-905-350-3591,\"8255 Bradford Union Wardmouth, VA 75151\",\"Sandra Gray, 239.641.7790x66362\",84551.63\r\n~ aAtr-71008,Whitney Holland,1985-02-08,Manager,IT,2015-08-26,gclark@moore.com,7620089020,\"3440 Charles Mountains South David, ME 58460\",\"Claudia Gomez, (286)538-0470x53376\",63869.48\r\n~ SGnI-72695,Sarah Kelly,1982-10-31,Analyst,Sales,2021-05-10,jacob99@hotmail.com,574-703-0837x36959,\"489 Wendy Mount Sparksfurt, NH 01674\",\"Jeremy George, 073.321.9907x30112\",42645.56\r\n~ kDdW-18623,Dr. Melissa Cox,2002-01-01,Salesperson,HR,2023-02-18,sara16@gmail.com,039.851.2640x6871,\"PSC 8981, Box 4699 APO AA 80678\",\"Jeffrey Malone, 030-935-9116x1753\",41656.89\r\n~ Ktiq-59759,Danielle Spencer,1993-08-21,Salesperson,Engineering,2020-10-01,lloydmary@gmail.com,001-081-230-0981x4587,\"86182 Mendez Heights Suite 055 Robinsonmouth, VA 72538\",\"Holly Baker, 365-763-8388\",45659.85\r\n~ HSLg-12373,Joel Hooper,1976-10-09,Salesperson,Finance,2015-05-11,amybarnes@schmidt-price.com,001-504-928-5568x61909,\"5893 Cox Mews Suite 181 Dunnside, AZ 81863\",\"Parker Joseph, 880.405.1703x6736\",36964.31\r\n~ lJSo-21951,Erik Howell,1979-10-13,Salesperson,HR,2023-04-30,bradley05@yahoo.com,5159947539,\"009 Price Drive Suite 782 North Lawrenceside, OK 62240\",\"David Munoz, 940.630.5331x2336\",38478.18\r\n~ hgmN-42510,Elizabeth Hammond,1987-06-22,Manager,Finance,2020-10-04,alyssa92@yahoo.com,529-969-2405x16464,\"73807 Johnson Mount Suite 402 Aaronfurt, ND 10252\",\"Victoria Walters, +1-641-682-3366x97742\",68321.91\r\n~ qEkI-52668,Samuel Guerrero,1980-11-30,Clerk,IT,2020-02-07,sarabuck@sparks.com,922.754.5439,\"28666 John Extension Suite 410 Heatherberg, CT 34717\",\"Thomas Padilla, +1-401-139-6418x6615\",86972.02\r\n~ XiFm-18111,Pamela Yates,1991-07-02,Salesperson,Engineering,2020-10-15,hardykaren@gmail.com,(563)006-8915x641,\"4216 Stephen Way Apt. 714 New Laura, CO 20999\",\"James Clark, (047)297-2964x92372\",94073.22\r\n~ yeka-59124,Kenneth Williams,1985-01-19,Engineer,IT,2020-11-13,bsmith@gmail.com,(617)110-4133x342,\"Unit 1200 Box 2939 DPO AE 93020\",\"David Santiago, (765)775-0936x570\",90523.51\r\n~ IgjT-97673,Michael Richardson,1979-09-02,Engineer,Engineering,2020-05-27,sarajohnson@edwards.com,2889688174,\"2224 Cooper Mills Suite 377 North Monicaberg, HI 23261\",\"Todd Wright, 892.150.6895x310\",45528.75\r\n~ xfon-39861,Jonathan Oliver,1996-06-08,Analyst,Finance,2023-11-22,cobbmelissa@stokes.com,001-826-953-2992x63168,\"105 Perry Coves Lake Karen, AZ 89012\",\"Beth Wilkerson, +1-443-675-7130x177\",74834.36\r\n~ rymr-91901,Katherine Patel,2000-02-02,Manager,HR,2017-10-24,huffrebecca@hotmail.com,329-137-6031,\"846 Silva Summit Apt. 930 Mcknightmouth, ID 71249\",\"Christine Skinner, +1-887-246-9593x91583\",50678.87\r\n~ OvTQ-94066,Derek Sharp,2000-02-06,Analyst,Sales,2020-10-28,gonzaleztodd@cortez.com,936-696-7078x21501,\"05414 Ricky Loop Cortezville, AZ 76890\",\"Amanda Rios, (307)931-1545\",64144.13\r\n~ voaN-24057,Kimberly Washington,1998-04-18,Engineer,IT,2022-07-22,daniel58@gmail.com,(274)216-4227,\"063 Harris Run Apt. 173 Carterfurt, NV 14607\",\"Dr. Stephanie Rodriguez, 109-623-1594x900\",39542.07\r\n~ twbs-55736,Kyle Carter,1980-12-10,Clerk,Finance,2022-09-15,miranda91@gmail.com,+1-754-746-5872x97948,\"943 Freeman Ports Damonton, NC 62594\",\"Michael Jimenez, 001-983-631-7496x63066\",92658.06\r\n~ vdYi-21681,Tamara Perry,1985-01-29,Analyst,Finance,2014-01-30,pbryan@berry.com,+1-536-901-5167x645,\"068 Lance Light Lake Christinaton, CT 84736\",\"Lisa Byrd, +1-866-388-0943x239\",96494.95\r\n~ bkoQ-92545,Jacqueline Clements,1976-02-16,Salesperson,Finance,2015-08-13,lisawong@palmer.info,+1-002-903-8878x707,\"3621 Nguyen Lodge Lake Joshua, AZ 01806\",\"David Dunlap, 001-450-569-8194x77466\",64247.71\r\n~ AQbD-16837,Mario Jackson,1993-04-06,Salesperson,Finance,2014-04-04,clarklaura@lynch-ball.com,(047)272-9617x8079,\"64843 Parker Manor Pamelamouth, MI 29386\",\"Shannon Miller, 050.391.7635x313\",45738.18\r\n~ PlUM-04951,Jennifer Logan,1996-06-02,Clerk,IT,2019-05-16,stephenhall@hotmail.com,749-762-3847x513,\"077 Collier Pass Suite 420 Josephtown, FL 47898\",\"Charles Kim II, (425)173-1965x7147\",53760.26\r\n~ EPJb-73316,Justin Baker,1972-04-05,Manager,Engineering,2016-07-29,onealtiffany@green-barnes.biz,618-667-7183x737,\"4931 Wilson Estate Suite 940 Cabrerahaven, NH 91394\",\"Eric Mcdonald, 049-082-5813\",53477.4\r\n~ Skkv-42171,Jason Harris,2003-12-21,Clerk,Finance,2017-08-21,williewilson@odonnell.biz,+1-195-826-8080x58723,\"1579 David Estates Jamesside, CT 17882\",\"Peter Phillips, 8693559566\",32348.25\r\n~ OwCt-70523,Jorge Torres,2004-07-14,Engineer,IT,2015-06-17,adamssydney@taylor.com,736.359.4830x08847,\"093 Charles Mountains Suite 354 Karenchester, OK 02955\",\"Morgan Turner, 8724569071\",61992.71\r\n~ MykE-03625,Kendra Warren,1961-10-15,Salesperson,HR,2014-10-30,ann91@cuevas.biz,(536)250-7383x4635,\"16146 Allen Forges Cainville, WY 16247\",\"Michael Kemp, 0715074114\",64519.7\r\n~ AIxc-90046,Sandra Ramirez,1974-09-06,Analyst,Sales,2017-07-03,littlejohn@yahoo.com,001-417-705-4539x7913,\"0449 Ferrell Dale Sergioburgh, DC 93151\",\"Chase Smith, (384)359-5663x262\",58111.68\r\n~ DKAS-09168,William Welch,1972-09-10,Analyst,Sales,2023-10-26,christopher76@gmail.com,947.062.8629x8500,\"0898 Rangel Center South Rachel, WI 11551\",\"Hannah Pope, 3388378838\",72176.74\r\n~ Zglp-99939,Rick Robinson,1965-09-02,Analyst,Sales,2015-09-17,brownanthony@yahoo.com,(080)506-3380x1469,\"924 Molina Land Suite 959 Davisfurt, SC 43239\",\"Chad Russell, 058-674-5635x3477\",81380.66\r\n~ LUcY-31578,Keith Palmer,1971-08-28,Manager,IT,2015-02-06,scottlong@gmail.com,742.945.6694,\"0488 Stephen Green Apt. 669 South Jillmouth, MI 56044\",\"Thomas Payne, 001-298-734-5690\",88122.31\r\n~ JMVG-65977,Julie White,1979-04-09,Manager,Finance,2014-06-29,mjackson@sanders.com,309.409.7495,\"Unit 1220 Box 3851 DPO AE 08865\",\"William Anderson, (573)736-6808\",31566.4\r\n~ qRGS-46748,Kristine Williams,1963-03-05,Manager,IT,2017-04-17,tamaralopez@jones-thomas.com,001-192-274-3469x06855,\"Unit 0436 Box 4259 DPO AA 50598\",\"Brian White, 3180771224\",97336.03\r\n~ NKIT-58250,Robin Sanchez,2000-07-24,Manager,Finance,2023-08-09,anna50@hotmail.com,001-639-580-9516x2447,\"565 Murray Village Murphyfurt, DE 16532\",\"Bradley Noble, 943.512.0353x37664\",36189.08\r\n~ Crpu-63968,Steven Peters,1978-04-23,Engineer,Engineering,2022-11-08,vdaniels@richardson.org,386.009.9323x3012,\"726 Cruz Roads New Dianatown, KY 36794\",\"Andrew Pierce, (509)958-8118\",68824.79\r\n~ UqEO-54504,Marcus Lopez,1998-12-30,Clerk,HR,2014-09-29,richard24@sullivan-washington.com,2422023299,\"160 Megan Shores Armstrongton, HI 69901\",\"Eric Bray, 206.795.8484\",87846.01\r\n~ LGTz-25546,Brenda Hendricks,1985-08-16,Manager,IT,2022-07-08,harrybrown@hartman.com,(883)021-1441,\"USS Rodriguez FPO AE 83691\",\"Kevin Lopez, 522-282-9546x81248\",95074.82\r\n~ UNHZ-57026,Cassie Smith,2005-09-15,Salesperson,Finance,2015-09-04,joshuaandrews@beltran-glover.info,790.618.4674,\"334 Richard Cliffs Apt. 004 Joannahaven, NJ 88765\",\"Dylan Williams, 672-602-8368\",91803.36\r\n~ gXzI-09060,Linda Holmes,1975-03-10,Analyst,Engineering,2017-04-08,gmatthews@thomas-brooks.net,(693)275-6139x50141,\"55917 Dean Mount Wilsonburgh, UT 04114\",\"Elizabeth Sherman, 001-823-186-6765x32106\",32500.16\r\n~ lujy-43320,Kari Marshall,1971-05-29,Salesperson,HR,2016-12-22,hbullock@campbell-thornton.com,001-682-327-8561x593,\"98828 Davidson Turnpike Apt. 695 East Elizabethmouth, UT 59144\",\"Brian Williams, 001-366-620-6101\",31685.78\r\n~ JHSA-42212,Joseph Powell,1967-10-10,Analyst,IT,2017-03-29,leereyes@moore-murray.com,+1-428-359-2564,\"75793 Joshua Circle Apt. 581 Michaelchester, LA 03098\",\"Darrell Ayala, 001-582-065-5220x67630\",34602.68\r\n~ oCls-11619,Jonathan Davis,1965-04-23,Salesperson,HR,2023-05-30,urichardson@green.biz,001-618-660-5312x4402,\"8377 Christopher Tunnel Apt. 948 Kennethfort, OH 11713\",\"Erik Bennett, 595-433-0351\",47644.42\r\n~ IcwE-15354,Chad Lee,1970-01-27,Engineer,Sales,2014-10-20,nwilkerson@thompson-williams.net,409-605-1973x0969,\"8024 Barnes Fort Lake Stephanie, IL 81564\",\"Curtis Bishop, 708-301-4894x61478\",65690.87\r\n~ Wonz-54984,Cassandra Odonnell,1987-07-19,Manager,Sales,2018-05-08,brandon80@phillips.com,583.964.6618x9973,\"PSC 1336, Box 8255 APO AA 49089\",\"William Hawkins, +1-252-674-0045x95202\",74048.44\r\n~ Iakt-80814,Lauren Mcclure,1999-02-05,Engineer,IT,2014-06-04,hailey95@yahoo.com,162.313.6318,\"16441 Jackie Fords West Jamesfort, CT 03360\",\"Alexandra Johnson, 001-220-583-6961x1819\",92551.41\r\n~ yaTI-68792,April Garcia,1977-09-21,Salesperson,Sales,2021-05-03,lorraine75@hotmail.com,+1-493-592-2405,\"74713 Bruce Hills Suite 700 Richardchester, SD 31120\",\"Patrick Bonilla, 6782823974\",64592.37\r\n~ HUra-13349,Denise Alvarado,1955-12-06,Engineer,Sales,2016-05-27,melissathomas@james.biz,001-753-522-8330x124,\"Unit 6429 Box 8612 DPO AE 78191\",\"Ashley Cannon, 001-428-905-9698x0592\",98422.36\r\n~ JeFa-63889,Veronica Walker,1989-06-30,Manager,Finance,2022-12-12,danielcampbell@koch-mcdonald.com,001-092-070-1181x893,\"37742 Edwards Way Stephenland, WV 70433\",\"Ronald Proctor, 078-081-4451x122\",80213.01\r\n~ mDCD-56737,Melissa Coffey,1969-10-13,Salesperson,Engineering,2014-06-13,bhays@hotmail.com,515-766-1546,\"7199 Susan Expressway Jonathanfort, OH 85482\",\"Michael Gibbs, (292)342-2572\",73766.76\r\n~ Ijej-69687,Kayla Hopkins,1984-09-29,Manager,IT,2015-12-08,fhamilton@hill.net,376-934-6232x480,\"8055 Stacy Viaduct North Michaelbury, OK 76140\",\"Diane Hernandez, +1-922-992-3507x195\",76302.43\r\n~ MSVh-02824,Dylan Hodges,1999-04-14,Engineer,IT,2017-09-30,bradleysimpson@gmail.com,001-864-933-2128x311,\"965 Paula Mount Suite 978 Katherinebury, ME 61823\",\"Jasmine White, 254-321-8174x0724\",33588.01\r\n~ IOQh-49917,Amanda Leonard,1961-09-30,Engineer,Sales,2020-05-05,steve74@morales.info,+1-143-304-8398x3303,\"50536 Chavez Creek Suite 109 Whiteville, OH 67037\",\"Alyssa Williams, 041.547.8238x39452\",53342.34\r\n~ Blvn-56793,Jared George,1993-02-14,Engineer,IT,2020-06-11,heatheralvarado@franklin-adams.info,301.474.8149x285,\"51846 Porter Via New Rachel, SD 69213\",\"Jennifer Ritter, +1-036-554-2498x111\",53319.55\r\n~ BvSu-72362,Ashley Fowler,1957-03-11,Clerk,Sales,2019-12-25,castrobrandon@hotmail.com,296-218-3168,\"24723 James Divide Apt. 431 Kellyville, SD 38623\",\"Katherine Hines, 001-306-329-4758x111\",41489.74\r\n~ SRXW-12152,Thomas Gilmore,1965-09-24,Salesperson,Finance,2022-07-07,freemanangela@henderson-preston.com,952-440-0527,\"409 Price Canyon Apt. 466 Port Christianview, NC 19806\",\"Wesley Bowman DDS, 324.918.2052\",30429.13\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'Large Employee Register',\r\n  id: 'employee-register',\r\n}\r\n\r\nexport default exportable;\r\n\r\n","\r\nconst schema = `\r\n# Employee Schema\r\n~ $employee: { name:string, age:{number, min:25}, isActive:bool,\r\njoiningDt:date, managers?*: $employee}\r\n~ $user: $employee\r\n~ $schema: $employee\r\n`.trim()\r\n\r\nconst doc = `\r\n~ John Doe, 25, T, d'2022-01-01',\r\n  { Peter Parker, 30, T, d'2018-10-01' }\r\n\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'Simple Deeply Nested Schema',\r\n  id: 'simple-deeply-nested-schema'\r\n}\r\n\r\nexport default exportable;\r\n","\r\nconst schema = `\r\n# Employee Schema\r\n~ $employee: { name:string, age:{number, min:25}, isActive:bool, joiningDt:date, reportingTo?*: $employee }\r\n~ $schema: $employee\r\n`.trim()\r\n\r\nconst doc = `\r\n~ John Doe, 25, T, d'2022-01-01', { Peter Parker, 30, T, d'2018-10-01' }\r\n~ Peter Parker, 30, T, d'2018-10-01', { Tony Stark, 40, T, d'2015-10-01' }\r\n~ Tony Stark, 40, T, d'2015-10-01'\r\n~ Bruce Wayne, 45, T, d'2010-10-01', { Clark Kent, 35, T, d'2005-10-01' }\r\n~ Clark Kent, 35, T, d'2005-10-01', { Jane Doe, 25, T, d'2022-01-01' }\r\n~ Jane Doe, 25, T, d'2022-01-01', N\r\n\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'Recursive Schema Complex',\r\n  id: 'recursive-schema-comples'\r\n}\r\n\r\nexport default exportable;\r\n","\r\nexport type SampleOptionItem = {\r\n  id: string\r\n  name: string,\r\n  doc:string,\r\n  schema:string | null,\r\n  schemaPanelHeight?:number,\r\n}\r\n\r\ntype SampleOptionGroup = { group: string, items: SampleOptionItem[] }\r\n\r\n\r\nclass SampleOptions {\r\n  public groups: SampleOptionGroup[] = []\r\n  find(id:string):SampleOptionItem | undefined {\r\n    for (let group of this.groups) {\r\n      for (let item of group.items) {\r\n        if (item.id === id) return item\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default SampleOptions","const schema = `\r\n# The products schema, defines the structure of the products data\r\npid: {string, pattern: r'[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}'},\r\nname: string,       # The product name\r\nshortDesc: string,  # The short description of the product\r\nimage: url,         # The product image URL\r\nprice: number,      # The product price\r\nisAvailable: bool,  # The availability of the product\r\ncategory: { string, choices: [electronics, fashion, home, kitchen, sports] }, # The product category\r\noffer?: { # Optional\r\n  discount: number,     # The discount value\r\n  validTill: datetime   # The offer valid till date\r\n},\r\ntags: [string]      # The product tags\r\n`.trim()\r\n\r\nconst doc = `\r\n~ success: T\r\n~ errorMessage: N\r\n~ recordCount: 102\r\n~ pageNo: 11\r\n~ nextPage: /api/v1/products?page=10\r\n~ prevPage: /api/v1/products?page=12\r\n---\r\n~ 1a2b3c4d-5e6f-7g8h, Apple iPhone 13, The latest iPhone, \"https://example.com/iphone13.jpg\", 999.99, T, electronics, {10, d'2022-12-31'}, [apple, iphone, smartphone]\r\n~ 2b3c4d5e-6f7g-8h9i, Samsung Galaxy S21, The latest Samsung Galaxy, \"https://example.com/samsungs21.jpg\", 899.99, T, electronics, {15, d'2022-12-31'}, [samsung, galaxy, smartphone]\r\n~ 3c4d5e6f-7g8h-9i0j, Sony PlayStation 5, The latest PlayStation, \"https://example.com/ps5.jpg\", 499.99, T, electronics,, [sony, playstation, gaming]\r\n~ 4d5e6f7g-8h9i-0j1k, Apple MacBook Pro, The latest MacBook, \"https://example.com/macbookpro.jpg\", 1999.99, T, electronics, {25, d'2022-12-31'}, [apple, macbook, laptop]\r\n~ 5e6f7g8h-9i0j-1k2l, Nike Air Zoom Pegasus 38, The latest Nike shoes, \"https://example.com/nikeairzoom.jpg\", 129.99, T, sports,, [nike, shoes, running]\r\n~ 6f7g8h9i-0j1k-82l3, Adidas Ultraboost 21, The latest Adidas shoes, \"https://example.com/adidasultraboost.jpg\", 149.99, T, sports, {35, d'2022-12-31'}, [adidas, shoes, running]\r\n~ 7g8h9i08-1j2k-5m68, Samsung Galaxy Watch 4, The latest Samsung smartwatch, \"https://example.com/samsungwatch.jpg\", 299.99, T, electronics, {40, d'2022-12-31'}, [samsung, watch, smartwatch]\r\n~ 8h9i03j1-2k35-6nrp, Apple AirPods Pro, The latest Apple earbuds, \"https://example.com/airpodspro.jpg\", 199.99, T, electronics, {45, d'2022-12-31'}, [apple, airpods, earbuds]\r\n~ 9i0j1kf2-3l46-7o8q, Sony WH-1000XM4, The latest Sony headphones, \"https://example.com/sonywh1000xm4.jpg\", 349.99, T, electronics,, [sony, headphones, wireless]\r\n~ 0j1k2lf3-4m57-8p9r, Apple Watch Series 7, The latest Apple smartwatch, \"https://example.com/applewatch.jpg\", 399.99, T, electronics, {55, d'2022-12-31'}, [apple, watch, smartwatch]\r\n~ 1k2l3m44-5n68-9q0s, Bose QuietComfort 45, The latest Bose headphones, \"https://example.com/boseqc45.jpg\", 299.99, T, electronics, {60, d'2022-12-31'}, [bose, headphones, wireless]\r\n~ 2l3m4dn5-6o79-0r1t, GoPro Hero 10, The latest GoPro camera, \"https://example.com/goprohero10.jpg\", 399.99, T, electronics,, [gopro, camera, action]\r\n~ 3m4nc5c6-7p80-1s2u, Canon EOS R5, The latest Canon camera, \"https://example.com/canoneosr5.jpg\", 3999.99, T, electronics, {70, d'2022-12-31'}, [canon, camera, mirrorless]\r\n~ 4n5o6cp7-8q91-2t3v, Sony A7 IV, The latest Sony camera, \"https://example.com/sonya7iv.jpg\", 2499.99, T, electronics, {75, d'2022-12-31'}, [sony, camera, mirrorless]\r\n~ 5o6p7cq8-9r02-3u4w, Nikon Z9, The latest Nikon camera, \"https://example.com/nikonz9.jpg\", 5499.99, T, electronics,, [nikon, camera, mirrorless]\r\n~ 6p7q8rd9-0s13-4v5x, Canon EOS R3, The latest Canon camera, \"https://example.com/canoneosr3.jpg\", 5999.99, T, electronics, {85, d'2022-12-31'}, [canon, camera, mirrorless]\r\n~ 7q8r9ds0-1t24-5w6y, Sony A1, The latest Sony camera, \"https://example.com/sonya1.jpg\", 6499.99, T, electronics,, [sony, camera, mirrorless]\r\n~ 8r9s0st1-2u35-6x7z, Nikon Z7 II, The latest Nikon camera, \"https://example.com/nikonz7ii.jpg\", 2999.99, T, electronics, {95, d'2022-12-31'}, [nikon, camera, mirrorless]\r\n~ 9s0t1fu2-3v46-7y8a, Canon EOS R6, The latest Canon camera, \"https://example.com/canoneosr6.jpg\", 2499.99, T, electronics, {100, d'2022-12-31'}, [canon, camera, mirrorless]\r\n~ 0t1u2cv3-4w57-8z9b, Nikon Z6 II, The latest Nikon camera, \"https://example.com/nikonz6ii.jpg\", 1999.99, T, electronics,, [nikon, camera, mirrorless]\r\n~ 1u2vg3w4-5x68-9a0c, Canon EOS R5 C, The latest Canon camera, \"https://example.com/canoneosr5c.jpg\", 4499.99, T, electronics, {110, d'2022-12-31'}, [canon, camera, cinema]\r\n~ 2v3wf4x5-6y79-0b1d, Nikon Z9 II, The latest Nikon camera, \"https://example.com/nikonz9ii.jpg\", 5999.99, T, electronics,, [nikon, camera, mirrorless]\r\n~ 3w4x5ff6-7z80-1c2e, Canon EOS R3 C, The latest Canon camera, \"https://example.com/canoneosr3c.jpg\", 6499.99, T, electronics,, [canon, camera, cinema]\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'REST API Collection Response',\r\n  id: 'rest-api-collection-response',\r\n  schemaPanelHeight: 300,\r\n}\r\n\r\nexport default exportable;\r\n","const schema = `\r\n# The products schema, defines the structure of the products data\r\n~ $products: {\r\n  pid: {string, pattern: r'[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}'},\r\n  name: string,       # The product name\r\n  shortDesc: string,  # The short description of the product\r\n  image: url,         # The product image URL\r\n  price: number,      # The product price\r\n  isAvailable: bool,  # The availability of the product\r\n  category: { string, choices: [electronics, fashion, home, kitchen, sports] }, # The product category\r\n  offer?: { discount: number, validTill: datetime }, # Optional offer details\r\n  tags: [string]      # The product tags\r\n}\r\n~ $categories: { name: string, description: string, image: url}\r\n\r\n`.trim()\r\n\r\nconst doc = `\r\n~ success: T\r\n~ errorMessage: N\r\n~ productsRes: {\r\n    recordCount: 102,\r\n    pageNo: 11,\r\n    nextPage: /api/v1/products?page=10,\r\n    prevPage: /api/v1/products?page=12\r\n  }\r\n~ categoriesRes: {\r\n\r\n  }\r\n\r\n--- $categories\r\n~ electronics, Electronics, \"https://example.com/electronics.jpg\"\r\n~ sports, Sports, \"https://example.com/sports.jpg\"\r\n~ fashion, Fashion, \"https://example.com/fashion.jpg\"\r\n~ home, Home, \"https://example.com/home.jpg\"\r\n~ kitchen, Kitchen, \"https://example.com/kitchen.jpg\"\r\n\r\n--- $products\r\n~ 1a2b3c4d-5e6f-7g8h, Apple iPhone 13, The latest iPhone, \"https://example.com/iphone13.jpg\", 999.99, T, electronics, {10, d'2022-12-31'}, [apple, iphone, smartphone]\r\n~ 2b3c4d5e-6f7g-8h9i, Samsung Galaxy S21, The latest Samsung Galaxy, \"https://example.com/samsungs21.jpg\", 899.99, T, electronics, {15, d'2022-12-31'}, [samsung, galaxy, smartphone]\r\n~ 3c4d5e6f-7g8h-9i0j, Sony PlayStation 5, The latest PlayStation, \"https://example.com/ps5.jpg\", 499.99, T, electronics,, [sony, playstation, gaming]\r\n~ 4d5e6f7g-8h9i-0j1k, Apple MacBook Pro, The latest MacBook, \"https://example.com/macbookpro.jpg\", 1999.99, T, electronics, {25, d'2022-12-31'}, [apple, macbook, laptop]\r\n~ 5e6f7g8h-9i0j-1k2l, Nike Air Zoom Pegasus 38, The latest Nike shoes, \"https://example.com/nikeairzoom.jpg\", 129.99, T, sports,, [nike, shoes, running]\r\n~ 6f7g8h9i-0j1k-82l3, Adidas Ultraboost 21, The latest Adidas shoes, \"https://example.com/adidasultraboost.jpg\", 149.99, T, sports, {35, d'2022-12-31'}, [adidas, shoes, running]\r\n~ 7g8h9i08-1j2k-5m68, Samsung Galaxy Watch 4, The latest Samsung smartwatch, \"https://example.com/samsungwatch.jpg\", 299.99, T, electronics, {40, d'2022-12-31'}, [samsung, watch, smartwatch]\r\n~ 8h9i03j1-2k35-6nrp, Apple AirPods Pro, The latest Apple earbuds, \"https://example.com/airpodspro.jpg\", 199.99, T, electronics, {45, d'2022-12-31'}, [apple, airpods, earbuds]\r\n~ 9i0j1kf2-3l46-7o8q, Sony WH-1000XM4, The latest Sony headphones, \"https://example.com/sonywh1000xm4.jpg\", 349.99, T, electronics,, [sony, headphones, wireless]\r\n~ 0j1k2lf3-4m57-8p9r, Apple Watch Series 7, The latest Apple smartwatch, \"https://example.com/applewatch.jpg\", 399.99, T, electronics, {55, d'2022-12-31'}, [apple, watch, smartwatch]\r\n~ 1k2l3m44-5n68-9q0s, Bose QuietComfort 45, The latest Bose headphones, \"https://example.com/boseqc45.jpg\", 299.99, T, electronics, {60, d'2022-12-31'}, [bose, headphones, wireless]\r\n~ 2l3m4dn5-6o79-0r1t, GoPro Hero 10, The latest GoPro camera, \"https://example.com/goprohero10.jpg\", 399.99, T, electronics,, [gopro, camera, action]\r\n~ 3m4nc5c6-7p80-1s2u, Canon EOS R5, The latest Canon camera, \"https://example.com/canoneosr5.jpg\", 3999.99, T, electronics, {70, d'2022-12-31'}, [canon, camera, mirrorless]\r\n~ 4n5o6cp7-8q91-2t3v, Sony A7 IV, The latest Sony camera, \"https://example.com/sonya7iv.jpg\", 2499.99, T, electronics, {75, d'2022-12-31'}, [sony, camera, mirrorless]\r\n~ 5o6p7cq8-9r02-3u4w, Nikon Z9, The latest Nikon camera, \"https://example.com/nikonz9.jpg\", 5499.99, T, electronics,, [nikon, camera, mirrorless]\r\n~ 6p7q8rd9-0s13-4v5x, Canon EOS R3, The latest Canon camera, \"https://example.com/canoneosr3.jpg\", 5999.99, T, electronics, {85, d'2022-12-31'}, [canon, camera, mirrorless]\r\n~ 7q8r9ds0-1t24-5w6y, Sony A1, The latest Sony camera, \"https://example.com/sonya1.jpg\", 6499.99, T, electronics,, [sony, camera, mirrorless]\r\n~ 8r9s0st1-2u35-6x7z, Nikon Z7 II, The latest Nikon camera, \"https://example.com/nikonz7ii.jpg\", 2999.99, T, electronics, {95, d'2022-12-31'}, [nikon, camera, mirrorless]\r\n~ 9s0t1fu2-3v46-7y8a, Canon EOS R6, The latest Canon camera, \"https://example.com/canoneosr6.jpg\", 2499.99, T, electronics, {100, d'2022-12-31'}, [canon, camera, mirrorless]\r\n~ 0t1u2cv3-4w57-8z9b, Nikon Z6 II, The latest Nikon camera, \"https://example.com/nikonz6ii.jpg\", 1999.99, T, electronics,, [nikon, camera, mirrorless]\r\n~ 1u2vg3w4-5x68-9a0c, Canon EOS R5 C, The latest Canon camera, \"https://example.com/canoneosr5c.jpg\", 4499.99, T, electronics, {110, d'2022-12-31'}, [canon, camera, cinema]\r\n~ 2v3wf4x5-6y79-0b1d, Nikon Z9 II, The latest Nikon camera, \"https://example.com/nikonz9ii.jpg\", 5999.99, T, electronics,, [nikon, camera, mirrorless]\r\n~ 3w4x5ff6-7z80-1c2e, Canon EOS R3 C, The latest Canon camera, \"https://example.com/canoneosr3c.jpg\", 6499.99, T, electronics,, [canon, camera, cinema]\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'REST API Multiple Collection Response',\r\n  id: 'rest-api-multiple-collections-response',\r\n  schemaPanelHeight: 300,\r\n}\r\n\r\nexport default exportable;\r\n","const schema = `\r\n# Showcases the validated way to store nested and tabular structured logs using\r\n# Internet Object! Superior to CSV and JSON, Internet Object is perfectly suited\r\n# for any structured data, including logs.\r\n~ $log: { # The structured log object definition\r\n  timestamp: datetime,\r\n  level: {string, choices:[info, warn, error]},\r\n  message: string,\r\n  user: string,\r\n  session: {string, pattern: r\"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$\"},\r\n  details: {\r\n    ipAddress: string,\r\n    browser: string,\r\n    os: string,\r\n    device: string\r\n  }\r\n}\r\n~ $schema: $log\r\n`.trim()\r\n\r\nconst doc = `\r\n~ dt\"2024-04-20T00:47:21Z\", error, Login attempt failed, annbrown, \"471dbfa8-c3d4-4888-b7a7-02bcfeeadf00\", {122.27.53.82, Safari 14.0, Windows 10, Tablet}\r\n~ dt\"2024-04-20T04:36:04Z\", info, User logged in, annbrown, \"55bf3d74-f4b9-43f0-ba4e-3215c24b80cb\", {205.71.80.66, Firefox 89.0, Ubuntu 20.04, Mobile}\r\n~ dt\"2024-04-20T06:08:04Z\", info, User logged in, johndoe, \"91d9ba1b-8123-4baf-86ff-5b0cbf2e6d92\", {101.62.46.76, Safari 14.0, Android 11, Tablet}\r\n~ dt\"2024-04-20T06:46:04Z\", error, Login attempt failed, janedoe, \"7181637f-e977-4744-b4f2-3fe77b0a4ac5\", {254.31.22.32, Chrome 91.0, Windows 10, Desktop}\r\n~ dt\"2024-04-20T09:55:04Z\", error, Login attempt failed, annbrown, \"ca9c0858-a894-40ff-a486-a868fee9b4eb\", {235.74.34.84, Chrome 91.0, Windows 10, Laptop}\r\n~ dt\"2024-04-20T10:23:04Z\", error, Login attempt failed, janedoe, \"e298547c-5dd7-464d-b79c-09a1a597f847\", {175.87.54.34, Safari 14.0, macOS 11.4, Laptop}\r\n~ dt\"2024-04-20T12:20:04Z\", error, Login attempt failed, johndoe, \"6558d335-acb2-4de4-a7aa-be1f7663ad0e\", {133.12.60.80, Safari 14.0, Windows 10, Laptop}\r\n~ dt\"2024-04-20T14:17:04Z\", info, User logged in, janedoe, \"a9182934-3e2e-4242-88d5-6439ecfa9f93\", {163.97.31.17, Firefox 89.0, Windows 10, Desktop}\r\n~ dt\"2024-04-20T15:18:04Z\", info, User logged in, mikesmith, \"80deff88-b7c1-47cb-be34-0ae441c781aa\", {227.11.38.95, Edge 91.0, Ubuntu 20.04, Laptop}\r\n~ dt\"2024-04-20T16:55:21Z\", error, Login attempt failed, annbrown, \"534cc4f2-d84a-4844-9d47-1a0c72482c7f\", {241.33.52.33, Firefox 89.0, macOS 11.4, Mobile}\r\n~ dt\"2024-04-21T02:54:04Z\", error, Login attempt failed, annbrown, \"7754193e-0bb8-47bd-9f40-bed5256c8fb7\", {181.13.14.79, Safari 14.0, Windows 10, Mobile}\r\n~ dt\"2024-04-21T03:52:04Z\", error, Login attempt failed, johndoe, \"a594da3e-ac27-408a-b7ff-03787bcfdc3e\", {166.53.89.15, Chrome 91.0, Ubuntu 20.04, Laptop}\r\n~ dt\"2024-04-21T03:54:04Z\", warn, User session expired, mikesmith, \"38b68ec6-cee3-4ab4-ae9f-12c924f83c4b\", {181.45.63.40, Chrome 91.0, Android 11, Laptop}\r\n~ dt\"2024-04-21T04:19:04Z\", warn, User session expired, annbrown, \"96dc045d-e7af-49d1-89da-55ff9ebd8150\", {104.56.86.74, Chrome 91.0, Android 11, Tablet}\r\n~ dt\"2024-04-21T06:36:21Z\", error, Login attempt failed, johndoe, \"e3e64ad1-5b43-4041-91d8-6829f77e3881\", {178.33.34.37, Chrome 91.0, Windows 10, Laptop}\r\n~ dt\"2024-04-21T07:44:04Z\", info, User logged in, mikesmith, \"a168b755-ea73-4409-85d8-51113ba415f9\", {159.70.13.88, Safari 14.0, Windows 10, Desktop}\r\n~ dt\"2024-04-21T13:35:04Z\", info, User logged in, annbrown, \"362c202d-f77a-492e-a209-9f899f48e612\", {212.13.97.56, Edge 91.0, macOS 11.4, Mobile}\r\n~ dt\"2024-04-21T13:56:04Z\", warn, User session expired, mikesmith, \"bd3d3010-e3fd-4051-880b-05e0556f83b7\", {212.96.27.48, Edge 91.0, Ubuntu 20.04, Mobile}\r\n~ dt\"2024-04-21T14:40:04Z\", info, User logged in, johndoe, \"8aca7cda-ab6c-4969-b6e9-b34524d7f1bc\", {210.32.71.90, Edge 91.0, Ubuntu 20.04, Tablet}\r\n~ dt\"2024-04-21T15:48:04Z\", info, User logged in, annbrown, \"ac85cf4f-8f1e-4532-bfc8-247b9c5f48fb\", {156.99.93.33, Safari 14.0, Android 11, Desktop}\r\n~ dt\"2024-04-21T17:11:04Z\", warn, User session expired, annbrown, \"0cbb90ce-528c-46ad-aa6d-8df07fc2d056\", {215.53.56.83, Safari 14.0, Windows 10, Desktop}\r\n~ dt\"2024-04-21T17:34:04Z\", error, Login attempt failed, johndoe, \"da260803-9ab4-46b8-9e1c-457f9d97b6e4\", {137.54.43.88, Chrome 91.0, Android 11, Tablet}\r\n~ dt\"2024-04-21T18:06:21Z\", warn, User session expired, annbrown, \"75b6ad46-1716-4bdf-87a5-2ce1be3a21f4\", {171.56.75.99, Edge 91.0, Android 11, Desktop}\r\n~ dt\"2024-04-21T21:26:04Z\", info, User logged in, janedoe, \"6c5b6591-ca18-4781-928d-15f4d08e1a09\", {209.80.55.45, Edge 91.0, macOS 11.4, Desktop}\r\n~ dt\"2024-04-21T21:47:21Z\", info, User logged in, annbrown, \"7a27d3aa-5b91-4d34-9011-83f9b3e1721a\", {115.13.90.53, Safari 14.0, Android 11, Mobile}\r\n~ dt\"2024-04-22T00:32:04Z\", warn, User session expired, janedoe, \"572acebc-a25b-4511-8008-278aeb60c4f6\", {170.57.96.47, Firefox 89.0, Windows 10, Mobile}\r\n~ dt\"2024-04-22T03:05:13Z\", warn, User session expired, janedoe, \"a8b4cf55-bf09-4326-b699-be97498a13cd\", {242.50.77.27, Chrome 91.0, macOS 11.4, Desktop}\r\n~ dt\"2024-04-22T03:47:04Z\", warn, User session expired, johndoe, \"b4cde40c-4952-45a6-b459-636f6306cd78\", {220.79.82.19, Safari 14.0, Ubuntu 20.04, Tablet}\r\n~ dt\"2024-04-22T04:30:04Z\", error, Login attempt failed, johndoe, \"6e9ee1ad-3d35-49fd-8424-6fe55ff9550c\", {205.85.28.65, Safari 14.0, Android 11, Desktop}\r\n~ dt\"2024-04-22T04:33:04Z\", warn, User session expired, annbrown, \"a0470d98-c513-4b25-8deb-445f758c3e95\", {243.77.61.46, Edge 91.0, Android 11, Desktop}\r\n~ dt\"2024-04-22T06:00:04Z\", error, Login attempt failed, mikesmith, \"708428be-97ec-4f98-bc2e-9f108a29b8ee\", {251.97.97.93, Chrome 91.0, macOS 11.4, Desktop}\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'Logging (Structured) User Activity',\r\n  id: 'structured-logging',\r\n  schemaPanelHeight: 370,\r\n}\r\n\r\nexport default exportable;\r\n","const schema = `\r\n# For multi-task training, where a single model is trained to predict multiple outputs,\r\n# nested tabular data can be very useful for organizing related tasks and their respective features.\r\n# Here's an example in the Internet Object format, where the model needs to predict both user\r\n# engagement (e.g., clicks, likes) and user churn based on user behavior and demographics:\r\n~ $user: {\r\n  userId: int,\r\n  demographics: {age: int, gender: {string, choices:[\"male\", \"female\", \"other\"]}, location: string},\r\n  behavior: {dailyUsage: float, recentActivityCount: int},  # hours per day and number of activities\r\n  tasks: {\r\n    engagement: {clicks: int, likes: int},\r\n    churnRisk: bool\r\n  }\r\n}\r\n~ $schema: $user\r\n`.trim()\r\n\r\nconst doc = `\r\n~ 1, {60, male, New York}, {4.6, 3}, {{4, 7}, F}\r\n~ 2, {23, other, Illinois}, {0.7, 30}, {{1, 9}, T}\r\n~ 3, {18, female, Florida}, {2.1, 11}, {{5, 2}, T}\r\n~ 4, {50, other, Florida}, {1.4, 2}, {{5, 5}, T}\r\n~ 5, {45, other, Texas}, {3.8, 22}, {{4, 2}, F}\r\n~ 6, {63, other, Illinois}, {4.9, 23}, {{8, 3}, F}\r\n~ 7, {53, other, Florida}, {3.8, 19}, {{5, 5}, T}\r\n~ 8, {56, other, Illinois}, {0.7, 6}, {{2, 0}, T}\r\n~ 9, {47, male, New York}, {3.1, 9}, {{0, 6}, F}\r\n~ 10, {44, female, New York}, {2.4, 17}, {{5, 8}, F}\r\n~ 11, {44, other, New York}, {3.4, 17}, {{2, 4}, F}\r\n~ 12, {20, female, New York}, {4.3, 12}, {{7, 10}, F}\r\n~ 13, {40, other, Illinois}, {2.7, 11}, {{2, 2}, F}\r\n~ 14, {49, other, California}, {2.3, 16}, {{6, 8}, F}\r\n~ 15, {27, female, Texas}, {1.0, 26}, {{0, 4}, T}\r\n~ 16, {64, male, Florida}, {4.9, 16}, {{3, 8}, T}\r\n~ 17, {31, male, Texas}, {1.8, 29}, {{5, 3}, F}\r\n~ 18, {20, other, Texas}, {2.2, 26}, {{9, 1}, F}\r\n~ 19, {62, female, Illinois}, {2.6, 19}, {{9, 10}, T}\r\n~ 20, {18, other, California}, {1.3, 20}, {{0, 1}, F}\r\n~ 21, {53, male, Florida}, {4.2, 6}, {{0, 4}, F}\r\n~ 22, {45, other, California}, {2.6, 12}, {{6, 3}, F}\r\n~ 23, {50, other, Texas}, {2.7, 1}, {{3, 9}, T}\r\n~ 24, {56, male, Florida}, {2.5, 5}, {{2, 6}, F}\r\n~ 25, {32, female, Texas}, {1.5, 20}, {{9, 0}, T}\r\n~ 26, {38, other, Florida}, {4.8, 23}, {{10, 8}, T}\r\n~ 27, {27, female, Texas}, {1.8, 2}, {{3, 9}, F}\r\n~ 28, {26, other, Texas}, {3.3, 8}, {{1, 5}, F}\r\n~ 29, {37, female, Illinois}, {2.9, 13}, {{8, 2}, T}\r\n~ 30, {21, female, Texas}, {2.6, 2}, {{1, 7}, T}\r\n~ 31, {28, female, Illinois}, {3.2, 2}, {{5, 4}, T}\r\n~ 32, {36, other, Florida}, {1.5, 17}, {{7, 0}, F}\r\n~ 33, {39, female, Texas}, {2.3, 19}, {{0, 3}, T}\r\n~ 34, {47, other, Texas}, {0.6, 7}, {{8, 1}, F}\r\n~ 35, {62, other, Florida}, {4.1, 19}, {{1, 7}, T}\r\n~ 36, {43, male, Florida}, {3.6, 18}, {{0, 8}, F}\r\n~ 37, {34, male, Texas}, {2.4, 27}, {{4, 8}, T}\r\n~ 38, {47, female, New York}, {2.9, 22}, {{0, 2}, F}\r\n~ 39, {44, other, Texas}, {4.9, 3}, {{1, 0}, F}\r\n~ 40, {25, other, Florida}, {2.3, 23}, {{6, 6}, F}\r\n~ 41, {33, other, California}, {3.1, 20}, {{1, 0}, T}\r\n~ 42, {23, female, Florida}, {3.0, 24}, {{4, 3}, T}\r\n~ 43, {37, female, California}, {1.8, 12}, {{0, 6}, T}\r\n~ 44, {49, male, California}, {4.3, 24}, {{6, 8}, T}\r\n~ 45, {34, other, Florida}, {1.3, 8}, {{0, 0}, T}\r\n~ 46, {50, female, California}, {3.8, 18}, {{10, 1}, T}\r\n~ 47, {48, female, New York}, {3.1, 29}, {{1, 7}, T}\r\n~ 48, {38, female, California}, {1.5, 30}, {{2, 3}, F}\r\n~ 49, {51, male, New York}, {4.7, 20}, {{4, 5}, F}\r\n~ 50, {29, other, Florida}, {3.9, 6}, {{10, 0}, F}\r\n~ 51, {45, male, California}, {1.0, 28}, {{8, 4}, F}\r\n~ 52, {44, male, Florida}, {2.9, 10}, {{10, 2}, T}\r\n~ 53, {35, female, New York}, {1.9, 17}, {{5, 10}, T}\r\n~ 54, {54, female, Florida}, {0.6, 29}, {{9, 7}, F}\r\n~ 55, {40, female, Illinois}, {2.7, 29}, {{3, 9}, F}\r\n~ 56, {28, female, California}, {1.8, 12}, {{1, 8}, T}\r\n~ 57, {19, male, Florida}, {3.1, 3}, {{5, 9}, F}\r\n~ 58, {51, other, New York}, {0.6, 5}, {{9, 3}, T}\r\n~ 59, {61, female, Texas}, {3.6, 2}, {{4, 1}, T}\r\n~ 60, {36, male, California}, {3.7, 21}, {{6, 10}, F}\r\n~ 61, {30, female, New York}, {4.8, 25}, {{2, 4}, T}\r\n~ 62, {35, other, Illinois}, {4.4, 14}, {{1, 8}, T}\r\n~ 63, {35, male, Texas}, {4.9, 5}, {{0, 2}, T}\r\n~ 64, {33, female, Illinois}, {1.5, 1}, {{7, 10}, F}\r\n~ 65, {35, male, Illinois}, {2.2, 6}, {{8, 8}, T}\r\n~ 66, {48, other, New York}, {2.9, 3}, {{0, 9}, F}\r\n~ 67, {64, male, California}, {0.6, 25}, {{3, 4}, F}\r\n~ 68, {29, male, Illinois}, {1.7, 13}, {{6, 8}, T}\r\n~ 69, {40, male, California}, {1.4, 25}, {{0, 8}, F}\r\n~ 70, {32, other, New York}, {3.3, 6}, {{6, 9}, T}\r\n~ 71, {61, female, California}, {0.6, 24}, {{9, 1}, F}\r\n~ 72, {37, female, Illinois}, {2.5, 21}, {{3, 7}, T}\r\n~ 73, {35, other, Florida}, {0.5, 0}, {{4, 10}, F}\r\n~ 74, {56, other, California}, {3.7, 3}, {{7, 8}, F}\r\n~ 75, {36, male, New York}, {1.5, 6}, {{8, 2}, T}\r\n~ 76, {35, other, California}, {1.9, 17}, {{5, 2}, T}\r\n~ 77, {26, male, New York}, {1.4, 15}, {{5, 0}, T}\r\n~ 78, {43, other, Texas}, {1.4, 23}, {{3, 2}, F}\r\n~ 79, {20, other, New York}, {4.8, 4}, {{6, 2}, T}\r\n~ 80, {58, other, Florida}, {3.2, 25}, {{9, 4}, F}\r\n~ 81, {30, male, Florida}, {2.5, 27}, {{9, 4}, T}\r\n~ 82, {32, other, Texas}, {4.2, 11}, {{3, 4}, T}\r\n~ 83, {39, male, New York}, {3.4, 9}, {{7, 6}, T}\r\n~ 84, {21, male, Illinois}, {3.4, 19}, {{6, 7}, F}\r\n~ 85, {61, other, Illinois}, {4.2, 24}, {{3, 2}, T}\r\n~ 86, {24, female, Florida}, {3.2, 25}, {{5, 3}, T}\r\n~ 87, {56, male, California}, {2.7, 27}, {{7, 5}, F}\r\n~ 88, {36, male, Texas}, {2.5, 15}, {{7, 7}, T}\r\n~ 89, {59, other, Florida}, {1.1, 17}, {{2, 5}, T}\r\n~ 90, {32, female, New York}, {1.4, 25}, {{1, 1}, T}\r\n~ 91, {60, female, New York}, {3.8, 15}, {{6, 7}, T}\r\n~ 92, {23, male, New York}, {3.0, 18}, {{7, 3}, F}\r\n~ 93, {28, other, New York}, {3.0, 27}, {{0, 10}, T}\r\n~ 94, {56, other, Florida}, {3.8, 25}, {{10, 2}, F}\r\n~ 95, {22, male, Texas}, {4.1, 17}, {{7, 5}, T}\r\n~ 96, {55, female, Illinois}, {4.1, 30}, {{1, 10}, F}\r\n~ 97, {43, male, Texas}, {3.1, 19}, {{5, 9}, T}\r\n~ 98, {24, male, New York}, {2.6, 14}, {{3, 7}, T}\r\n~ 99, {50, female, Texas}, {2.7, 1}, {{1, 2}, F}\r\n~ 100, {30, male, Florida}, {4.2, 14}, {{10, 8}, T}\r\n~ 101, {60, other, Illinois}, {4.6, 30}, {{8, 4}, T}\r\n~ 102, {28, other, New York}, {4.0, 21}, {{6, 0}, T}\r\n~ 103, {22, other, Texas}, {3.3, 10}, {{6, 9}, F}\r\n~ 104, {51, male, Illinois}, {2.8, 28}, {{10, 10}, F}\r\n~ 105, {21, male, New York}, {1.6, 1}, {{9, 3}, F}\r\n~ 106, {21, male, Texas}, {3.1, 1}, {{0, 2}, F}\r\n~ 107, {27, female, New York}, {4.2, 30}, {{9, 2}, T}\r\n~ 108, {61, male, Illinois}, {2.5, 17}, {{4, 10}, T}\r\n~ 109, {18, female, Texas}, {1.9, 0}, {{7, 9}, F}\r\n~ 110, {44, male, Texas}, {3.6, 21}, {{6, 10}, T}\r\n~ 111, {48, female, Florida}, {2.5, 23}, {{8, 5}, F}\r\n~ 112, {51, female, Illinois}, {3.1, 23}, {{9, 5}, T}\r\n~ 113, {61, male, Texas}, {3.6, 4}, {{10, 8}, T}\r\n~ 114, {50, female, Illinois}, {1.9, 29}, {{1, 1}, F}\r\n~ 115, {38, female, Illinois}, {1.7, 2}, {{10, 10}, T}\r\n~ 116, {19, male, Illinois}, {0.6, 24}, {{2, 0}, T}\r\n~ 117, {19, male, Texas}, {1.0, 11}, {{0, 1}, T}\r\n~ 118, {31, male, Illinois}, {2.1, 27}, {{5, 1}, T}\r\n~ 119, {33, male, New York}, {1.2, 2}, {{0, 9}, T}\r\n~ 120, {37, male, California}, {4.2, 1}, {{8, 6}, F}\r\n~ 121, {37, female, Illinois}, {4.5, 24}, {{5, 8}, T}\r\n~ 122, {52, other, California}, {1.7, 14}, {{10, 2}, F}\r\n~ 123, {44, male, Texas}, {1.0, 24}, {{2, 9}, T}\r\n~ 124, {65, female, Florida}, {4.2, 4}, {{8, 2}, F}\r\n~ 125, {20, male, New York}, {2.2, 27}, {{4, 10}, T}\r\n~ 126, {33, male, California}, {3.9, 29}, {{9, 10}, F}\r\n~ 127, {38, other, California}, {4.9, 1}, {{9, 6}, F}\r\n~ 128, {55, male, California}, {2.6, 29}, {{5, 3}, F}\r\n~ 129, {49, female, Illinois}, {1.7, 6}, {{4, 7}, F}\r\n~ 130, {59, male, Texas}, {3.1, 7}, {{7, 4}, F}\r\n~ 131, {52, male, Illinois}, {3.2, 5}, {{3, 2}, F}\r\n~ 132, {25, other, Texas}, {0.5, 23}, {{6, 6}, T}\r\n~ 133, {36, female, Florida}, {2.4, 3}, {{9, 6}, F}\r\n~ 134, {35, male, Florida}, {2.5, 18}, {{2, 0}, F}\r\n~ 135, {18, other, California}, {0.9, 0}, {{9, 4}, T}\r\n~ 136, {50, female, Florida}, {1.8, 11}, {{6, 2}, T}\r\n~ 137, {47, male, Illinois}, {3.3, 5}, {{6, 6}, T}\r\n~ 138, {24, male, California}, {2.8, 24}, {{8, 9}, T}\r\n~ 139, {26, male, California}, {2.0, 17}, {{10, 2}, T}\r\n~ 140, {38, male, New York}, {2.3, 9}, {{9, 10}, T}\r\n~ 141, {36, other, Texas}, {1.2, 26}, {{0, 9}, F}\r\n~ 142, {31, male, Florida}, {4.1, 17}, {{3, 10}, F}\r\n~ 143, {49, male, Texas}, {2.0, 9}, {{0, 10}, T}\r\n~ 144, {18, male, Florida}, {3.1, 10}, {{0, 1}, T}\r\n~ 145, {49, female, Illinois}, {1.7, 18}, {{2, 4}, F}\r\n~ 146, {20, other, Illinois}, {4.9, 19}, {{7, 3}, T}\r\n~ 147, {51, female, Florida}, {2.5, 1}, {{2, 3}, F}\r\n~ 148, {58, male, Florida}, {3.9, 29}, {{3, 3}, T}\r\n~ 149, {51, other, Florida}, {1.4, 4}, {{10, 6}, F}\r\n~ 150, {56, female, California}, {4.5, 4}, {{10, 1}, F}\r\n~ 151, {22, other, Florida}, {3.5, 18}, {{0, 2}, F}\r\n~ 152, {18, male, Illinois}, {2.9, 1}, {{10, 9}, T}\r\n~ 153, {27, other, California}, {2.5, 10}, {{7, 6}, T}\r\n~ 154, {19, other, California}, {4.4, 12}, {{2, 9}, F}\r\n~ 155, {56, male, New York}, {0.7, 10}, {{5, 4}, F}\r\n~ 156, {25, other, Illinois}, {4.4, 16}, {{9, 10}, T}\r\n~ 157, {63, other, New York}, {4.9, 13}, {{2, 4}, F}\r\n~ 158, {43, other, Florida}, {4.5, 14}, {{7, 3}, F}\r\n~ 159, {18, other, New York}, {3.4, 4}, {{3, 3}, T}\r\n~ 160, {63, other, Illinois}, {3.6, 5}, {{9, 7}, F}\r\n~ 161, {26, female, Texas}, {3.5, 0}, {{0, 3}, F}\r\n~ 162, {20, female, Texas}, {1.1, 13}, {{9, 7}, F}\r\n~ 163, {26, female, Illinois}, {4.5, 14}, {{5, 1}, F}\r\n~ 164, {49, other, New York}, {3.4, 30}, {{6, 8}, T}\r\n~ 165, {55, other, California}, {1.2, 6}, {{0, 7}, T}\r\n~ 166, {32, female, New York}, {2.5, 6}, {{5, 0}, T}\r\n~ 167, {33, male, Florida}, {2.4, 19}, {{1, 2}, F}\r\n~ 168, {20, female, California}, {1.6, 6}, {{3, 7}, F}\r\n~ 169, {64, male, California}, {3.1, 15}, {{5, 6}, F}\r\n~ 170, {39, other, Illinois}, {0.9, 7}, {{5, 10}, F}\r\n~ 171, {36, female, Florida}, {1.9, 15}, {{5, 4}, F}\r\n~ 172, {21, female, Florida}, {2.6, 29}, {{4, 1}, T}\r\n~ 173, {62, other, California}, {4.8, 16}, {{0, 7}, F}\r\n~ 174, {23, female, Texas}, {4.2, 19}, {{7, 10}, T}\r\n~ 175, {42, female, California}, {0.9, 21}, {{9, 4}, F}\r\n~ 176, {36, other, California}, {2.6, 4}, {{10, 5}, F}\r\n~ 177, {47, male, Illinois}, {3.8, 30}, {{0, 10}, F}\r\n~ 178, {51, male, New York}, {1.4, 1}, {{1, 7}, T}\r\n~ 179, {50, male, Texas}, {4.2, 26}, {{2, 7}, T}\r\n~ 180, {59, female, New York}, {2.0, 1}, {{10, 5}, T}\r\n~ 181, {50, other, Texas}, {3.8, 20}, {{10, 9}, F}\r\n~ 182, {54, other, New York}, {3.6, 10}, {{9, 10}, F}\r\n~ 183, {43, male, Florida}, {1.3, 27}, {{2, 4}, T}\r\n~ 184, {39, female, Florida}, {4.1, 15}, {{4, 10}, F}\r\n~ 185, {29, female, Texas}, {3.8, 21}, {{8, 6}, F}\r\n~ 186, {54, female, Illinois}, {1.7, 6}, {{6, 6}, T}\r\n~ 187, {27, male, Texas}, {3.2, 20}, {{1, 4}, F}\r\n~ 188, {39, female, Texas}, {1.2, 25}, {{0, 3}, T}\r\n~ 189, {56, other, Florida}, {3.2, 19}, {{8, 5}, F}\r\n~ 190, {64, female, Illinois}, {2.8, 12}, {{9, 2}, F}\r\n~ 191, {23, other, Florida}, {4.7, 19}, {{9, 1}, T}\r\n~ 192, {57, other, New York}, {3.9, 2}, {{10, 5}, T}\r\n~ 193, {24, female, Florida}, {3.5, 2}, {{5, 1}, F}\r\n~ 194, {41, female, Illinois}, {3.8, 9}, {{8, 1}, F}\r\n~ 195, {23, other, Florida}, {1.3, 6}, {{10, 3}, F}\r\n~ 196, {54, male, Illinois}, {2.1, 7}, {{7, 1}, F}\r\n~ 197, {48, male, Florida}, {3.0, 21}, {{2, 3}, T}\r\n~ 198, {40, other, New York}, {2.4, 18}, {{1, 0}, T}\r\n~ 199, {41, male, California}, {3.4, 7}, {{2, 7}, T}\r\n~ 200, {25, female, New York}, {3.9, 18}, {{1, 7}, T}\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'ML Training Data',\r\n  id: 'ml-training-data',\r\n  schemaPanelHeight: 310,\r\n}\r\n\r\nexport default exportable;\r\n","const schema = `\r\n# This examples represents the seed data for a single page application. It\r\n# contains the dashboard data, initial users and account information required\r\n# to seed the application with initial data.\r\n~ $dashboard: {\r\n  states: { activeUsers: int, totalTasks: int, uptime: float },\r\n  recentActivities: [{ username:string, activity: string, timestamp: datetime }],\r\n  pendingTasks: [{ taskId: int, title: string, dueDate: date }],\r\n  leaderBoards: [{ userId: string, points: int }]\r\n}\r\n~ $initialUsers: { id: int, username: string, firstName: string, lastName: string, avatar: string, role: string }\r\n~ $accountInfo: { accountId: int, name: string, logo: string, theme: string, owner: string, created: datetime, status: string }\r\n`.trim()\r\n\r\nconst doc = `\r\n--- $dashboard\r\n{ 100, 20, 99.5 }, # stats\r\n[ # recent activities\r\n  { \"johndoe\", \"Published artible\", dt\"2021-01-01T10:00:00\" },\r\n  { \"johndoe\", \"Commented on post\", dt\"2021-01-01T10:15:00\" },\r\n  { \"johndoe\", \"Shared a link\", dt\"2021-01-01T10:30:00\" },\r\n  { \"janesmith\", \"Liked a post\", dt\"2021-01-01T10:45:00\" },\r\n  { \"janesmith\", \"Published artible\", dt\"2021-01-01T11:00:00\" } ],\r\n[ # pending tasks\r\n  { 1, \"Design the logo\", d\"2021-01-01\" },\r\n  { 2, \"Create a new landing page\", d\"2021-01-02\" },\r\n  { 3, \"Update the pricing page\", d\"2021-01-03\" },\r\n  { 4, \"Fix the login issue\", d\"2021-01-04\" },\r\n  { 5, \"Update the profile page\", d\"2021-01-05\" } ],\r\n[ # leader board\r\n  { \"johndoe\", 100 },\r\n  { \"janesmith\", 200 },\r\n  { \"alexjohnson\", 300 } ]\r\n\r\n--- users: $initialUsers\r\n~ 31, johndoe, John, Doe, \"johndoe.jpg\", \"admin\"\r\n~ 52, janesmith, Jane, Smith, \"janesmith.jpg\", \"editor\"\r\n~ 63, alexjohnson, Alex, Johnson, \"alexjohnson.jpg\", \"editor\"\r\n~ 94, emilywilliams, Emily, Williams, \"emilywilliams.jpg\", \"editor\"\r\n~ 55, michaelsmith, Michael, Smith, \"michaelsmith.jpg\", \"editor\"\r\n~ 46, sarahjones, Sarah, Jones, \"sarahjones.jpg\", \"editor\"\r\n~ 67, davidbrown, David, Brown, \"davidbrown.jpg\", \"editor\"\r\n~ 88, lisataylor, Lisa, Taylor, \"lisataylor.jpg\", \"editor\"\r\n~ 9, jameswhite, James, White, \"jameswhite.jpg\", \"editor\"\r\n~ 110, maryharris, Mary, Harris, \"maryharris.jpg\", \"editor\"\r\n\r\n--- $accountInfo\r\n~ 23, \"Acme Inc\", \"acme.jpg\", \"light\", \"johndoe\", dt\"2021-01-01T10:00:00\", \"active\"\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'Application Seed Data REST Response',\r\n  id: 'app-seed-data',\r\n  schemaPanelHeight: 270,\r\n}\r\n\r\nexport default exportable;\r\n","const schema = `\r\n# The configuration schema for the website. When the optional values are not provided\r\n# it assigns the default values. See the output JSON.\r\n\r\nname        : string,             # The name of the website\r\ntagLine     : string,             # The tagline of the website\r\ndebugMode   : { bool, F },        # Debug mode\r\nport        : { int, 8000 },      # Port (Optional default 8000)\r\npages?      : {                   # The list of pages (optional)\r\n                type: array,\r\n                of: string,\r\n                default: []\r\n              },\r\ntheme       : { string, default },            # Theme of the website\r\nseo?        : {                               # SEO configuration (optional)\r\n                title       : string,           # SEO title\r\n                description : string,           # SEO description\r\n                keywords?   : {                 # SEO keywords (optional)\r\n                                type: array,\r\n                                of: string,\r\n                                default: []\r\n                              }\r\n              },\r\ndatabase?    : {                              # Database configuration\r\n                host        : string,           # Database host\r\n                port        : { int, 5432 },    # Database port (optional, default 5432)\r\n                username    : string,           # Database username\r\n                password    : string,           # Database password\r\n                name        : string            # Database name\r\n              },\r\nsecurity?    : {                              # Security configuration\r\n                jwtSecret   : string,           # JWT secret key\r\n                enableSSL   : { bool, T }       # Enable SSL (default true)\r\n              },\r\nlogging?    : {                                     # Logging configuration (optional)\r\n                level       : { string, \"info\" },     # Log level (default \"info\")\r\n                format      : { string, \"json\" },     # Log format (default \"json\")\r\n                output      : { string, \"stdout\" }    # Log output (default \"stdout\")\r\n              },\r\nfeatures?   : {                               # Features toggles (optional)\r\n                enableBlog  : { bool, T },      # Enable blog feature (default true)\r\n                enableShop  : { bool, F }       # Enable shop feature (default false)\r\n              }\r\n`.trim()\r\n\r\nconst doc = `\r\n{\r\n  name: My Awesome Website,\r\n  tagLine: Showcasing the best of the web,\r\n  pages: [ home, about, contact, blog ],\r\n  seo: {\r\n    title: My Awesome Website,\r\n    description: This is an awesome website showcasing the best of the web.,\r\n    keywords: [ awesome, website, showcase, web ]\r\n  },\r\n  database: {\r\n    localhost, 5432,\r\n    username: dbuser,\r\n    password: securepassword,\r\n    name: mywebsite_db\r\n  },\r\n  security: { supersecretkey, true },\r\n  logging: { info,  json, stdout },\r\n  features: {\r\n    enableBlog: true,\r\n    enableShop: false\r\n  }\r\n}\r\n`.trim()\r\n\r\nconst exportable = {\r\n  doc,\r\n  schema,\r\n  name: 'Using it as configuraton',\r\n  id: 'as-config',\r\n  schemaPanelHeight: 300,\r\n}\r\n\r\nexport default exportable;\r\n","import dummyData          from \"./complex/separate-schema\";\r\nimport complex            from \"./complex/complex-library\";\r\nimport variables          from \"./complex/variables\";\r\n\r\nimport json               from \"./json/json\";\r\nimport jsonSchema         from \"./json/json-schema\";\r\n\r\n// Simple\r\nimport simple                     from \"./simple/simple-object\";\r\nimport simpleCollection           from \"./simple/simple-collection\";\r\nimport simpleCollectionWithErrors from \"./simple/simple-collection-with-errors\";\r\nimport typedCollection            from \"./simple/typed-collection\";\r\n\r\n// Schema and Definition\r\nimport multipSections     from \"./sections/multiple-sections\";\r\n\r\n// Types\r\nimport any                from \"./types/any\";\r\nimport strings            from \"./types/strings\";\r\nimport numbers            from \"./types/numbers\";\r\nimport datetimes          from \"./types/datetimes\";\r\nimport arrays             from \"./types/arrays\";\r\nimport objects            from \"./types/objects\";\r\n\r\nimport employeeRegister   from \"./employee-register\";\r\nimport recursiveSchema    from \"./recursive-schema\";\r\nimport recursiveSchemaComplex from \"./recursive-schema-comples\";\r\nimport SampleOptions      from \"./sample-options\";\r\n\r\n// Applications\r\nimport collectionResponse from \"./applications/api-collection-response\";\r\nimport multipleCollectionResponse from \"./applications/api-multiple-collections-response\";\r\nimport structuredLog      from \"./applications/structured-logging\";\r\nimport mlLearningData     from \"./applications/ml-training-data\";\r\nimport appSeedData        from \"./applications/app-seed-data\";\r\nimport config             from \"./applications/as-config\";\r\n\r\nconst sampleData:SampleOptions = new SampleOptions()\r\nsampleData.groups = [\r\n  {\r\n    group: \"Simple\",\r\n    items: [\r\n      simple,\r\n      simpleCollection,\r\n      simpleCollectionWithErrors,\r\n      typedCollection\r\n    ]\r\n  },\r\n  {\r\n    group: \"Schema and Definition\",\r\n    items: [\r\n      employeeRegister,\r\n      recursiveSchema,\r\n      recursiveSchemaComplex\r\n    ]\r\n  },\r\n  {\r\n    group: \"IO Types\",\r\n    items: [\r\n      any,\r\n      strings,\r\n      numbers,\r\n      datetimes,\r\n      arrays,\r\n      objects\r\n    ]\r\n  },\r\n  {\r\n    group: \"Multiple Sections\",\r\n    items: [\r\n      multipSections\r\n    ]\r\n  },\r\n  {\r\n    group: \"JSON\",\r\n    items: [\r\n      json,\r\n      jsonSchema\r\n    ]\r\n  },\r\n    {\r\n    group: \"Advanced & Complex\",\r\n    items: [\r\n      complex,\r\n      variables,\r\n      dummyData\r\n    ]\r\n  },\r\n  {\r\n    group: \"Applications & Use Cases\",\r\n    items: [\r\n      collectionResponse,\r\n      multipleCollectionResponse,\r\n      appSeedData,\r\n      structuredLog,\r\n      mlLearningData,\r\n      config,\r\n    ]\r\n  }\r\n]\r\n\r\nexport default sampleData;\r\n","import {atom} from 'recoil';\r\n\r\nconst editorPosition = atom({\r\n  key: 'editorPosition', // unique ID (with respect to other atoms/selectors)\r\n  default: {             // default value (aka initial value)\r\n    editorName: '',\r\n    row: 1,\r\n    column: 1,\r\n    position: 1,\r\n  },\r\n});\r\n\r\nexport default editorPosition;\r\n","import { useRecoilValue }           from 'recoil'\r\n\r\nimport                                   './Footer.css'\r\nimport editorPosition               from '../../states/editor-pos'\r\n\r\nexport default function Footer() {\r\n  const editorPos = useRecoilValue(editorPosition)\r\n\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"left\">\r\n      <p>{ editorPos.editorName } <span>: </span></p>\r\n        <p>Ln <span>{ editorPos.row }</span></p>\r\n        <p>Col <span>{ editorPos.column }</span></p>\r\n        <p>Pos <span>{ editorPos.position }</span></p>\r\n      </div>\r\n      <div className=\"right\">\r\n        <p> 2019-2024 <img className='company-logo' src='/mt-logo.png' alt='Maniar Technologies Private Limited' /> <a className='highlight' rel=\"noreferrer\" target='_blank' href='https://www.maniartech.com'><b>Maniar Technologies</b></a></p>\r\n      </div>\r\n    </footer>\r\n  )\r\n}","import './Bar.css'\r\n\r\ninterface BarProps {\r\n  label         : string;\r\n  bgColor?      : string;\r\n  children?     : any;\r\n  bytes?        : number;\r\n  outputBytes?  : number;\r\n  minified?   : boolean;\r\n  isError?      : boolean;\r\n  title?        : string;\r\n}\r\n\r\nconst Bar = ({ label, bgColor, children, bytes, title, outputBytes, minified, isError}: BarProps) => {\r\n  bytes     = bytes || 0\r\n  const perc = 100 - (outputBytes ? (bytes / outputBytes) * 100 : 0)\r\n  const percText = perc > 0 ? `${perc.toFixed(2)}% Smaller` : `${Math.abs(perc).toFixed(2)}% Larger`\r\n\r\n   const showBar = !!bytes && !isError\r\n  return (\r\n    <div className='bar' style={{backgroundColor: bgColor}} title={title}>\r\n      <p>{label} {showBar && <span className=\"count\" title={`${bytes} bytes in ${label}`}>{bytes} Bytes</span>}\r\n      &nbsp;\r\n      </p>\r\n      {showBar && !!outputBytes && <span className=\"comparision\" title={`${bytes} bytes in ${label}`}>{percText} than { minified ? 'minified ' : ''}JSON</span>}\r\n      { children }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Bar\r\n","import { useCallback, useRef } from 'react';\r\n\r\n/**\r\n * A hook that returns a debounced version of the callback. The debounced\r\n * version of the callback is guaranteed to have the same function reference\r\n * between renders unless the delay changes. This is useful for avoiding\r\n * unnecessary re-renders when passing callbacks to child components that rely\r\n * on reference equality to prevent unnecessary re-renders.\r\n *\r\n * @template T This is a generic type that extends a function with any\r\n * number of arguments.\r\n * @param {T} callback The function that you want to debounce.\r\n * @param {number} delay The number of milliseconds to delay the function call.\r\n * @returns A debounced version of the callback function.\r\n */\r\nfunction useDebounce<T extends (...args: any[]) => void>(callback: T, delay: number): (...args: Parameters<T>) => void {\r\n\r\n  if (delay === undefined || delay < 0) {\r\n    throw new Error('Invalid delay value. The delay must be a positive integer.');\r\n  }\r\n\r\n  // The timeoutRef is used to store the timeout id between renders.\r\n  // It's initialized with null.\r\n  const timeoutRef = useRef<ReturnType<typeof setTimeout>>();\r\n\r\n  // The useCallback hook returns a memoized version of the callback that\r\n  // only changes if one of the dependencies has changed.\r\n  const debouncedCallback = useCallback((...args: Parameters<T>) => {\r\n    // If there's an existing timeout from a previous call, clear it to\r\n    // prevent the function from being called.\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n    }\r\n\r\n    // Set a new timeout that calls the callback function after the\r\n    // specified delay.\r\n    timeoutRef.current = setTimeout(() => {\r\n      callback(...args);\r\n    }, delay);\r\n  }, [callback, delay]);\r\n\r\n  // Return the memoized debounced function.\r\n  return debouncedCallback;\r\n}\r\n\r\nexport default useDebounce;\r\n","const editorOptions = {\r\n  selectOnLineNumbers: true,\r\n  minimap: {\r\n    enabled: false\r\n  },\r\n  formatOnPaste: true,\r\n  formatOnType: true,\r\n  autoIndent: 'full',\r\n  matchBrackets: 'always',\r\n  fixedOverflowWidgets: true,\r\n  scrollbars: {\r\n    vertical: 'visible',\r\n    horizontal: 'visible'\r\n  },\r\n}\r\n\r\nexport default editorOptions\r\n","\r\nconst setupMonaco = (monaco: any) => {\r\n  const language = \"io\";\r\n\r\n  monaco.languages.register({ id: 'io' });\r\n  // console.log('monaco.languages', monaco.languages);\r\n\r\n  monaco.languages.setMonarchTokensProvider(language, {\r\n    tokenizer: {\r\n      root: [\r\n        // comments\r\n        [/#[^\\n]*/, 'comment'],\r\n\r\n        // keywords\r\n        [/\\b(T|true|F|false|N|null|Inf|NaN|string|email|url|datetime|date|time|bool|boolean|int|float|number|bigint|decimal|int8|int16|int32|int64|uint8|uint16|uint32|uint64|flaot32|float64|object|array)\\b/, 'keyword'],\r\n\r\n        // attributes\r\n        [/([@\\$]*[a-zA-Z_]*[?\\*]{0,2}\\w*)(\\s*:)/, ['attribute.name', 'delimiter']],\r\n\r\n        // delimiters\r\n        [/{|}|[|]|~|,/, 'delimiter'],\r\n\r\n        // strings\r\n        [/\"([^\"\\\\]|\\\\.)*\"/, 'string'], // to match double-quoted strings\r\n        [/'([^'\\\\]|\\\\.)*'/, 'string'], // to match single-quoted strings\r\n\r\n        // tagged strings\r\n        [/[a-z0-9]+'[^']*'/, 'tagged-string'], // to match 'tag'' strings\r\n        [/[a-z0-9]+\"[^\"]*\"/, 'tagged-string'], // to match \"tag\"\" strings\r\n\r\n        // numbers\r\n        [/\\b\\d+(\\.\\d+)?\\b/, 'number'], // to match numbers\r\n      ]\r\n    }\r\n  });\r\n\r\n  monaco.editor.defineTheme('io-dark', {\r\n    base: 'vs-dark',\r\n    inherit: true,\r\n    rules: [\r\n      { token: 'attribute.name', foreground: '#b5997f' }, //#7bdcfe #ce9178\r\n      { token: 'tagged-string', foreground: '#b5997f' },\r\n      // { token: 'comment', foreground: '#00FF00' },\r\n      { token: 'delimiter', foreground: '#009999' },\r\n      // { token: 'keyword', foreground: '#FF0000' }\r\n      { token: 'string', foreground: '#b5997f' },\r\n    ],\r\n    colors: {\r\n      'editor.foreground': '#C0C0C0',\r\n      // 'editor.background': '#0f0f11',\r\n    }\r\n  });\r\n\r\n  monaco.editor.setTheme('io-dark');\r\n};\r\n\r\nexport default setupMonaco;","import { useEffect, useMemo, useState }   from 'react'\r\nimport MonacoEditor                       from '@monaco-editor/react'\r\n\r\nimport useDebounce                        from '../../hooks/use-debounce'\r\nimport editorOptions                      from './editor-options'\r\nimport setupMonaco                        from './monaco'\r\nimport type { EditorMarker }              from '../../types/errors'\r\n\r\n// Define an interface for the Editor component's props\r\nexport interface EditorProps {\r\n\r\n  value?: string\r\n\r\n  markers?: EditorMarker[]\r\n\r\n  // Optional Monaco decorations (background highlights, etc.)\r\n  decorations?: Array<{\r\n    startLineNumber: number\r\n    startColumn: number\r\n    endLineNumber: number\r\n    endColumn: number\r\n    className?: string\r\n    hoverMessage?: string\r\n    isWholeLine?: boolean\r\n  }>\r\n\r\n  // onChange is an optional function that will be called when the editor's\r\n  // value changes\r\n  onChange?: (value: any, event: any) => void\r\n\r\n  onChangeCaretPosition?: (position: {\r\n    row: number\r\n    column: number\r\n    position: number\r\n  }) => void\r\n\r\n  // onMount is an optional function that will be called when the\r\n  // editor is mounted\r\n  onMount?: (editor: any, monaco: any) => void\r\n\r\n  // language is an optional string that specifies the language of the editor\r\n  language?: string\r\n\r\n  // theme is an optional string that specifies the theme of the editor\r\n  theme?: string\r\n\r\n  // debounce is an optional number that specifies the debounce delay\r\n  debounce?: number\r\n\r\n  // Optional selection to programmatically select/reveal a range in the editor\r\n  selection?: {\r\n    startLineNumber: number\r\n    startColumn: number\r\n    endLineNumber?: number\r\n    endColumn?: number\r\n  } | null\r\n}\r\n\r\nfunction Editor (props: EditorProps): JSX.Element {\r\n  const [editorInstance, setEditorInstance] = useState<any>(null);\r\n  const [decorationIds, setDecorationIds] = useState<string[]>([]);\r\n\r\n  const options: any = useMemo(() => {\r\n    return {\r\n      ...editorOptions,\r\n      ...(props.options ?? {})\r\n    }\r\n  }, [props.options])\r\n\r\n\r\n  useEffect(() => {\r\n    const monaco = (window as any).monaco\r\n    if (!monaco) {\r\n      return\r\n    }\r\n\r\n\r\n    // Set the model markers\r\n    if (editorInstance && props.markers) {\r\n      monaco.editor.setModelMarkers(editorInstance.getModel(), 'owner', props.markers)\r\n    }\r\n\r\n  }, [props.markers, editorInstance])\r\n\r\n  // Apply Monaco decorations for background highlights\r\n  useEffect(() => {\r\n    const monaco = (window as any).monaco\r\n    if (!monaco || !editorInstance) return\r\n\r\n    const decorations = (props.decorations ?? []).map(d => ({\r\n      range: new monaco.Range(d.startLineNumber, d.startColumn, d.endLineNumber, d.endColumn),\r\n      options: {\r\n        className: d.className || 'io-error-object-decoration',\r\n        linesDecorationsClassName: (d.className ? d.className + '-gutter' : undefined),\r\n        stickiness: 1, // Never grow when typing at edges\r\n        hoverMessage: d.hoverMessage ? { value: d.hoverMessage } : undefined,\r\n        isWholeLine: !!d.isWholeLine,\r\n        zIndex: 5,\r\n        overviewRuler: {\r\n          color: 'rgba(255, 83, 83, 0.8)',\r\n          position: 7, // OverviewRulerLane.Full\r\n        },\r\n        minimap: {\r\n          color: 'rgba(255, 83, 83, 0.8)',\r\n          position: 2, // MinimapPosition.Inline\r\n        }\r\n      }\r\n    }))\r\n\r\n    const newIds = editorInstance.deltaDecorations(decorationIds, decorations)\r\n    setDecorationIds(newIds)\r\n\r\n    return () => {\r\n      // Clean up decorations when unmounting or dependencies change\r\n      try { editorInstance.deltaDecorations(newIds, []) } catch {}\r\n    }\r\n  }, [props.decorations, editorInstance])\r\n\r\n  // Apply programmatic selection/reveal when selection prop changes\r\n  useEffect(() => {\r\n    const monaco = (window as any).monaco\r\n    if (!monaco || !editorInstance) return\r\n    const sel = props.selection\r\n    if (!sel) return\r\n\r\n    const startLn = sel.startLineNumber\r\n    const startCol = sel.startColumn\r\n    const endLn = sel.endLineNumber ?? sel.startLineNumber\r\n    const endCol = sel.endColumn ?? (sel.startColumn + 1)\r\n\r\n    try {\r\n      const range = new monaco.Range(startLn, startCol, endLn, endCol)\r\n      editorInstance.setSelection(range)\r\n      editorInstance.revealRangeInCenter(range)\r\n      editorInstance.focus()\r\n    } catch {}\r\n  }, [props.selection, editorInstance])\r\n\r\n  const handleEditorDidMount = (editor: any, monaco: any): void => {\r\n    setupMonaco(monaco)\r\n    setEditorInstance(editor)\r\n\r\n    editor.onDidChangeCursorPosition((event: any) => {\r\n      if (props.onChangeCaretPosition) {\r\n        const position = editor.getModel().getOffsetAt(event.position)\r\n        props.onChangeCaretPosition({\r\n          row: event.position.lineNumber,\r\n          column: event.position.column,\r\n          position,\r\n        })\r\n      }\r\n    })\r\n\r\n    editor.focus()\r\n  }\r\n\r\n  const handleOnChange = useDebounce((value, event) => {\r\n    if (props.onChange) {\r\n      props.onChange(value, event)\r\n    }\r\n  }, props.debounce ?? 0)\r\n\r\n  return (\r\n    <MonacoEditor\r\n      defaultLanguage={props.language || \"io\"}\r\n      defaultValue=\"\"\r\n      value={props.value ?? ''}\r\n      language={props.language || \"io\"}\r\n      theme=\"io-dark\"\r\n\r\n      // Events\r\n      onMount={handleEditorDidMount}\r\n      onChange={handleOnChange}\r\n\r\n      // Options\r\n      options= {options}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Editor\r\n","import React                          from 'react'\r\nimport                                     './Overlay.css'\r\ninterface OverlayProps {\r\n  heading?: string;\r\n  onClose: () => void;\r\n  children?: any;\r\n}\r\n\r\nconst Overlay: React.FC<OverlayProps> = ({ onClose, children, heading }) => {\r\n  return (\r\n    <div className=\"overlay\">\r\n      <div className=\"overlay-content\">\r\n        <h1 className=\"heading\">{heading}</h1>\r\n        <button className=\"close-button\" onClick={onClose}>\r\n          <span className=\"material-symbols-outlined\">close</span>\r\n        </button>\r\n        <div className=\"overlay-desc\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Overlay;\r\n","/**\r\n * Error sorting and navigation utilities.\r\n * Extracted for testability and reuse.\r\n */\r\n\r\nexport interface ErrorPosition {\r\n  line: number;\r\n  col: number;\r\n}\r\n\r\n/**\r\n * Parse position from error message string.\r\n * Looks for the last occurrence of \" at <line>:<col>\".\r\n * Returns a sentinel position if not found.\r\n */\r\nexport function parseErrorPosition(message: string): ErrorPosition {\r\n  const re = / at (\\d+):(\\d+)/g;\r\n  let match: RegExpExecArray | null = null;\r\n  let last: RegExpExecArray | null = null;\r\n\r\n  while ((match = re.exec(message)) !== null) {\r\n    last = match;\r\n  }\r\n\r\n  if (last) {\r\n    const line = parseInt(last[1], 10);\r\n    const col = parseInt(last[2], 10);\r\n    if (!Number.isNaN(line) && !Number.isNaN(col)) {\r\n      return { line, col };\r\n    }\r\n  }\r\n\r\n  // Unknown position: use sentinel to sort to end\r\n  return { line: Number.MAX_SAFE_INTEGER, col: Number.MAX_SAFE_INTEGER };\r\n}\r\n\r\n/**\r\n * Sort error messages by their position (line, then column).\r\n * Maintains stable order for messages at the same position or without positions.\r\n */\r\nexport function sortErrorMessages(messages: string[]): string[] {\r\n  return [...messages].sort((a, b) => {\r\n    const pa = parseErrorPosition(a);\r\n    const pb = parseErrorPosition(b);\r\n\r\n    if (pa.line !== pb.line) {\r\n      return pa.line - pb.line;\r\n    }\r\n    return pa.col - pb.col;\r\n  });\r\n}\r\n\r\n/**\r\n * Find the best matching marker for a given position.\r\n * Prefer markers that cover the position; fallback to nearest on same line, then nearest by line.\r\n */\r\nexport function findMarkerForPosition(\r\n  markers: Array<{\r\n    startLineNumber?: number;\r\n    startColumn?: number;\r\n    endLineNumber?: number;\r\n    endColumn?: number;\r\n  }>,\r\n  position: ErrorPosition\r\n): typeof markers[0] | null {\r\n  if (!markers || markers.length === 0) return null;\r\n\r\n  const { line, col } = position;\r\n\r\n  // Prefer markers that cover the position\r\n  const covering = markers.filter(m =>\r\n    (m.startLineNumber != null && m.endLineNumber != null && m.startColumn != null && m.endColumn != null) &&\r\n    (line >= m.startLineNumber && line <= m.endLineNumber) &&\r\n    (line !== m.startLineNumber || col >= m.startColumn) &&\r\n    (line !== m.endLineNumber || col <= m.endColumn)\r\n  );\r\n\r\n  if (covering.length > 0) return covering[0];\r\n\r\n  // Fallback: same line, nearest column\r\n  const sameLine = markers.filter(m => m.startLineNumber === line);\r\n  if (sameLine.length > 0) {\r\n    sameLine.sort((a, b) =>\r\n      Math.abs((a.startColumn ?? 1) - col) - Math.abs((b.startColumn ?? 1) - col)\r\n    );\r\n    return sameLine[0];\r\n  }\r\n\r\n  // Fallback: nearest by line\r\n  return markers.reduce((best, m) => {\r\n    if (!best) return m;\r\n    const d1 = Math.abs((m.startLineNumber ?? line) - line);\r\n    const d2 = Math.abs((best.startLineNumber ?? line) - line);\r\n    return d1 < d2 ? m : best;\r\n  }, null as typeof markers[0] | null);\r\n}\r\n","/**\r\n * Utilities for generating Monaco decorations for error objects in JSON output.\r\n *\r\n * When parsing with skipErrors=true, the IO parser emits objects with __error: true\r\n * in the JSON output. This utility scans the stringified JSON to find and highlight\r\n * these error objects with appropriate styling based on their category.\r\n *\r\n * NOTE: This uses brace-scanning as a pragmatic solution. Ideally, the parser would\r\n * emit decoration metadata during serialization to avoid this. This is tracked as\r\n * technical debt for future parser enhancement.\r\n */\r\n\r\nimport type { ErrorCategory } from '../types/errors';\r\n\r\n/**\r\n * Monaco decoration for highlighting JSON error objects.\r\n */\r\nexport interface JsonErrorDecoration {\r\n  startLineNumber: number;\r\n  startColumn: number;\r\n  endLineNumber: number;\r\n  endColumn: number;\r\n  className: string;\r\n  glyphMarginClassName: string;\r\n  hoverMessage: string;\r\n  overviewRuler: {\r\n    color: string;\r\n    position: number; // OverviewRulerLane.Full = 7\r\n  };\r\n}\r\n\r\n/**\r\n * Position in text as line and column (1-indexed).\r\n */\r\ninterface Position {\r\n  row: number;\r\n  col: number;\r\n}\r\n\r\n/**\r\n * Character offset range in text.\r\n */\r\ninterface CharRange {\r\n  start: number;\r\n  end: number;\r\n}\r\n\r\n/**\r\n * Build line start index lookup for fast offset-to-position conversion.\r\n */\r\nfunction buildLineStarts(text: string): number[] {\r\n  const lineStarts: number[] = [0];\r\n  for (let i = 0; i < text.length; i++) {\r\n    if (text[i] === '\\n') {\r\n      lineStarts.push(i + 1);\r\n    }\r\n  }\r\n  return lineStarts;\r\n}\r\n\r\n/**\r\n * Convert character offset to line:column position using binary search.\r\n */\r\nfunction offsetToPosition(offset: number, lineStarts: number[]): Position {\r\n  let low = 0;\r\n  let high = lineStarts.length - 1;\r\n\r\n  while (low <= high) {\r\n    const mid = (low + high) >> 1;\r\n    if (lineStarts[mid] <= offset) {\r\n      if (mid === lineStarts.length - 1 || lineStarts[mid + 1] > offset) {\r\n        const row = mid + 1; // Monaco is 1-based\r\n        const col = offset - lineStarts[mid] + 1;\r\n        return { row, col };\r\n      }\r\n      low = mid + 1;\r\n    } else {\r\n      high = mid - 1;\r\n    }\r\n  }\r\n\r\n  return { row: 1, col: 1 };\r\n}\r\n\r\n/**\r\n * Scan JSON text to find all object ranges (braces), ignoring those inside strings.\r\n * Returns character offsets of matching { } pairs.\r\n */\r\nfunction findObjectRanges(text: string): CharRange[] {\r\n  const ranges: CharRange[] = [];\r\n  const stack: number[] = [];\r\n  let inString = false;\r\n\r\n  for (let i = 0; i < text.length; i++) {\r\n    const ch = text[i];\r\n\r\n    // Toggle string state on unescaped quotes\r\n    if (ch === '\"') {\r\n      let backslashes = 0;\r\n      let j = i - 1;\r\n      while (j >= 0 && text[j] === '\\\\') {\r\n        backslashes++;\r\n        j--;\r\n      }\r\n      if ((backslashes % 2) === 0) {\r\n        inString = !inString;\r\n      }\r\n    }\r\n\r\n    if (inString) continue;\r\n\r\n    // Track brace pairs\r\n    if (ch === '{') {\r\n      stack.push(i);\r\n    } else if (ch === '}') {\r\n      const start = stack.pop();\r\n      if (start !== undefined) {\r\n        ranges.push({ start, end: i });\r\n      }\r\n    }\r\n  }\r\n\r\n  return ranges.sort((a, b) => a.start - b.start);\r\n}\r\n\r\n/**\r\n * Extract error category from error object text.\r\n * Looks for \"category\": \"syntax\"|\"validation\"|\"runtime\" property.\r\n */\r\nfunction extractCategory(objectText: string): ErrorCategory {\r\n  const categoryMatch = objectText.match(/\"category\"\\s*:\\s*\"(syntax|validation|runtime)\"/);\r\n  return categoryMatch ? (categoryMatch[1] as ErrorCategory) : 'syntax';\r\n}\r\n\r\n/**\r\n * Find the innermost object range that contains the given offset.\r\n */\r\nfunction findInnermostRange(offset: number, ranges: CharRange[]): CharRange | null {\r\n  let chosen: CharRange | null = null;\r\n\r\n  for (const range of ranges) {\r\n    if (range.start <= offset && offset <= range.end) {\r\n      // Prefer innermost (latest start)\r\n      if (!chosen || range.start >= chosen.start) {\r\n        chosen = range;\r\n      }\r\n    }\r\n  }\r\n\r\n  return chosen;\r\n}\r\n\r\n/**\r\n * Get CSS class names and colors for a given error category.\r\n */\r\nfunction getCategoryStyles(category: ErrorCategory) {\r\n  const isValidation = category === 'validation';\r\n\r\n  return {\r\n    className: isValidation\r\n      ? 'io-error-object-decoration io-error-validation'\r\n      : 'io-error-object-decoration io-error-syntax',\r\n    glyphMarginClassName: isValidation\r\n      ? 'io-gutter-validation'\r\n      : 'io-gutter-syntax',\r\n    overviewRulerColor: isValidation\r\n      ? 'rgba(255, 152, 0, 0.9)'\r\n      : 'rgba(255, 83, 83, 0.8)',\r\n    hoverMessage: `${category.charAt(0).toUpperCase() + category.slice(1)} error`,\r\n  };\r\n}\r\n\r\n/**\r\n * Generate Monaco decorations for error objects in JSON output.\r\n *\r\n * Scans the JSON text for objects with \"__error\": true, finds their brace ranges,\r\n * extracts their category, and returns Monaco decoration objects for highlighting.\r\n *\r\n * @param jsonText - Stringified JSON output from parser\r\n * @returns Array of Monaco decoration objects\r\n */\r\nexport function generateJsonErrorDecorations(jsonText: string): JsonErrorDecoration[] {\r\n  if (!jsonText) return [];\r\n\r\n  const lineStarts = buildLineStarts(jsonText);\r\n  const objectRanges = findObjectRanges(jsonText);\r\n  const decorations: JsonErrorDecoration[] = [];\r\n\r\n  // Find all \"__error\": true markers\r\n  const errorRegex = /\"__error\"\\s*:\\s*true/gi;\r\n  let match: RegExpExecArray | null;\r\n\r\n  while ((match = errorRegex.exec(jsonText)) !== null) {\r\n    const errorOffset = match.index;\r\n\r\n    // Find the object containing this error marker\r\n    const objectRange = findInnermostRange(errorOffset, objectRanges);\r\n    if (!objectRange) continue;\r\n\r\n    // Extract category from object text\r\n    const objectText = jsonText.substring(objectRange.start, objectRange.end + 1);\r\n    const category = extractCategory(objectText);\r\n\r\n    // Convert character offsets to line:column positions\r\n    const startPos = offsetToPosition(objectRange.start, lineStarts);\r\n    const endPos = offsetToPosition(objectRange.end + 1, lineStarts); // exclusive end\r\n\r\n    // Get category-specific styling\r\n    const styles = getCategoryStyles(category);\r\n\r\n    decorations.push({\r\n      startLineNumber: startPos.row,\r\n      startColumn: startPos.col,\r\n      endLineNumber: endPos.row,\r\n      endColumn: endPos.col,\r\n      className: styles.className,\r\n      glyphMarginClassName: styles.glyphMarginClassName,\r\n      hoverMessage: styles.hoverMessage,\r\n      overviewRuler: {\r\n        color: styles.overviewRulerColor,\r\n        position: 7, // OverviewRulerLane.Full\r\n      },\r\n    });\r\n  }\r\n\r\n  return decorations;\r\n}\r\n","import { useState, useEffect, useMemo }         from 'react'\r\nimport                                          './Output.css'\r\nimport Editor, { EditorProps }             from '../editor/Editor'\r\nimport Overlay                             from '../overlay/Overlay'\r\nimport { sortErrorMessages, parseErrorPosition } from '../../utils/errorSorting'\r\nimport { generateJsonErrorDecorations }         from '../../utils/jsonDecorations'\r\nimport type { ErrorItem }                      from '../../types/errors'\r\n\r\ninterface OutputProps extends EditorProps {\r\n  error?: boolean\r\n  errorMessages?: string[]  // Deprecated: use errorItems instead\r\n  errorItems?: ErrorItem[]  // Structured errors with full metadata\r\n  onNavigateToError?: (pos: { line: number; col: number }) => void\r\n  isParsing?: boolean       // Indicates async parsing in progress\r\n}\r\n\r\nexport default function Output({\r\n  value,\r\n  error,\r\n  errorMessages,\r\n  errorItems,\r\n  options,\r\n  onNavigateToError,\r\n  isParsing\r\n}:OutputProps) {\r\n  const [overlayDismissed, setOverlayDismissed] = useState(false);\r\n  const [lastErrorContent, setLastErrorContent] = useState<string>('');\r\n\r\n  // Reset dismissed state only when error content actually changes\r\n  useEffect(() => {\r\n    // Use errorItems if available, otherwise fall back to errorMessages\r\n    const currentErrorContent = errorItems\r\n      ? errorItems.map(e => e.id).join('|')\r\n      : errorMessages?.join('|') || '';\r\n\r\n    if (currentErrorContent !== lastErrorContent) {\r\n      setLastErrorContent(currentErrorContent);\r\n      // Only show overlay if there are new/different errors\r\n      if (currentErrorContent) {\r\n        setOverlayDismissed(false);\r\n      }\r\n    }\r\n  }, [errorItems, errorMessages, lastErrorContent]);\r\n\r\n  // Sort errors by their starting position using structured ErrorItem data\r\n  const sortedErrors = useMemo(() => {\r\n    if (errorItems && errorItems.length > 0) {\r\n      // Use structured ErrorItem[] - sort by range directly\r\n      return [...errorItems].sort((a, b) => {\r\n        if (a.range.startLine !== b.range.startLine) {\r\n          return a.range.startLine - b.range.startLine;\r\n        }\r\n        return a.range.startColumn - b.range.startColumn;\r\n      });\r\n    }\r\n\r\n    // Fall back to legacy string-based sorting\r\n    if (errorMessages && errorMessages.length > 0) {\r\n      return sortErrorMessages(errorMessages);\r\n    }\r\n\r\n    return [];\r\n  }, [errorItems, errorMessages]);\r\n\r\n  // Build Monaco decorations that highlight error objects (those with \"__error\": true) in the JSON output\r\n  // Uses extracted utility function with comprehensive test coverage\r\n  const outputDecorations = useMemo(() => {\r\n    return generateJsonErrorDecorations(value || '');\r\n  }, [value]);\r\n\r\n  return (\r\n    <div className=\"output\">\r\n  <Editor value={value} language=\"json\" options={options} decorations={outputDecorations} />\r\n      {\r\n      error && sortedErrors && sortedErrors.length > 0 && !overlayDismissed && <Overlay\r\n        heading={`Compiled with ${sortedErrors.length} problem${sortedErrors.length > 1 ? 's' : ''}:`}\r\n        onClose={() => setOverlayDismissed(true)}\r\n      >\r\n        <div className=\"errors-container\">\r\n          {sortedErrors.map((item, index) => {\r\n            // Handle both ErrorItem and string types\r\n            const isErrorItem = typeof item === 'object' && 'category' in item;\r\n\r\n            if (isErrorItem) {\r\n              // Use structured ErrorItem\r\n              const errorItem = item as ErrorItem;\r\n              const isValidation = errorItem.category === 'validation';\r\n              const errorClass = isValidation ? 'error validation-error' : 'error';\r\n\r\n              const onClick = onNavigateToError\r\n                ? () => onNavigateToError!({ line: errorItem.range.startLine, col: errorItem.range.startColumn })\r\n                : undefined;\r\n\r\n              // Format message with category prefix for consistency\r\n              const prefix = errorItem.category === 'syntax' ? 'SYNTAX_ERROR: '\r\n                           : errorItem.category === 'validation' ? 'VALIDATION_ERROR: '\r\n                           : 'ERROR: ';\r\n              const displayMessage = `${prefix}${errorItem.message} at ${errorItem.range.startLine}:${errorItem.range.startColumn}`;\r\n\r\n              return (\r\n                <div key={errorItem.id} className={onClick ? `${errorClass} clickable` : errorClass} onClick={onClick} title={onClick ? 'Click to jump to source' : undefined}>\r\n                  {index > 0 && <hr className=\"error-separator\" />}\r\n                  {displayMessage}\r\n                </div>\r\n              );\r\n            } else {\r\n              // Legacy string-based error\r\n              const errMsg = item as string;\r\n              const isValidation = errMsg.startsWith('VALIDATION_ERROR:');\r\n              const errorClass = isValidation ? 'error validation-error' : 'error';\r\n\r\n              // Parse position using tested utility\r\n              const pos = parseErrorPosition(errMsg);\r\n              const hasPosition = pos.line !== Number.MAX_SAFE_INTEGER;\r\n              const onClick = onNavigateToError && hasPosition\r\n                ? () => onNavigateToError!(pos)\r\n                : undefined;\r\n\r\n              return (\r\n                <div key={index} className={onClick ? `${errorClass} clickable` : errorClass} onClick={onClick} title={onClick ? 'Click to jump to source' : undefined}>\r\n                  {index > 0 && <hr className=\"error-separator\" />}\r\n                  {errMsg}\r\n                </div>\r\n              );\r\n            }\r\n          })}\r\n        </div>\r\n      </Overlay>\r\n      }\r\n    </div>\r\n  )\r\n}","class IODocument {\n    constructor(header, sections, errors = []) {\n        this._ownErrors = []; // Accumulated errors during parsing\n        this._header = header;\n        this._sections = sections;\n        this._ownErrors = errors;\n    }\n    get header() {\n        return this._header;\n    }\n    get sections() {\n        return this._sections;\n    }\n    /**\n     * Returns all errors accumulated during parsing and validation.\n     * This enables IDEs and tools to show all diagnostics in one pass.\n     *\n     * @returns A defensive copy of the errors array to prevent external mutation\n     */\n    get errors() {\n        const aggregatedErrors = [...this._ownErrors];\n        if (this._sections) {\n            for (const section of this._sections) {\n                aggregatedErrors.push(...section.errors);\n            }\n        }\n        return aggregatedErrors;\n    }\n    /**\n     * Returns all errors accumulated during parsing and validation.\n     * This enables IDEs and tools to show all diagnostics in one pass.\n     *\n     * @returns A defensive copy of the errors array to prevent external mutation\n     */\n    getErrors() {\n        return this.errors;\n    }\n    /**\n     * Adds validation errors to the document.\n     * This method is package-private and should only be called by the parser.\n     *\n     * @internal\n     * @param errors - Array of validation errors to append\n     */\n    addErrors(errors) {\n        if (errors.length > 0) {\n            this._ownErrors.push(...errors);\n        }\n    }\n    /**\n     * Converts the data sections into a JavaScript object.\n     * @param options Optional configuration for JSON conversion\n     * @param options.skipErrors If true, excludes error objects from collections (default: false)\n     */\n    toJSON(options) {\n        const sectionsLen = this._sections?.length || 0;\n        let data = null;\n        if (sectionsLen === 1) {\n            const section = this._sections?.get(0);\n            data = section.toJSON(options);\n        }\n        else if (sectionsLen > 1) {\n            data = {};\n            for (let i = 0; i < sectionsLen; i++) {\n                const section = this._sections?.get(i);\n                data[section.name] = section.toJSON(options);\n            }\n        }\n        // Only return header+data if header has non-empty definitions\n        const headerObject = this.header.toJSON();\n        if (headerObject && Object.keys(headerObject).length > 0) {\n            return {\n                header: headerObject,\n                data,\n            };\n        }\n        return data;\n    }\n    /**\n     * Alias for toJSON() method for backward compatibility\n     * @param options Optional configuration for JSON conversion\n     */\n    toObject(options) {\n        return this.toJSON(options);\n    }\n}\nexport default IODocument;\n","/**\n * General error codes that apply across different phases\n */\nvar GeneralErrorCodes;\n(function (GeneralErrorCodes) {\n    GeneralErrorCodes[\"invalidType\"] = \"invalid-type\";\n    GeneralErrorCodes[\"invalidValue\"] = \"invalid-value\";\n    GeneralErrorCodes[\"valueRequired\"] = \"value-required\";\n    GeneralErrorCodes[\"nullNotAllowed\"] = \"null-not-allowed\";\n    GeneralErrorCodes[\"definitionsRequired\"] = \"definitions-required\";\n    GeneralErrorCodes[\"expectedObject\"] = \"expected-object\";\n    GeneralErrorCodes[\"expectedArray\"] = \"expected-array\";\n})(GeneralErrorCodes || (GeneralErrorCodes = {}));\nexport default GeneralErrorCodes;\n","/**\n * Error codes specific to tokenization phase\n */\nvar TokenizationErrorCodes;\n(function (TokenizationErrorCodes) {\n    // String tokenization\n    TokenizationErrorCodes[\"stringNotClosed\"] = \"string-not-closed\";\n    TokenizationErrorCodes[\"invalidEscapeSequence\"] = \"invalid-escape-sequence\";\n    TokenizationErrorCodes[\"unsupportedAnnotation\"] = \"unsupported-annotation\";\n    // DateTime tokenization\n    TokenizationErrorCodes[\"invalidDateTime\"] = \"invalid-datetime\";\n})(TokenizationErrorCodes || (TokenizationErrorCodes = {}));\nexport default TokenizationErrorCodes;\n","/**\n * Error codes specific to parsing phase (AST construction)\n */\nvar ParsingErrorCodes;\n(function (ParsingErrorCodes) {\n    // General parsing\n    ParsingErrorCodes[\"unexpectedToken\"] = \"unexpected-token\";\n    ParsingErrorCodes[\"expectingBracket\"] = \"expecting-bracket\";\n    ParsingErrorCodes[\"unexpectedPositionalMember\"] = \"unexpected-positional-member\";\n    ParsingErrorCodes[\"invalidKey\"] = \"invalid-key\";\n    // Schema parsing\n    ParsingErrorCodes[\"invalidSchema\"] = \"invalid-schema\";\n    ParsingErrorCodes[\"schemaNotFound\"] = \"schema-not-found\";\n    ParsingErrorCodes[\"schemaMissing\"] = \"schema-missing\";\n    ParsingErrorCodes[\"emptyMemberDef\"] = \"empty-memberdef\";\n    ParsingErrorCodes[\"invalidDefinition\"] = \"invalid-definition\";\n    ParsingErrorCodes[\"invalidMemberDef\"] = \"invalid-memberdef\";\n    ParsingErrorCodes[\"invalidSchemaName\"] = \"invalid-schema-name\";\n    // Variables and definitions\n    ParsingErrorCodes[\"variableNotDefined\"] = \"variable-not-defined\";\n    ParsingErrorCodes[\"schemaNotDefined\"] = \"schema-not-defined\";\n})(ParsingErrorCodes || (ParsingErrorCodes = {}));\nexport default ParsingErrorCodes;\n","/**\n * Error codes specific to validation phase (schema validation)\n */\nvar ValidationErrorCodes;\n(function (ValidationErrorCodes) {\n    // Object validation\n    ValidationErrorCodes[\"invalidObject\"] = \"invalid-object\";\n    ValidationErrorCodes[\"unknownMember\"] = \"unknown-member\";\n    ValidationErrorCodes[\"duplicateMember\"] = \"duplicate-member\";\n    ValidationErrorCodes[\"additionalValuesNotAllowed\"] = \"additional-values-not-allowed\";\n    // Array validation\n    ValidationErrorCodes[\"invalidArray\"] = \"invalid-array\";\n    ValidationErrorCodes[\"notAnArray\"] = \"not-an-array\";\n    // String validation\n    ValidationErrorCodes[\"notAString\"] = \"not-a-string\";\n    ValidationErrorCodes[\"invalidEmail\"] = \"invalid-email\";\n    ValidationErrorCodes[\"invalidUrl\"] = \"invalid-url\";\n    ValidationErrorCodes[\"invalidLength\"] = \"invalid-length\";\n    ValidationErrorCodes[\"invalidMinLength\"] = \"invalid-min-length\";\n    ValidationErrorCodes[\"invalidMaxLength\"] = \"invalid-max-length\";\n    ValidationErrorCodes[\"invalidPattern\"] = \"invalid-pattern\";\n    // Number validation\n    ValidationErrorCodes[\"unsupportedNumberType\"] = \"unsupported-number-type\";\n    ValidationErrorCodes[\"notANumber\"] = \"not-a-number\";\n    ValidationErrorCodes[\"notAnInteger\"] = \"not-an-integer\";\n    ValidationErrorCodes[\"outOfRange\"] = \"out-of-range\";\n    ValidationErrorCodes[\"invalidRange\"] = \"invalid-range\";\n    ValidationErrorCodes[\"invalidScale\"] = \"invalid-scale\";\n    ValidationErrorCodes[\"invalidPrecision\"] = \"invalid-precision\";\n    // Boolean validation\n    ValidationErrorCodes[\"notABool\"] = \"not-a-bool\";\n    // Choice validation\n    ValidationErrorCodes[\"invalidChoice\"] = \"invalid-choice\";\n})(ValidationErrorCodes || (ValidationErrorCodes = {}));\nexport default ValidationErrorCodes;\n","import GeneralErrorCodes from './general-error-codes';\nimport TokenizationErrorCodes from './tokenization-error-codes';\nimport ParsingErrorCodes from './parsing-error-codes';\nimport ValidationErrorCodes from './validation-error-codes';\n/**\n * Consolidated error codes from all categories\n */\nconst ErrorCodes = {\n    ...GeneralErrorCodes,\n    ...TokenizationErrorCodes,\n    ...ParsingErrorCodes,\n    ...ValidationErrorCodes\n};\n// Export individual categories for specific use cases\nexport { GeneralErrorCodes, TokenizationErrorCodes, ParsingErrorCodes, ValidationErrorCodes };\nexport default ErrorCodes;\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _IOError_positionRange;\n/**\n * Represents the base error class in InternetObject.\n */\nclass IOError extends Error {\n    get positionRange() { return __classPrivateFieldGet(this, _IOError_positionRange, \"f\"); }\n    set positionRange(value) {\n        __classPrivateFieldSet(this, _IOError_positionRange, value, \"f\");\n        this.updateMessage();\n    }\n    /**\n     * Backward-compat: some tests and callers expect `code` instead of `errorCode`.\n     */\n    get code() { return this.errorCode; }\n    /**\n     * Backward-compat: expose `position` alias for `positionRange` used by older tests.\n     */\n    get position() { return __classPrivateFieldGet(this, _IOError_positionRange, \"f\"); }\n    /**\n     * Initialize the new instance of `IOError`.\n     *\n     * @param errorCode {string} An error-code associated with this error\n     * @param fact {string} The  reason for the error\n     * @param pos {Position} The position object, for tracking line and columns. Optional\n     * @param isEof {boolean} Indicates whether the error is caused by EOF. Optional\n     * @param ssf {Function} The start statck function, removes the irrelavant frames from the stack trace\n     */\n    constructor(errorCode, fact, positionRange, isEof = false, ssf) {\n        super();\n        /**\n         * A position object, for tracking line and columns.\n         */\n        _IOError_positionRange.set(this, void 0);\n        this.errorCode = errorCode;\n        this.fact = fact;\n        __classPrivateFieldSet(this, _IOError_positionRange, positionRange, \"f\");\n        this.isEof = isEof;\n        this.name = 'IOError';\n        // Format the error message\n        this.updateMessage();\n        // TODO: After stability, change the SSF class\n        // Error.captureStackTrace(this, IOError)\n        // Error.captureStackTrace(this, ssf || InternetObject)\n        this.__proto__ = new.target.prototype;\n    }\n    updateMessage() {\n        let errorMsg = `\"${this.errorCode}\" `;\n        if (this.fact) {\n            errorMsg += `\"${this.fact}\" `;\n        }\n        if (this.isEof) {\n            errorMsg += `at EOF`;\n        }\n        else if (__classPrivateFieldGet(this, _IOError_positionRange, \"f\")) {\n            // Handle both PositionRange (with getStartPos) and plain Position-like objects\n            const pr = __classPrivateFieldGet(this, _IOError_positionRange, \"f\");\n            if (typeof pr.getStartPos === 'function') {\n                const startPos = pr.getStartPos();\n                errorMsg += `at ${startPos.row}:${startPos.col}`;\n            }\n            else if (typeof pr.row === 'number' && typeof pr.col === 'number') {\n                errorMsg += `at ${pr.row}:${pr.col}`;\n            }\n        }\n        this.message = errorMsg;\n    }\n}\n_IOError_positionRange = new WeakMap();\nexport default IOError;\n","import InternetObjectError from \"./io-error\";\n/**\n * Represents the validation error in InternetObject. This error is thrown when a validation\n * issue is found while validating the internet-object data against the associated schema.\n */\nclass IOValidationError extends InternetObjectError {\n    /**\n     * Creates a new `IOValidationError` error.\n     *\n     * @param errorCode {string} An error-code associated with this error\n     * @param fact {string} The  reason for the error\n     * @param pos {Position} The position object, for tracking line and columns. Optional\n     * @param isEof {boolean} Indicates whether the error is caused by EOF. Optional\n     * @param ssf {Function} The start statck function, removes the irrelavant frames from the stack trace\n     * @internal\n     */\n    constructor(errorCode, fact, posRange, isEof = false, ssf) {\n        super(errorCode, fact, posRange, isEof, ssf);\n        this.name = 'InternetObject(ValidationError)';\n    }\n}\nexport default IOValidationError;\n","/**\n* Enumeration representing types of tokens.\n*/\nvar TokenType;\n(function (TokenType) {\n    TokenType[\"CURLY_OPEN\"] = \"CURLEY_OPEN\";\n    TokenType[\"CURLY_CLOSE\"] = \"CURLY_CLOSE\";\n    TokenType[\"BRACKET_OPEN\"] = \"BRACKET_OPEN\";\n    TokenType[\"BRACKET_CLOSE\"] = \"BRACKET_CLOSE\";\n    TokenType[\"COLON\"] = \"COLON\";\n    TokenType[\"COMMA\"] = \"COMMA\";\n    TokenType[\"STRING\"] = \"STRING\";\n    TokenType[\"BINARY\"] = \"BINARY\";\n    TokenType[\"NUMBER\"] = \"NUMBER\";\n    TokenType[\"BIGINT\"] = \"BIGINT\";\n    TokenType[\"DECIMAL\"] = \"DECIMAL\";\n    TokenType[\"BOOLEAN\"] = \"BOOLEAN\";\n    TokenType[\"NULL\"] = \"NULL\";\n    TokenType[\"UNDEFINED\"] = \"UNDEFINED\";\n    TokenType[\"DATETIME\"] = \"DATETIME\";\n    TokenType[\"DATE\"] = \"DATE\";\n    TokenType[\"TIME\"] = \"TIME\";\n    TokenType[\"WHITESPACE\"] = \"WHITESPACE\";\n    TokenType[\"SECTION_SEP\"] = \"SECTION_SEP\";\n    TokenType[\"SECTION_SCHEMA\"] = \"SECTION_SCHEMA\";\n    TokenType[\"SECTION_NAME\"] = \"SECTION_NAME\";\n    TokenType[\"COLLECTION_START\"] = \"COLLECTION_START\";\n    TokenType[\"UNKNOWN\"] = \"UNKNOWN\";\n    TokenType[\"ERROR\"] = \"ERROR\";\n})(TokenType || (TokenType = {}));\nexport default TokenType;\n","/**\n* Represents a parsed token.\n*/\nclass Token {\n    constructor() {\n        this.pos = -1;\n        this.row = -1;\n        this.col = -1;\n        this.token = '';\n        this.value = undefined;\n        this.type = '';\n        this.subType = '';\n    }\n    /**\n     * Create a token.\n     * @param pos - The starting position of the token in the input.\n     * @param row - The row number of the token's starting position.\n     * @param col - The column number of the token's starting position.\n     * @param token - The raw text of the token from the input.\n     * @param value - The parsed value of the token.\n     * @param type - A descriptive type name for the token.\n     * @param subType - Optional subtype for the token.\n     */\n    static init(pos, row, col, token, value, type, subType) {\n        const t = new Token();\n        t.pos = pos;\n        t.row = row;\n        t.col = col;\n        t.token = token;\n        t.value = value;\n        t.type = type;\n        if (subType) {\n            t.subType = subType;\n        }\n        return t;\n    }\n    clone() {\n        const t = new Token();\n        t.pos = this.pos;\n        t.row = this.row;\n        t.col = this.col;\n        t.token = this.token;\n        t.value = this.value;\n        t.type = this.type;\n        t.subType = this.subType;\n        return t;\n    }\n    getStartPos() {\n        return { row: this.row, col: this.col, pos: this.pos };\n    }\n    /**\n     * Returns the ending position (row, col, pos) of the token.\n     * Useful for debugging and generating error messages.\n     */\n    getEndPos() {\n        const text = this.token.trimEnd();\n        const lines = text.split('\\n');\n        const lastLine = lines[lines.length - 1];\n        const row = this.row + lines.length - 1;\n        const col = lines.length > 1 ? lastLine.length : this.col + lastLine.length;\n        const pos = this.pos + text.length;\n        return { row, col, pos };\n    }\n}\nexport default Token;\n","import TokenType from '../tokenizer/token-types';\nimport Token from '../tokenizer/tokens';\n/**\n * Represents a token node. It represents the leaf nodes in the AST.\n */\nclass TokenNode extends Token {\n    constructor(token) {\n        super();\n        Object.assign(this, token);\n    }\n    /**\n     * Returns the parsed value from the token.\n     * @param defs If the token is of type string, then check if it is a reference\n     *             and return the value from the definitions.\n     * @returns The parsed value.\n     */\n    toValue(defs) {\n        if ((this.type === 'string' || this.type === TokenType.STRING) && defs !== undefined) {\n            const valueFound = defs.getV(this.value);\n            return valueFound === undefined ? this.value : valueFound;\n        }\n        return this.value;\n    }\n}\nexport default TokenNode;\n","import IOError from '../errors/io-error';\nimport ErrorCodes from '../errors/io-error-codes';\nexport default class Schema {\n    /**\n     * Creates a new instance of Internet Object Schema.\n     * Backward-compatible with legacy constructor usage that passes member objects.\n     * @param name The name of the schema\n     * @param o Optional member definition objects (legacy)\n     */\n    constructor(name, ...o) {\n        /** The names of the members (properties) in the schema */\n        this.names = [];\n        /** The definitions of the members (properties) in the schema */\n        this.defs = {};\n        /**\n         * Controls additional properties (dynamic fields) in the object.\n         * - false: No additional properties allowed\n         * - true: Any additional property allowed (no constraints)\n         * - MemberDef: Additional properties must match the given type/constraints\n         *   (e.g., string, array, object, or with constraints like {string, minLen: 10})\n         *\n         * If the schema uses *: type, *: {}, or *: [string], then open is set to the corresponding MemberDef.\n         * If the schema uses just *, then open is true.\n         * If no * is present, open is false.\n         */\n        this.open = false;\n        this.name = name;\n        // Legacy varargs support: new Schema('Name', { field: def }, { field2: def })\n        if (o && o.length > 0) {\n            o.forEach((item) => {\n                const key = Object.keys(item)[0];\n                const value = item[key];\n                if (value.path === undefined)\n                    value.path = key;\n                this.names.push(key);\n                this.defs[key] = value;\n            });\n        }\n    }\n    /** Returns the member definition of the given member name. */\n    get(name) {\n        return this.defs[name];\n    }\n    /** Checks if a member exists by name. */\n    has(name) {\n        return this.defs[name] !== undefined;\n    }\n    /** Returns the number of members in the schema. */\n    get memberCount() {\n        return this.names.length;\n    }\n    /** Builder entry for new, immutable-style construction while keeping runtime mutability */\n    static create(name) {\n        return new SchemaBuilder(name);\n    }\n    /** Legacy helper for creating from varargs member objects */\n    static fromLegacy(name, ...memberObjects) {\n        return new Schema(name, ...memberObjects);\n    }\n}\nexport class SchemaBuilder {\n    constructor(name) {\n        this.name = name;\n        this.names = [];\n        this.defs = {};\n        this.isOpen = false;\n    }\n    addMember(name, def) {\n        if (this.defs[name]) {\n            throw new IOError(ErrorCodes.duplicateMember, `Member '${name}' already exists in schema '${this.name}'`);\n        }\n        this.names.push(name);\n        this.defs[name] = { ...def, path: def.path || name };\n        return this;\n    }\n    setOpen(open) {\n        this.isOpen = open;\n        return this;\n    }\n    build() {\n        const schema = new Schema(this.name);\n        // Populate mutable structure to keep backward compatibility\n        for (const n of this.names) {\n            schema.names.push(n);\n            schema.defs[n] = this.defs[n];\n        }\n        schema.open = this.isOpen;\n        // Freeze names and defs for immutability\n        Object.freeze(schema.names);\n        Object.freeze(schema.defs);\n        return schema;\n    }\n}\n","import ErrorCodes from '../errors/io-error-codes';\nimport ValidationError from '../errors/io-validation-error';\nimport TokenNode from '../parser/nodes/tokens';\nimport TokenType from '../parser/tokenizer/token-types';\nimport Schema from '../schema/schema';\n/**\n * IODefinitions manages definitions (schemas, variables, and regular definitions) for Internet Object.\n *\n * Definitions are accessed by key, but the order in which they are defined is important:\n * - Variables and schema references defined earlier can be used in later definitions, but not vice versa.\n * - This follows the Internet Object specification (see 'the-definitions').\n *\n * The class provides key-based access, mutation, and iteration facilities, while ensuring definition order is respected for reference resolution.\n */\nclass IODefinitions {\n    constructor() {\n        /**\n         * The default schema, if defined. Reset when $schema is deleted or updated.\n         */\n        this._defaultSchema = null;\n        /**\n         * Internal storage for definitions. Order is preserved as per insertion sequence.\n         */\n        this._definitions = {};\n    }\n    /**\n     * Returns the number of definitions in the collection.\n     * @returns Number of definitions.\n     */\n    get length() {\n        return Object.keys(this._definitions).length;\n    }\n    /**\n     * Returns an array of definition keys, in insertion order.\n     * @returns Array of keys.\n     */\n    get keys() {\n        return Object.keys(this._definitions);\n    }\n    /**\n     * Returns the key-value pair at the specified index, preserving definition order.\n     * @param index Index of the definition.\n     * @returns Object with key and value.\n     */\n    at(index) {\n        const key = this.keys[index];\n        return { key, value: this._definitions[key] };\n    }\n    /**\n     * Returns the default schema, if defined.\n     * @returns The default Schema instance or null.\n     */\n    get defaultSchema() {\n        return this._defaultSchema || this._definitions[\"$schema\"]?.value || null;\n    }\n    /**\n     * Checks if there are any definitions beyond just the default $schema.\n     * Used to determine serialization format:\n     * - false: Output bare schema line (schema-only mode)\n     * - true: Output ~ definitions format (has variables, metadata, or multiple schemas)\n     * @returns True if there are any definitions other than a single $schema, false otherwise\n     */\n    get defaultSchemaOnly() {\n        const keys = Object.keys(this._definitions);\n        return keys.length === 1 && keys[0] === \"$schema\";\n    }\n    /**\n     * Gets a definition value by key, regardless of whether it's a variable, schema, or regular definition.\n     * @param key The definition key\n     * @returns The value associated with the key, or undefined if not found\n     */\n    get(key) {\n        return this._definitions[key]?.value;\n    }\n    /**\n     * Gets the variable value. This function is intended to be used internally\n     * for quickly fetching the variable value, hence it accepts any key to keep the\n     * consumer code free from type checking. The function validates the key and\n     * returns the associated value, if available. Otherwise returns undefined.\n     * @param key {any} The variable key starting with $\n     * @returns The value associated with the variable\n     */\n    getV(k) {\n        let key = \"\";\n        // Check if k is a TokenNode (can have lowercase 'string' or uppercase 'STRING' type)\n        if ((k || {}).type === TokenType.STRING || (k || {}).type === 'string') {\n            key = k.value;\n        }\n        else if (typeof k === 'string') {\n            key = k;\n        }\n        else {\n            return;\n        }\n        const def = this._definitions[key];\n        if (!def) {\n            // Only throw errors for variables and schemas\n            if (key.startsWith(\"$\") || key.startsWith(\"@\")) {\n                const positionParam = (typeof k === 'string') ? undefined : k;\n                if (key.startsWith(\"$\")) {\n                    throw new ValidationError(ErrorCodes.schemaNotDefined, `Schema ${key} is not defined.`, positionParam);\n                }\n                throw new ValidationError(ErrorCodes.variableNotDefined, `Variable ${key} is not defined.`, positionParam);\n            }\n            return undefined;\n        }\n        if (def.isVariable) {\n            return def.value;\n        }\n        // Check nested references. If yes, then resolve them and set in the\n        // place of the variable.\n        if (def.value instanceof TokenNode) {\n            const schema = this.getV(def.value);\n            if (schema instanceof Schema) {\n                this.set(key, schema);\n                return schema;\n            }\n        }\n        return def.value;\n    }\n    set(k, v) {\n        const dv = {\n            isSchema: k.startsWith(\"$\"),\n            isVariable: k.startsWith(\"@\"),\n            value: v\n        };\n        this._definitions[k] = dv;\n        this._defaultSchema = null;\n    }\n    /**\n     * Removes a definition by key.\n     * @param key The key of the definition to remove\n     * @returns True if the key existed and was deleted, false otherwise\n     */\n    delete(key) {\n        if (key in this._definitions) {\n            delete this._definitions[key];\n            // If the deleted key was $schema, reset _defaultSchema\n            if (key === \"$schema\") {\n                this._defaultSchema = null;\n            }\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Pushes a new definition to the definitions list.\n     * @param key The key of the definition\n     * @param value The value of the definition\n     */\n    push(key, value, isSchema = false, isVariable = false) {\n        this._definitions[key] = { isSchema, isVariable, value };\n        if (key === \"$schema\") {\n            this._defaultSchema = value;\n        }\n    }\n    /**\n     * Merges the definitions with the other definitions.\n     * @param other     The other definitions to merge with\n     * @param override  If true, the other definitions will override the current\n     *                  definitions\n     */\n    merge(other, override = false) {\n        for (let i = 0; i < other.length; i++) {\n            const { key, value } = other.at(i);\n            if (override || !this._definitions[key]) {\n                this.push(key, value.value, value.isSchema, value.isVariable);\n            }\n        }\n    }\n    toJSON() {\n        const obj = {};\n        let keysCount = 0;\n        for (let i = 0; i < this.length; i++) {\n            const def = this.at(i);\n            // Skip schema and variable definitions\n            if (def.value.isSchema || def.value.isVariable) {\n                continue;\n            }\n            keysCount++;\n            obj[def.key] = def.value.value?.toObject ? def.value.value.toObject() : def.value.value;\n        }\n        if (keysCount) {\n            return obj;\n        }\n        return null;\n    }\n    /**\n     * Returns an iterator of definition keys.\n     */\n    /**\n     * Returns an iterator of definition keys (useful for for...of).\n     */\n    *keyIterator() {\n        for (const key of Object.keys(this._definitions)) {\n            yield key;\n        }\n    }\n    /**\n     * Returns an iterator of [key, value] pairs.\n     */\n    *entries() {\n        for (const key of this.keyIterator()) {\n            yield [key, this._definitions[key]];\n        }\n    }\n    /**\n     * Default iterator for [key, value] pairs.\n     */\n    *[Symbol.iterator]() {\n        yield* this.entries();\n    }\n}\nexport default IODefinitions;\n","import IODefinitions from './definitions';\nclass IOHeader {\n    constructor() {\n        this._schema = null;\n        this._definitions = new IODefinitions();\n    }\n    get schema() {\n        return this._schema || this._definitions.defaultSchema;\n    }\n    set schema(value) {\n        this._schema = value;\n    }\n    get definitions() {\n        return this._definitions;\n    }\n    merge(other, override = false) {\n        if (override && other.schema) {\n            this._schema = other.schema;\n        }\n        if (other.definitions) {\n            this._definitions.merge(other.definitions, override);\n        }\n    }\n    toJSON() {\n        return this._definitions.toJSON();\n    }\n}\nexport default IOHeader;\n","/**\n * Place this function to check and ensure the code where invoked must never\n * reach. This function is ueful to identify issues with the code by identifying\n * the code path which must have never reached.\n * @param x The object which needs to be asserted as never\n */\nfunction assertNever(x, pos) {\n    let message = \"Assert never\";\n    if (x !== undefined && x !== null) {\n        message = `Assert never: ${x.toString()}`;\n    }\n    if (pos) {\n        message += ` at ${pos.toString()}`;\n    }\n    throw new Error(message);\n}\nexport default assertNever;\n","class IOObject {\n    constructor(o) {\n        this.errors = [];\n        // Initialize private properties as non-enumerable to prevent conflicts with user keys\n        Object.defineProperty(this, 'items', {\n            value: [],\n            writable: true,\n            enumerable: false,\n            configurable: false\n        });\n        Object.defineProperty(this, 'keyMap', {\n            value: new Map(),\n            writable: true,\n            enumerable: false,\n            configurable: false\n        });\n        Object.defineProperty(this, 'errors', {\n            value: [],\n            writable: true,\n            enumerable: false,\n            configurable: false\n        });\n        if (o) {\n            for (const [key, value] of Object.entries(o)) {\n                this.set(key, value);\n            }\n        }\n    }\n    /**\n     * Adds or updates a key-value pair in the IOObject.\n     * If the key exists, updates the value at its index.\n     * @param key The key to add or update.\n     * @param value The value associated with the key.\n     * @returns The IOObject instance.\n     */\n    set(key, value) {\n        if (this.keyMap.has(key)) {\n            const index = this.keyMap.get(key);\n            this.items[index] = [key, value];\n        }\n        else {\n            const index = this.items.length;\n            this.items.push([key, value]);\n            this.keyMap.set(key, index);\n        }\n        // Synchronize instance property (but skip if it's a reserved internal property)\n        if (key !== 'items' && key !== 'keyMap') {\n            Object.defineProperty(this, key, {\n                value,\n                writable: true,\n                enumerable: true,\n                configurable: true\n            });\n        }\n        return this;\n    }\n    /**\n     * Appends values to the IOObject.\n     * Values can be with or without keys.\n     * @param items Variadic arguments of values or [key, value] pairs.\n     */\n    push(...items) {\n        for (const item of items) {\n            if (Array.isArray(item)) {\n                const [key, value] = item;\n                if (this.has(key)) {\n                    throw new Error(`Key '${key}' already exists`);\n                }\n                const index = this.items.length;\n                this.items.push([key, value]);\n                this.keyMap.set(key, index);\n            }\n            else {\n                this.items.push([undefined, item]);\n            }\n        }\n    }\n    /**\n     * Retrieves the value associated with the given key.\n     * @param key The key to look up.\n     * @returns The value if found, otherwise undefined.\n     */\n    get(key) {\n        const index = this.keyMap.get(key);\n        if (index !== undefined) {\n            const entry = this.items[index];\n            return entry ? entry[1] : undefined;\n        }\n        return undefined;\n    }\n    /**\n     * Retrieves the value at the specified index.\n     * @param index The index to access.\n     * @returns The value if index is valid and entry exists, otherwise undefined.\n     */\n    getAt(index) {\n        if (index < 0 || index >= this.items.length) {\n            return undefined;\n        }\n        const entry = this.items[index];\n        return entry ? entry[1] : undefined;\n    }\n    /**\n     * Retrieves the key at the specified index.\n     * @param index The index to access.\n     * @returns The key if index is valid and exists, otherwise undefined.\n     */\n    keyAt(index) {\n        if (index < 0 || index >= this.items.length) {\n            return undefined;\n        }\n        const entry = this.items[index];\n        return entry ? entry[0] : undefined;\n    }\n    /**\n     * Checks if the IOObject contains a given key.\n     * @param key The key to check.\n     * @returns True if the key exists, otherwise false.\n     */\n    has(key) {\n        return this.keyMap.has(key);\n    }\n    /**\n     * Deletes a key-value pair from the IOObject by key.\n     * @param key The key to delete.\n     * @returns True if the key was found and deleted, otherwise false.\n     */\n    delete(key) {\n        const index = this.keyMap.get(key);\n        if (index !== undefined && this.items[index]) {\n            this.items[index] = undefined;\n            this.keyMap.delete(key);\n            // Remove instance property\n            delete this[key];\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Deletes a value at a specific index.\n     * Throws an error if the index is out of range.\n     * @param index The index to delete.\n     * @returns True if the value was deleted, otherwise false.\n     * @throws Error if the index is invalid.\n     */\n    deleteAt(index) {\n        if (index < 0 || index >= this.items.length) {\n            throw new Error('Index out of range');\n        }\n        const entry = this.items[index];\n        if (entry) {\n            const key = entry[0];\n            if (key !== undefined) {\n                this.keyMap.delete(key);\n            }\n            this.items[index] = undefined;\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Updates the value at the specified index.\n     * Throws an error if the index is out of range.\n     * @param index The index to set.\n     * @param value The value to set.\n     * @returns True if the value was updated, otherwise false.\n     * @throws Error if the index is invalid.\n     */\n    setAt(index, value) {\n        if (index < 0 || index >= this.items.length) {\n            throw new Error('Index out of range');\n        }\n        const entry = this.items[index];\n        if (entry) {\n            this.items[index] = [entry[0], value];\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Returns the index of the given key.\n     * @param key The key to find.\n     * @returns The index if found, otherwise -1.\n     */\n    indexOfKey(key) {\n        return this.keyMap.get(key) ?? -1;\n    }\n    /**\n     * Returns the index of the given value.\n     * @param value The value to find.\n     * @returns The index if found, otherwise -1.\n     */\n    indexOf(value) {\n        return this.items.findIndex((entry) => entry !== undefined && Object.is(entry[1], value));\n    }\n    /**\n     * Checks if the IOObject is empty.\n     * @returns True if empty, otherwise false.\n     */\n    isEmpty() {\n        return this.length === 0;\n    }\n    /**\n     * Creates an IOObject from an array of values or [key, value] pairs.\n     * @param array The array to create from.\n     * @returns A new IOObject instance.\n     */\n    static fromArray(array) {\n        const io = new IOObject();\n        for (const item of array) {\n            if (Array.isArray(item)) {\n                io.set(item[0], item[1]);\n            }\n            else {\n                io.push(item);\n            }\n        }\n        return io;\n    }\n    /**\n     * Returns the number of entries in the IOObject, including undefined entries.\n     */\n    get length() {\n        return this.items.length;\n    }\n    /**\n     * Clears all key-value pairs from the IOObject.\n     */\n    clear() {\n        // Remove all instance properties for keys\n        for (const key of this.keysArray()) {\n            delete this[key];\n        }\n        this.items = [];\n        this.keyMap.clear();\n    }\n    /**\n     * Compacts the items array by removing undefined entries and updating the keyMap.\n     * Note: This operation is O(n) and may affect performance on large datasets.\n     * Use this method when you need to reduce memory usage or after multiple deletions.\n     */\n    compact() {\n        const newItems = [];\n        const newKeyMap = new Map();\n        for (const entry of this.items) {\n            if (entry !== undefined) {\n                newItems.push(entry);\n                const key = entry[0];\n                if (key !== undefined) {\n                    newKeyMap.set(key, newItems.length - 1);\n                }\n            }\n        }\n        this.items = newItems;\n        this.keyMap = newKeyMap;\n    }\n    /**\n     * Executes a provided function once for each key-value pair.\n     * @param callbackfn Function to execute for each element.\n     * @param thisArg Value to use as `this` when executing callback.\n     */\n    forEach(callbackfn, thisArg) {\n        for (let index = 0; index < this.items.length; index++) {\n            const entry = this.items[index];\n            if (entry !== undefined) {\n                callbackfn.call(thisArg, entry[1], entry[0], index);\n            }\n        }\n    }\n    /**\n     * Returns an iterable of key, value pairs for every entry in the IOObject.\n     */\n    entries() {\n        return this._createIterator((entry) => entry);\n    }\n    /**\n     * Returns an array of keys in the IOObject.\n     * Excludes entries without keys (i.e., where key is undefined).\n     * @returns An array of keys.\n     */\n    keysArray() {\n        return this.items\n            .filter((entry) => entry !== undefined && entry[0] !== undefined)\n            .map((entry) => entry[0]);\n    }\n    /**\n     * Returns an iterable of keys in the IOObject.\n     * Excludes entries without keys (i.e., where key is undefined).\n     */\n    keys() {\n        return (function* (items) {\n            for (const entry of items) {\n                if (entry !== undefined && entry[0] !== undefined) {\n                    yield entry[0];\n                }\n            }\n        })(this.items);\n    }\n    /**\n     * Returns an iterable of values in the IOObject.\n     */\n    values() {\n        return (function* (items) {\n            for (const entry of items) {\n                if (entry !== undefined) {\n                    yield entry[1];\n                }\n            }\n        })(this.items);\n    }\n    /**\n     * Returns an array of values in the IOObject.\n     * Includes all entries, even those without keys.\n     * @returns An array of values.\n     */\n    valuesArray() {\n        return this.items\n            .filter((entry) => entry !== undefined)\n            .map((entry) => entry[1]);\n    }\n    /**\n     * Creates an iterator based on a selector function.\n     * @param selector Function to select the output of the iterator.\n     */\n    *_createIterator(selector) {\n        for (const entry of this.items) {\n            if (entry !== undefined) {\n                yield selector(entry);\n            }\n        }\n    }\n    /**\n     * Returns an iterator over the entries in insertion order.\n     */\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    /**\n     * Returns the default string representation of the object.\n     */\n    get [Symbol.toStringTag]() {\n        return 'IOObject';\n    }\n    /**\n     * Finds a value based on a predicate function.\n     * @param predicate Function to test each element.\n     * @returns The value if found, otherwise undefined.\n     */\n    find(predicate) {\n        let index = 0;\n        for (const entry of this.items) {\n            if (entry !== undefined && predicate(entry[1], entry[0], index)) {\n                return entry[1];\n            }\n            index++;\n        }\n        return undefined;\n    }\n    /**\n     * Finds the index of a value based on a predicate function.\n     * @param predicate Function to test each element.\n     * @returns The index if found, otherwise -1.\n     */\n    findIndex(predicate) {\n        let index = 0;\n        for (const entry of this.items) {\n            if (entry !== undefined && predicate(entry[1], entry[0], index)) {\n                return index;\n            }\n            index++;\n        }\n        return -1;\n    }\n    /**\n     * Creates a new array populated with the results of calling a provided function on every element.\n     * @param callbackfn Function that produces an element of the new Array.\n     * @param thisArg Value to use as `this` when executing callback.\n     * @returns A new array with each element being the result of the callback function.\n     */\n    map(callbackfn, thisArg) {\n        const result = [];\n        let index = 0;\n        for (const entry of this.items) {\n            if (entry !== undefined) {\n                result.push(callbackfn.call(thisArg, entry[1], entry[0], index));\n            }\n            index++;\n        }\n        return result;\n    }\n    /**\n     * Converts the InternetObject to a JSON object. If the items do not have keys,\n     * use the index as the key. If the value has toJSON method, it will be called.\n     * Used when calling JSON.stringify.\n     * @returns An array of entries.\n     */\n    toJSON() {\n        const obj = {};\n        this.forEach((value, key, index) => {\n            if (typeof value === \"undefined\")\n                return;\n            obj[key || index] =\n                typeof value === 'object' && typeof value?.toJSON === 'function'\n                    ? value.toJSON()\n                    : value;\n        });\n        return obj;\n    }\n}\nexport default IOObject;\n","import assertNever from '../errors/asserts/asserts';\nimport IOObject from \"./internet-object\";\n/**\n * IOCollection is a collection of IOObject instances.\n */\nclass IOCollection {\n    /**\n     * Constructs a new IOCollection instance.\n     * @param items - An optional array of items to initialize the collection with.\n     */\n    constructor(items = []) {\n        this.errors = [];\n        this._items = items;\n    }\n    /**\n     * Pushes one or more items to the IOCollection\n     * @param items - The items to push.\n     * @returns The updated IOCollection.\n     */\n    push(...items) {\n        this._items.push(...items);\n        return this;\n    }\n    /**\n     * Gets the item at the specified index.\n     * @param index - The index of the item to retrieve.\n     * @throws {Error} If the index is out of range.\n     * @returns The item at the specified index.\n     */\n    getAt(index) {\n        if (index < 0 || index >= this._items.length) {\n            throw new Error('Index out of range');\n        }\n        return this._items[index];\n    }\n    /**\n     * Sets the item at the specified index.\n     * @param index - The index at which to set the item.\n     * @param item - The item to set.\n     * @throws {Error} If the index is negative.\n     * @returns The updated IOCollection.\n     */\n    setAt(index, item) {\n        if (index < 0) {\n            throw new Error('Index cannot be negative.');\n        }\n        if (index >= this._items.length) {\n            this._items.push(item);\n        }\n        else {\n            this._items[index] = item;\n        }\n        return this;\n    }\n    /**\n     * Deletes an item from the IOCollection at the specified index.\n     * @param index - The index of the item to delete.\n     * @throws {Error} If the index is out of range.\n     * @returns The updated IOCollection.\n     */\n    deleteAt(index) {\n        if (index < 0 || index >= this._items.length) {\n            throw new Error('Index out of range');\n        }\n        this._items.splice(index, 1);\n        return this;\n    }\n    /**\n     * Gets the length of the IOCollection.\n     * @returns The number of items in the IOCollection.\n     */\n    get length() {\n        return this._items.length;\n    }\n    /**\n     * Checks if the IOCollection is empty.\n     * @returns True if the IOCollection is empty, otherwise false.\n     */\n    get isEmpty() {\n        return this.length === 0;\n    }\n    /**\n     * Creates a new IOCollection with the results of calling a provided function on every element.\n     * @param callback - Function that produces an element of the new IOCollection.\n     * @returns A new IOCollection with each element being the result of the callback function.\n     */\n    map(callback) {\n        const mappedItems = this._items.map(callback);\n        return new IOCollection(mappedItems);\n    }\n    /**\n     * Creates a new IOCollection with all elements that pass the test implemented by the provided function.\n     * @param callback - Function to test each element of the IOCollection.\n     * @returns A new IOCollection with the elements that pass the test.\n     */\n    filter(callback) {\n        const filteredItems = this._items.filter(callback);\n        return new IOCollection(filteredItems);\n    }\n    /**\n     * Applies a function against an accumulator and each element in the IOCollection to reduce it to a single value.\n     * @param callback - Function to execute on each element in the IOCollection.\n     * @param initialValue - Initial value to start the reduction.\n     * @returns The single value that results from the reduction.\n     */\n    reduce(callback, initialValue) {\n        return this._items.reduce(callback, initialValue);\n    }\n    /**\n     * Executes a provided function once for each IOCollection element.\n     * @param callback - Function to execute on each element.\n     */\n    forEach(callback) {\n        this._items.forEach(callback);\n    }\n    /**\n     * Tests whether at least one element in the IOCollection passes the test implemented by the provided function.\n     * @param callback - Function to test each element.\n     * @returns True if the callback function returns a truthy value for at least one element, otherwise false.\n     */\n    some(callback) {\n        return this._items.some(callback);\n    }\n    /**\n     * Tests whether all elements in the IOCollection pass the test implemented by the provided function.\n     * @param callback - Function to test each element.\n     * @returns True if the callback returns a truthy value for all elements, otherwise false.\n     */\n    every(callback) {\n        return this._items.every(callback);\n    }\n    /**\n     * Returns the value of the first element in the IOCollection that satisfies the provided testing function.\n     * @param callback - Function to execute on each element.\n     * @returns The first element that satisfies the testing function, or undefined if no elements satisfy it.\n     */\n    find(callback) {\n        return this._items.find(callback);\n    }\n    /**\n     * Returns the index of the first element in the IOCollection that satisfies the provided testing function.\n     * @param callback - Function to execute on each element.\n     * @returns The index of the first element that satisfies the testing function, or -1 if no elements satisfy it.\n     */\n    findIndex(callback) {\n        return this._items.findIndex(callback);\n    }\n    /**\n     * Inserts one or more items into the IOCollection at the specified index.\n     * @param index - The index at which to insert the items.\n     * @param items - The items to insert.\n     * @returns The new length of the IOCollection.\n     */\n    insert(index, ...items) {\n        this._items.splice(index, 0, ...items);\n        return this._items.length;\n    }\n    /**\n     * Removes the last item from the IOCollection.\n     * @returns The removed item, or undefined if the IOCollection is empty.\n     */\n    pop() {\n        return this._items.pop();\n    }\n    /**\n     * Converts the IOCollection to a JSON-compatible representation.\n     * @param options Optional configuration for JSON conversion\n     * @param options.skipErrors If true, excludes error objects from output (default: false)\n     * @returns An array of JSON-compatible representations of the items.\n     */\n    toJSON(options) {\n        const skipErrors = options?.skipErrors ?? false;\n        return this._items\n            .filter((item) => {\n            // If skipErrors is true, filter out items with toValue that return __error\n            if (skipErrors && typeof item === 'object' && item !== null) {\n                if (typeof item.toValue === 'function') {\n                    const value = item.toValue();\n                    if (value && value.__error === true) {\n                        return false; // Skip this error item\n                    }\n                }\n            }\n            return true; // Keep this item\n        })\n            .map((item) => {\n            if (item instanceof IOObject) {\n                return item.toJSON();\n            }\n            else if (typeof item === 'object' && item !== null) {\n                // Check if item has toValue method (e.g., ErrorNode)\n                if (typeof item.toValue === 'function') {\n                    return item.toValue();\n                }\n                // Check if item has toJSON method\n                if (typeof item.toJSON === 'function') {\n                    return item.toJSON();\n                }\n                return JSON.stringify(item);\n            }\n            return item;\n        });\n    }\n    /**\n     * Returns all Error objects contained within this collection's ErrorNodes.\n     *\n     * Note: This method is primarily useful when working with collections directly.\n     * When using Document.getErrors(), all errors (parser + validation) are already\n     * aggregated at the document level.\n     *\n     * @returns Array of Error objects from ErrorNode items in this collection\n     */\n    getErrors() {\n        const errors = [];\n        for (const item of this._items) {\n            // ErrorNode-like shape: has an `error` property of type Error\n            if (item && typeof item === 'object' && item.error instanceof Error) {\n                errors.push(item.error);\n            }\n        }\n        return errors;\n    }\n    /**\n     * Allows iteration over the IOCollection using for..of syntax.\n     * @returns An iterator for the IOCollection.\n     */\n    *[Symbol.iterator]() {\n        yield* this._items;\n    }\n    /**\n     * Returns an iterator of [index, item] pairs.\n     * @returns An iterator of index-item pairs.\n     */\n    *entries() {\n        for (let index = 0; index < this._items.length; index++) {\n            yield [index, this._items[index]];\n        }\n    }\n    /**\n     * Returns an iterator of item indices.\n     * @returns An iterator of item indices.\n     */\n    *keys() {\n        for (let index = 0; index < this._items.length; index++) {\n            yield index;\n        }\n    }\n    /**\n     * Returns an iterator of IOCollection items.\n     * @returns An iterator of IOCollection items.\n     */\n    *values() {\n        yield* this._items;\n    }\n}\nconst proxy = {\n    get: (target, property) => {\n        if (property in target) {\n            return Reflect.get(target, property);\n        }\n        if (typeof property === 'string' && /^[0-9]+$/.test(property)) {\n            return target.getAt(Number(property));\n        }\n        assertNever(property);\n    },\n    set: (target, property, value) => {\n        if (typeof property === 'string' && /^[0-9]+$/.test(property)) {\n            target.setAt(Number(property), value);\n            return true;\n        }\n        throw new Error('Cannot set a value on a Collection');\n    },\n    deleteProperty: (target, property) => {\n        if (typeof property === 'string' && /^[0-9]+$/.test(property)) {\n            const index = Number(property);\n            target.deleteAt(index);\n            return true;\n        }\n        throw new Error('Cannot delete a value on a Collection');\n    }\n};\nexport default IOCollection;\n","/**\n * Decimal Utility Functions\n *\n * Core utility functions for decimal arithmetic operations following KISS principles.\n * All functions use BigInt-only calculations and avoid JavaScript Number class.\n */\nimport { DecimalError } from './decimal';\n/**\n * Normalizes a BigInt coefficient by handling leading zeros and sign normalization.\n *\n * @param coefficient The BigInt coefficient to normalize\n * @returns Normalized coefficient and zero flag\n */\nexport function normalizeCoefficient(coefficient) {\n    // Handle zero case\n    if (coefficient === 0n) {\n        return {\n            coefficient: 0n,\n            isZero: true\n        };\n    }\n    // For non-zero values, BigInt already handles normalization\n    // No leading zeros exist in BigInt representation\n    return {\n        coefficient,\n        isZero: false\n    };\n}\n/**\n * Gets the absolute value of a BigInt coefficient.\n *\n * @param coefficient The BigInt coefficient\n * @returns The absolute value as BigInt\n */\nexport function getAbsoluteValue(coefficient) {\n    return coefficient < 0n ? -coefficient : coefficient;\n}\n/**\n * Gets the sign of a BigInt coefficient.\n *\n * @param coefficient The BigInt coefficient\n * @returns 1 for positive, -1 for negative, 0 for zero\n */\nexport function getSign(coefficient) {\n    if (coefficient === 0n)\n        return 0;\n    return coefficient > 0n ? 1 : -1;\n}\n/**\n * Cache for powers of 10\n */\nconst POW10_CACHE = new Map();\n/**\n * Gets a power of 10 as BigInt, using cache for performance.\n * @param exponent The exponent for the power of 10\n * @returns 10^exponent as BigInt\n */\nexport function getPow10(exponent) {\n    if (exponent < 0) {\n        throw new Error('Exponent must be non-negative');\n    }\n    if (!POW10_CACHE.has(exponent)) {\n        POW10_CACHE.set(exponent, 10n ** BigInt(exponent));\n    }\n    return POW10_CACHE.get(exponent);\n}\n/**\n * Scales up a coefficient by multiplying by powers of 10.\n * Effectively moves the decimal point to the right.\n *\n * @param coefficient The BigInt coefficient to scale up\n * @param scaleFactor The number of decimal places to scale up (must be non-negative)\n * @returns The scaled up coefficient\n * @throws Error if scaleFactor is negative\n */\nexport function scaleUp(coefficient, scaleFactor) {\n    if (scaleFactor < 0) {\n        throw new Error(`Scale factor must be non-negative, got ${scaleFactor}`);\n    }\n    if (scaleFactor === 0) {\n        return coefficient;\n    }\n    return coefficient * getPow10(scaleFactor);\n}\n/**\n * Scales down a coefficient by dividing by powers of 10 with basic truncation.\n * Effectively moves the decimal point to the left.\n *\n * @param coefficient The BigInt coefficient to scale down\n * @param scaleFactor The number of decimal places to scale down (must be non-negative)\n * @returns The scaled down coefficient (truncated, not rounded)\n * @throws Error if scaleFactor is negative\n */\nexport function scaleDown(coefficient, scaleFactor) {\n    if (scaleFactor < 0) {\n        throw new Error('Scale factor must be non-negative');\n    }\n    if (scaleFactor === 0) {\n        return coefficient;\n    }\n    return coefficient / getPow10(scaleFactor);\n}\n/**\n * Rounds a coefficient using round-half-up behavior when scaling down.\n *\n * @param coefficient The BigInt coefficient to round\n * @param currentScale The current scale of the coefficient\n * @param targetScale The target scale after rounding\n * @returns The rounded coefficient\n * @throws Error if targetScale is negative or currentScale is negative\n */\nexport function roundHalfUp(coefficient, currentScale, targetScale) {\n    if (currentScale < 0 || targetScale < 0) {\n        throw new Error('Scales must be non-negative');\n    }\n    if (currentScale <= targetScale) {\n        // Scale up by padding zeros\n        return scaleUp(coefficient, targetScale - currentScale);\n    }\n    // Scale down with rounding\n    const scaleDiff = currentScale - targetScale;\n    const divisor = getPow10(scaleDiff);\n    const quotient = coefficient / divisor;\n    const remainder = coefficient % divisor;\n    // Round half up logic\n    const halfDivisor = divisor / 2n;\n    const absRemainder = remainder < 0n ? -remainder : remainder;\n    if (absRemainder >= halfDivisor) {\n        return quotient + (coefficient >= 0n ? 1n : -1n);\n    }\n    return quotient;\n}\n/**\n * Rounds a coefficient using ceiling behavior (always round up) when scaling down.\n *\n * @param coefficient The BigInt coefficient to round\n * @param currentScale The current scale of the coefficient\n * @param targetScale The target scale after rounding\n * @returns The ceiling rounded coefficient\n * @throws Error if targetScale is negative or currentScale is negative\n */\nexport function ceilRound(coefficient, currentScale, targetScale) {\n    if (currentScale < 0 || targetScale < 0) {\n        throw new Error('Scales must be non-negative');\n    }\n    if (currentScale <= targetScale) {\n        // Scale up by padding zeros\n        return scaleUp(coefficient, targetScale - currentScale);\n    }\n    // Scale down with ceiling\n    const scaleDiff = currentScale - targetScale;\n    const divisor = getPow10(scaleDiff);\n    const quotient = coefficient / divisor;\n    const remainder = coefficient % divisor;\n    // Ceiling logic: if there's any remainder and coefficient is positive, round up\n    // If coefficient is negative and there's remainder, don't round (towards zero)\n    if (remainder !== 0n && coefficient > 0n) {\n        return quotient + 1n;\n    }\n    return quotient;\n}\n/**\n * Rounds a coefficient using floor behavior (always round down) when scaling down.\n *\n * @param coefficient The BigInt coefficient to round\n * @param currentScale The current scale of the coefficient\n * @param targetScale The target scale after rounding\n * @returns The floor rounded coefficient\n * @throws Error if targetScale is negative or currentScale is negative\n */\nexport function floorRound(coefficient, currentScale, targetScale) {\n    if (currentScale < 0 || targetScale < 0) {\n        throw new Error('Scales must be non-negative');\n    }\n    if (currentScale <= targetScale) {\n        // Scale up by padding zeros\n        return scaleUp(coefficient, targetScale - currentScale);\n    }\n    // Scale down with floor\n    const scaleDiff = currentScale - targetScale;\n    const divisor = getPow10(scaleDiff);\n    const quotient = coefficient / divisor;\n    const remainder = coefficient % divisor;\n    // Floor logic: if there's any remainder and coefficient is negative, round down\n    // If coefficient is positive and there's remainder, don't round (towards zero)\n    if (remainder !== 0n && coefficient < 0n) {\n        return quotient - 1n;\n    }\n    return quotient;\n}\n/**\n * Formats a BigInt coefficient as a decimal string with the specified scale and precision.\n * Uses normalization utilities for proper coefficient handling and decimal point placement.\n *\n * @param coefficient The BigInt coefficient to format\n * @param scale The number of decimal places\n * @param precision Optional. The total number of significant digits. If provided, validates that the coefficient fits within precision.\n * @returns The formatted decimal string\n * @throws Error if the coefficient exceeds the specified precision\n */\nexport function formatBigIntAsDecimal(coefficient, scale, precision) {\n    // Handle zero case\n    if (coefficient === 0n) {\n        return scale > 0 ? `0.${'0'.repeat(scale)}` : '0';\n    }\n    // Validate precision and scale if precision is provided\n    if (precision !== undefined) {\n        const validationResult = validatePrecisionScale(coefficient, precision, scale);\n        if (!validationResult.valid) {\n            throw new DecimalError(`Coefficient validation failed: ${validationResult.reason}`);\n        }\n    }\n    // Extract sign and work with absolute value\n    const sign = coefficient < 0n ? '-' : '';\n    const absCoeff = coefficient < 0n ? -coefficient : coefficient;\n    let coeffStr = absCoeff.toString();\n    // Pad with leading zeros if needed\n    while (coeffStr.length <= scale) {\n        coeffStr = '0' + coeffStr;\n    }\n    // Split into integer and fractional parts\n    const integerPart = coeffStr.slice(0, coeffStr.length - scale) || '0';\n    const fractionalPart = scale > 0 ? coeffStr.slice(-scale) : '';\n    // Validate that the formatted number fits within precision constraints\n    // This is a check on the significant digits in the formatted result\n    if (precision !== undefined) {\n        // Count significant digits (ignore leading zeros in integer part)\n        const significantIntegerDigits = integerPart === '0' ? 0 : integerPart.replace(/^0+/, '').length;\n        // For fractional part, count all digits except trailing zeros if integer part is 0\n        let significantFractionalDigits = fractionalPart.length;\n        if (significantIntegerDigits === 0) {\n            // For values less than 1, ignore leading zeros in fractional part\n            const significantFractionalPart = fractionalPart.replace(/^0+/, '');\n            significantFractionalDigits = significantFractionalPart.length || 0;\n        }\n        const totalSignificantDigits = significantIntegerDigits + significantFractionalDigits;\n        if (totalSignificantDigits > precision) {\n            throw new DecimalError(`Formatted value exceeds specified precision (${precision}). Value has ${totalSignificantDigits} significant digits.`);\n        }\n    }\n    return sign + integerPart + (scale > 0 ? '.' + fractionalPart : '');\n}\n/**\n * Fits a coefficient to the specified precision by truncating and rounding if necessary.\n * Uses the specified rounding mode to handle precision overflow.\n *\n * @param coefficient The BigInt coefficient to fit to precision\n * @param precision The maximum number of significant digits allowed\n * @param scale The current scale of the coefficient\n * @param roundingMode The rounding mode to use ('round', 'ceil', 'floor')\n * @returns The coefficient fitted to the specified precision\n * @throws DecimalError if the coefficient cannot be fitted to the precision\n */\nexport function fitToPrecision(coefficient, precision, scale, roundingMode = 'round') {\n    // Handle zero coefficient\n    if (coefficient === 0n) {\n        return 0n;\n    }\n    // Get absolute value for digit counting\n    const absCoeff = getAbsoluteValue(coefficient);\n    const coeffStr = absCoeff.toString();\n    // If already fits within precision, return unchanged\n    if (coeffStr.length <= precision) {\n        return coefficient;\n    }\n    // Calculate how many digits to remove\n    const excessDigits = coeffStr.length - precision;\n    // If excess digits are more than scale, we can't fit without losing integer part\n    if (excessDigits > scale) {\n        // We would lose digits from the integer part, which is not allowed\n        throw new DecimalError(`Cannot fit coefficient to precision ${precision}. ` +\n            `Coefficient has ${coeffStr.length} digits with scale ${scale}. ` +\n            `Would lose ${excessDigits - scale} digits from integer part.`);\n    }\n    // Calculate target scale after truncation\n    const targetScale = scale - excessDigits;\n    // Apply appropriate rounding based on mode\n    let result;\n    switch (roundingMode) {\n        case 'round':\n            result = roundHalfUp(coefficient, scale, targetScale);\n            break;\n        case 'ceil':\n            result = ceilRound(coefficient, scale, targetScale);\n            break;\n        case 'floor':\n            result = floorRound(coefficient, scale, targetScale);\n            break;\n        default:\n            throw new DecimalError(`Invalid rounding mode: ${roundingMode}`);\n    }\n    // Verify the result fits within precision\n    const resultStr = getAbsoluteValue(result).toString();\n    if (resultStr.length > precision) {\n        // This can happen with rounding (e.g., 999 rounded to 2 digits becomes 1000)\n        // In this case, we need to adjust scale again\n        if (targetScale > 0) {\n            // Use the same rounding mode for consistency\n            switch (roundingMode) {\n                case 'round':\n                    return roundHalfUp(result, targetScale, targetScale - 1);\n                case 'ceil':\n                    return ceilRound(result, targetScale, targetScale - 1);\n                case 'floor':\n                    return floorRound(result, targetScale, targetScale - 1);\n                default:\n                    throw new DecimalError(`Invalid rounding mode: ${roundingMode}`);\n            }\n        }\n        else {\n            // Special case for rounding that causes overflow (e.g., 9999 -> 10000)\n            // If the result ends with zeros, we can remove them to fit precision\n            if (result % 10n === 0n) {\n                // Count trailing zeros\n                let tempResult = result;\n                let zerosToRemove = 0;\n                while (tempResult % 10n === 0n && zerosToRemove < resultStr.length - precision) {\n                    tempResult = tempResult / 10n;\n                    zerosToRemove++;\n                }\n                if (getAbsoluteValue(tempResult).toString().length <= precision) {\n                    return tempResult;\n                }\n            }\n            throw new DecimalError(`Rounding resulted in precision overflow. ` +\n                `Result has ${resultStr.length} digits, but precision is ${precision}.`);\n        }\n    }\n    return result;\n}\n/**\n * Validates if a coefficient fits within the specified precision and scale constraints.\n *\n * @param coefficient The BigInt coefficient to validate\n * @param precision The maximum number of significant digits allowed\n * @param scale The number of decimal places\n * @returns A ValidationResult object indicating if the coefficient is valid and why if not\n */\nexport function validatePrecisionScale(coefficient, precision, scale) {\n    // Validate precision and scale parameters\n    if (precision <= 0) {\n        return { valid: false, reason: 'Precision must be positive' };\n    }\n    if (scale < 0) {\n        return { valid: false, reason: 'Scale must be non-negative' };\n    }\n    if (scale > precision) {\n        return { valid: false, reason: 'Scale must be less than or equal to precision' };\n    }\n    // Handle zero coefficient (always valid)\n    if (coefficient === 0n) {\n        return { valid: true };\n    }\n    // Get absolute value for digit counting\n    const absCoeff = getAbsoluteValue(coefficient);\n    const coeffStr = absCoeff.toString();\n    // Check if coefficient fits within precision\n    if (coeffStr.length > precision) {\n        return {\n            valid: false,\n            reason: `Coefficient has ${coeffStr.length} digits, exceeding precision of ${precision}`\n        };\n    }\n    // Calculate integer part digits\n    const integerDigits = coeffStr.length - scale;\n    // If integer part is negative, we have leading zeros in fractional part\n    if (integerDigits < 0) {\n        // This is valid, as it means we have leading zeros in fractional part\n        // For example: 0.001 with scale 3 has integerDigits = -2\n        return { valid: true };\n    }\n    // If we get here, the coefficient fits within precision and scale constraints\n    return { valid: true };\n}\n/**\n * Performs long division between two BigInt coefficients with specified scale and precision.\n * Handles repeating decimals and precision constraints.\n *\n * @param dividend The dividend coefficient\n * @param divisor The divisor coefficient (must not be zero)\n * @param scale The desired scale (decimal places) for the result\n * @param precision The maximum precision allowed for the result\n * @param maxIterations Maximum number of iterations to detect repeating decimals (default: 100)\n * @returns A DivisionResult object containing quotient, remainder, and flags for exactness and repeating digits\n * @throws DecimalError if divisor is zero or if precision constraints cannot be met\n */\nexport function performLongDivision(dividend, divisor, scale, precision, maxIterations = 100) {\n    // Validate inputs\n    if (divisor === 0n) {\n        throw new DecimalError(\"Division by zero\");\n    }\n    if (precision <= 0) {\n        throw new DecimalError(\"Precision must be positive\");\n    }\n    if (scale < 0) {\n        throw new DecimalError(\"Scale must be non-negative\");\n    }\n    if (scale > precision) {\n        throw new DecimalError(\"Scale must be less than or equal to precision\");\n    }\n    // Handle zero dividend case\n    if (dividend === 0n) {\n        return {\n            quotient: 0n,\n            remainder: 0n,\n            isExact: true\n        };\n    }\n    // Work with absolute values for division\n    const isNegative = (dividend < 0n) !== (divisor < 0n);\n    const absDividend = getAbsoluteValue(dividend);\n    const absDivisor = getAbsoluteValue(divisor);\n    // Scale up the dividend to get the desired decimal places (use cached pow10)\n    const scaledDividend = absDividend * getPow10(scale);\n    // Perform integer division\n    let quotient = scaledDividend / absDivisor;\n    const remainder = scaledDividend % absDivisor;\n    // Check if division is exact\n    const isExact = remainder === 0n;\n    // Apply sign to quotient\n    if (isNegative) {\n        quotient = -quotient;\n    }\n    // Check for repeating decimals if not exact\n    let repeatingDigits;\n    if (!isExact && scale > 0) {\n        repeatingDigits = detectRepeatingDecimals(absDividend, absDivisor, scale, maxIterations);\n    }\n    // Ensure the result fits within precision constraints\n    const quotientStr = getAbsoluteValue(quotient).toString();\n    if (quotientStr.length > precision) {\n        // For division, we should truncate excess digits rather than trying to round\n        // This is because division can produce an infinite number of digits\n        const excessDigits = quotientStr.length - precision;\n        if (excessDigits <= scale) {\n            // We can truncate from the fractional part\n            const divisor = 10n ** BigInt(excessDigits);\n            quotient = quotient / divisor;\n        }\n        else {\n            // Cannot fit within precision constraints\n            throw new DecimalError(`Division result exceeds precision limit (${precision}). ` +\n                `Result has ${quotientStr.length} digits, but precision is ${precision}.`);\n        }\n    }\n    return {\n        quotient,\n        remainder: isNegative ? -remainder : remainder,\n        isExact,\n        repeatingDigits\n    };\n}\n/**\n * Aligns two decimal operands to have the same scale for arithmetic operations.\n * Scales up the operand with the smaller scale to match the larger scale.\n *\n * @param aCoefficient First operand coefficient\n * @param aScale Scale of the first operand\n * @param bCoefficient Second operand coefficient\n * @param bScale Scale of the second operand\n * @param maxScale Optional maximum scale to limit the result scale (default: no limit)\n * @param roundingMode The rounding mode to use when scaling down ('round', 'ceil', 'floor')\n * @returns An AlignedOperands object with aligned coefficients and the target scale\n */\nexport function alignOperands(aCoefficient, aScale, bCoefficient, bScale, maxScale, roundingMode = 'round') {\n    // Handle zero operands\n    if (aCoefficient === 0n) {\n        return {\n            a: 0n,\n            b: bCoefficient,\n            targetScale: bScale,\n            scaleAdjustment: 0\n        };\n    }\n    if (bCoefficient === 0n) {\n        return {\n            a: aCoefficient,\n            b: 0n,\n            targetScale: aScale,\n            scaleAdjustment: 0\n        };\n    }\n    // Determine target scale (the larger of the two scales)\n    let targetScale = Math.max(aScale, bScale);\n    // Apply maximum scale constraint if provided\n    if (maxScale !== undefined && targetScale > maxScale) {\n        targetScale = maxScale;\n    }\n    // Calculate scale adjustments\n    const aAdjustment = targetScale - aScale;\n    const bAdjustment = targetScale - bScale;\n    // Scale up operands as needed\n    let adjustedA = aCoefficient;\n    let adjustedB = bCoefficient;\n    if (aAdjustment > 0) {\n        adjustedA = scaleUp(aCoefficient, aAdjustment);\n    }\n    if (bAdjustment > 0) {\n        adjustedB = scaleUp(bCoefficient, bAdjustment);\n    }\n    // If maxScale is less than either original scale, we need to scale down\n    if (maxScale !== undefined) {\n        if (aScale > maxScale) {\n            // Use the specified rounding mode\n            switch (roundingMode) {\n                case 'round':\n                    adjustedA = roundHalfUp(aCoefficient, aScale, maxScale);\n                    break;\n                case 'ceil':\n                    adjustedA = ceilRound(aCoefficient, aScale, maxScale);\n                    break;\n                case 'floor':\n                    adjustedA = floorRound(aCoefficient, aScale, maxScale);\n                    break;\n                default:\n                    throw new DecimalError(`Invalid rounding mode: ${roundingMode}`);\n            }\n        }\n        if (bScale > maxScale) {\n            // Use the specified rounding mode\n            switch (roundingMode) {\n                case 'round':\n                    adjustedB = roundHalfUp(bCoefficient, bScale, maxScale);\n                    break;\n                case 'ceil':\n                    adjustedB = ceilRound(bCoefficient, bScale, maxScale);\n                    break;\n                case 'floor':\n                    adjustedB = floorRound(bCoefficient, bScale, maxScale);\n                    break;\n                default:\n                    throw new DecimalError(`Invalid rounding mode: ${roundingMode}`);\n            }\n        }\n    }\n    return {\n        a: adjustedA,\n        b: adjustedB,\n        targetScale,\n        scaleAdjustment: Math.max(aAdjustment, bAdjustment)\n    };\n}\n/**\n * Detects repeating decimals in division operation.\n * Uses the standard long division algorithm to identify repeating patterns.\n *\n * @param dividend The dividend (absolute value)\n * @param divisor The divisor (absolute value)\n * @param scale The desired scale (decimal places)\n * @param maxIterations Maximum iterations to detect repeating pattern\n * @returns The repeating decimal digits as a string, or undefined if no repeating pattern found\n */\nfunction detectRepeatingDecimals(dividend, divisor, scale, maxIterations) {\n    // First, get the integer part out of the way\n    const integerPart = dividend / divisor;\n    let remainder = dividend % divisor;\n    // If remainder is zero, there's no repeating decimal\n    if (remainder === 0n) {\n        return undefined;\n    }\n    // Track remainders to detect cycles\n    const remainders = new Map();\n    let fractionalDigits = '';\n    let position = 0;\n    // Perform long division algorithm\n    while (remainder !== 0n && position < maxIterations) {\n        // Scale up remainder by 10\n        remainder = remainder * 10n;\n        // Store the current remainder and position\n        const remainderKey = remainder.toString();\n        if (remainders.has(remainderKey)) {\n            // Found a repeating pattern\n            const cycleStart = remainders.get(remainderKey);\n            return fractionalDigits.substring(cycleStart);\n        }\n        remainders.set(remainderKey, position);\n        // Calculate next digit and remainder\n        const digit = remainder / divisor;\n        remainder = remainder % divisor;\n        // Add digit to fractional part\n        fractionalDigits += digit.toString();\n        position++;\n    }\n    // If we've reached max iterations without finding a cycle,\n    // we can't determine if there's a repeating pattern\n    return undefined;\n} /**\n\n * RDBMS-compliant precision and scale calculation result\n */\n/**\n * Calculates the result precision and scale for addition/subtraction operations\n * following RDBMS/SQL standards.\n *\n * RDBMS Standard for Addition/Subtraction:\n * - Result Scale = max(scale1, scale2)\n * - Result Precision = max(precision1 - scale1, precision2 - scale2) + result_scale + 1\n *\n * The +1 accounts for potential carry in addition or borrow in subtraction.\n *\n * @param precision1 Precision of first operand\n * @param scale1 Scale of first operand\n * @param precision2 Precision of second operand\n * @param scale2 Scale of second operand\n * @returns RdbmsArithmeticResult with calculated precision and scale\n * @throws DecimalError if parameters are invalid\n */\nexport function calculateAdditionResultPrecisionScale(precision1, scale1, precision2, scale2) {\n    // Validate input parameters\n    if (precision1 <= 0 || precision2 <= 0) {\n        throw new DecimalError('Precision must be positive');\n    }\n    if (scale1 < 0 || scale2 < 0) {\n        throw new DecimalError('Scale must be non-negative');\n    }\n    if (scale1 > precision1 || scale2 > precision2) {\n        throw new DecimalError('Scale must not exceed precision');\n    }\n    // Calculate result scale (maximum of input scales)\n    const resultScale = Math.max(scale1, scale2);\n    // Calculate integer digits for each operand\n    const integerDigits1 = precision1 - scale1;\n    const integerDigits2 = precision2 - scale2;\n    // Calculate result precision\n    // max(integer_digits) + result_scale + 1 (for potential carry/borrow)\n    const maxIntegerDigits = Math.max(integerDigits1, integerDigits2);\n    const resultPrecision = maxIntegerDigits + resultScale + 1;\n    return {\n        precision: resultPrecision,\n        scale: resultScale\n    };\n}\n/**\n * Calculates the result precision and scale for multiplication operations\n * following RDBMS/SQL standards.\n *\n * RDBMS Standard for Multiplication:\n * - Result Scale = scale1 + scale2\n * - Result Precision = precision1 + precision2 + 1\n *\n * The +1 accounts for potential overflow in multiplication.\n *\n * @param precision1 Precision of first operand\n * @param scale1 Scale of first operand\n * @param precision2 Precision of second operand\n * @param scale2 Scale of second operand\n * @returns RdbmsArithmeticResult with calculated precision and scale\n * @throws DecimalError if parameters are invalid\n */\nexport function calculateMultiplicationResultPrecisionScale(precision1, scale1, precision2, scale2) {\n    // Validate input parameters\n    if (precision1 <= 0 || precision2 <= 0) {\n        throw new DecimalError('Precision must be positive');\n    }\n    if (scale1 < 0 || scale2 < 0) {\n        throw new DecimalError('Scale must be non-negative');\n    }\n    if (scale1 > precision1 || scale2 > precision2) {\n        throw new DecimalError('Scale must not exceed precision');\n    }\n    // Calculate result scale (sum of input scales)\n    const resultScale = scale1 + scale2;\n    // Calculate result precision (sum of input precisions + 1 for overflow)\n    const resultPrecision = precision1 + precision2 + 1;\n    return {\n        precision: resultPrecision,\n        scale: resultScale\n    };\n}\n/**\n * Calculates the result precision and scale for division operations\n * following RDBMS/SQL standards.\n *\n * RDBMS Standard for Division (varies by system, this follows common approach):\n * - Result Scale = max(6, scale1 + precision2 + 1)\n * - Result Precision = precision1 - scale1 + scale2 + max(6, scale1 + precision2 + 1)\n *\n * Different RDBMS systems handle division differently:\n * - SQL Server: Uses a complex formula with minimum scale of 6\n * - PostgreSQL: Uses configurable precision\n * - Oracle: Uses maximum available precision\n *\n * This implementation follows a conservative approach similar to SQL Server.\n *\n * @param precision1 Precision of dividend\n * @param scale1 Scale of dividend\n * @param precision2 Precision of divisor\n * @param scale2 Scale of divisor\n * @param minScale Minimum scale for result (default: 6, following SQL Server)\n * @returns RdbmsArithmeticResult with calculated precision and scale\n * @throws DecimalError if parameters are invalid\n */\nexport function calculateDivisionResultPrecisionScale(precision1, scale1, precision2, scale2, minScale = 6) {\n    // Validate input parameters\n    if (precision1 <= 0 || precision2 <= 0) {\n        throw new DecimalError('Precision must be positive');\n    }\n    if (scale1 < 0 || scale2 < 0) {\n        throw new DecimalError('Scale must be non-negative');\n    }\n    if (scale1 > precision1 || scale2 > precision2) {\n        throw new DecimalError('Scale must not exceed precision');\n    }\n    if (minScale < 0) {\n        throw new DecimalError('Minimum scale must be non-negative');\n    }\n    // Calculate result scale\n    const calculatedScale = scale1 + precision2 + 1;\n    const resultScale = Math.max(minScale, calculatedScale);\n    // Calculate result precision\n    const integerDigits1 = precision1 - scale1;\n    const resultPrecision = integerDigits1 + scale2 + resultScale;\n    return {\n        precision: resultPrecision,\n        scale: resultScale\n    };\n}\n/**\n * Validates that the calculated precision and scale are within reasonable limits\n * and adjusts them if necessary to prevent overflow or excessive memory usage.\n *\n * @param precision The calculated precision\n * @param scale The calculated scale\n * @param maxPrecision Maximum allowed precision (default: 38, SQL Server limit)\n * @param maxScale Maximum allowed scale (default: same as maxPrecision)\n * @returns Adjusted RdbmsArithmeticResult within limits\n * @throws DecimalError if the result cannot be represented within limits\n */\nexport function validateAndAdjustPrecisionScale(precision, scale, maxPrecision = 38, maxScale) {\n    const effectiveMaxScale = maxScale ?? maxPrecision;\n    // Validate basic constraints\n    if (precision <= 0) {\n        throw new DecimalError('Precision must be positive');\n    }\n    if (scale < 0) {\n        throw new DecimalError('Scale must be non-negative');\n    }\n    if (scale > precision) {\n        throw new DecimalError('Scale must not exceed precision');\n    }\n    // Check if within limits\n    if (precision <= maxPrecision && scale <= effectiveMaxScale) {\n        return { precision, scale };\n    }\n    // Adjust if exceeding limits\n    let adjustedPrecision = Math.min(precision, maxPrecision);\n    let adjustedScale = Math.min(scale, effectiveMaxScale);\n    // Ensure scale doesn't exceed adjusted precision\n    if (adjustedScale > adjustedPrecision) {\n        // Prioritize scale, but ensure we have at least 1 integer digit\n        adjustedScale = Math.max(0, adjustedPrecision - 1);\n    }\n    // Ensure we have at least 1 integer digit\n    if (adjustedScale >= adjustedPrecision) {\n        adjustedScale = Math.max(0, adjustedPrecision - 1);\n    }\n    return {\n        precision: adjustedPrecision,\n        scale: adjustedScale\n    };\n}\n/**\n * Determines the appropriate precision and scale for a decimal result\n * based on the operation type and operand characteristics.\n *\n * This is a convenience function that combines the specific calculation\n * functions with validation and adjustment.\n *\n * @param operation The arithmetic operation type\n * @param precision1 Precision of first operand\n * @param scale1 Scale of first operand\n * @param precision2 Precision of second operand\n * @param scale2 Scale of second operand\n * @param options Optional configuration for limits and division behavior\n * @returns RdbmsArithmeticResult with final precision and scale\n */\nexport function calculateRdbmsArithmeticResult(operation, precision1, scale1, precision2, scale2, options) {\n    let result;\n    // Calculate based on operation type\n    switch (operation) {\n        case 'add':\n        case 'subtract':\n            result = calculateAdditionResultPrecisionScale(precision1, scale1, precision2, scale2);\n            break;\n        case 'multiply':\n            result = calculateMultiplicationResultPrecisionScale(precision1, scale1, precision2, scale2);\n            break;\n        case 'divide':\n            result = calculateDivisionResultPrecisionScale(precision1, scale1, precision2, scale2, options?.divisionMinScale);\n            break;\n        default:\n            throw new DecimalError(`Unsupported operation: ${operation}`);\n    }\n    // Validate and adjust if necessary\n    return validateAndAdjustPrecisionScale(result.precision, result.scale, options?.maxPrecision, options?.maxScale);\n}\n","// Decimal.ts\n// A high-precision decimal number implementation with controlled rounding behaviors\nimport { alignOperands, formatBigIntAsDecimal, roundHalfUp, ceilRound, floorRound, validatePrecisionScale, calculateRdbmsArithmeticResult, scaleUp, getPow10 } from './decimal-utils';\nexport class DecimalError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"DecimalError\";\n    }\n}\nclass Decimal {\n    /**\n     * Constructs a Decimal instance by parsing the input value.\n     *\n     * Constructor behavior varies based on input type:\n     *\n     * 1. String input:\n     *    - If precision/scale not provided: Infers from string format\n     *    - If precision/scale provided: Validates and formats according to specs\n     *    Example: new Decimal(\"123.45\") or new Decimal(\"123.45\", 5, 2)\n     *\n     * 2. Decimal input (conversion):\n     *    - If precision/scale not provided: Inherits from source Decimal\n     *    - If precision/scale provided: Adjusts value to match new precision/scale\n     *    Example: new Decimal(existingDecimal) or new Decimal(existingDecimal, 5, 2)\n     *\n     * 3. Number input:\n     *    - Always requires precision and scale parameters\n     *    Example: new Decimal(123.45, 5, 2)\n     *\n     * @param value The value to initialize the Decimal with (string, number, or Decimal)\n     * @param precision The total number of significant digits (M)\n     * @param scale The number of digits after the decimal point (D)\n     * @throws {DecimalError} If value format is invalid or precision/scale constraints are violated\n     */\n    constructor(value, precision, scale) {\n        // Initialize with default values to satisfy TypeScript\n        this.coefficient = 0n;\n        this.exponent = 0;\n        // Infer or validate precision and scale based on input type\n        [precision, scale] = this.resolvePrecisionAndScale(value, precision, scale);\n        // Store the precision and scale\n        this.precision = precision;\n        this.scale = scale;\n        // Validate scale and precision relationship\n        this.validatePrecisionAndScale(precision, scale);\n        // Initialize the decimal based on the input type\n        let decimalInit;\n        if (typeof value === 'string') {\n            decimalInit = this.initFromString(value, precision, scale);\n        }\n        else if (typeof value === 'number') {\n            decimalInit = this.initFromNumber(value, precision, scale);\n        }\n        else if (value instanceof Decimal) {\n            decimalInit = this.initFromDecimal(value, precision, scale);\n        }\n        else {\n            throw new DecimalError(\"Unsupported value type for Decimal constructor.\");\n        }\n        // Assign the computed coefficient and exponent\n        this.coefficient = decimalInit.coefficient;\n        this.exponent = decimalInit.exponent;\n    }\n    /**\n     * Resolves precision and scale values based on the input type.\n     * For strings, infers from the string if not provided.\n     * For Decimal instances, inherits from source if not provided.\n     * For numbers, ensures both are provided.\n     *\n     * @private\n     */\n    resolvePrecisionAndScale(value, precision, scale) {\n        if (typeof value === 'number') {\n            if (precision === undefined || scale === undefined) {\n                throw new DecimalError(\"Precision and scale must be provided for number type.\");\n            }\n            return [precision, scale];\n        }\n        if (value instanceof Decimal) {\n            if (precision === undefined || scale === undefined) {\n                precision = value.getPrecision();\n                scale = value.getScale();\n            }\n            return [precision, scale];\n        }\n        if (typeof value === 'string') {\n            if (precision === undefined || scale === undefined) {\n                // Infer precision and scale from string\n                const regex = /^-?(\\d+)(?:\\.(\\d+))?$/;\n                const match = value.trim().match(regex);\n                if (!match) {\n                    throw new DecimalError(\"Invalid decimal string format.\");\n                }\n                const integerPart = match[1];\n                const fractionalPart = match[2] || '';\n                // Calculate precision using significant digits rules:\n                // Leading zeros in the integer part are not counted as significant\n                // For values like \"0.12345\", only count the fractional part (5 digits)\n                // For values like \"123.45\", count all digits (5 digits)\n                const trimmedInteger = integerPart.replace(/^0+/, ''); // Remove leading zeros\n                const significantIntegerDigits = trimmedInteger.length || 0;\n                precision = significantIntegerDigits + fractionalPart.length;\n                scale = fractionalPart.length;\n                // Ensure precision is at least 1 (even for value \"0\")\n                if (precision === 0) {\n                    precision = 1;\n                }\n            }\n            return [precision, scale];\n        }\n        throw new DecimalError(\"Unsupported value type for Decimal constructor.\");\n    }\n    /**\n     * Validates that scale is less than or equal to precision.\n     * @private\n     */\n    validatePrecisionAndScale(precision, scale) {\n        // Use the utility function for validation\n        const result = validatePrecisionScale(1n, precision, scale); // Coefficient doesn't matter for parameter validation\n        if (!result.valid) {\n            throw new DecimalError(result.reason || \"Invalid precision or scale\");\n        }\n    }\n    /**\n     * Initializes a Decimal from a string value.\n     * @private\n     */\n    initFromString(value, precision, scale) {\n        // Validate string format\n        if (!Decimal.isValidDecimal(value)) {\n            throw new DecimalError(\"Invalid decimal string format.\");\n        }\n        // Parse the string into components\n        const { sign, integerPart, fractionalPart } = Decimal.parseString(value);\n        // Process the fractional part with potential rounding\n        let adjustedInteger = integerPart;\n        let adjustedFractional = fractionalPart;\n        // Process rounding if needed\n        if (fractionalPart.length > scale) {\n            const rounded = Decimal.roundForDecimal(integerPart + '.' + fractionalPart, precision, scale);\n            adjustedInteger = rounded.integerPart;\n            adjustedFractional = rounded.fractionalPart;\n        }\n        else {\n            // Pad with zeros if needed\n            adjustedFractional = fractionalPart.padEnd(scale, '0');\n        }\n        // Normalize integer part by removing leading zeros\n        const normalizedInteger = adjustedInteger.replace(/^0+/, '') || '0';\n        // Combine integer and fractional parts for coefficient\n        const combined = normalizedInteger + adjustedFractional;\n        // Remove leading zeros from combined (except when value is zero)\n        const combinedNormalized = combined.replace(/^0+/, '') || '0';\n        // Calculate total digits and validate precision\n        if (combinedNormalized.length > precision) {\n            // Try rounding to fit precision at the target scale\n            const rounded = Decimal.roundForDecimal(normalizedInteger + '.' + adjustedFractional, precision, scale);\n            const roundedCombined = rounded.integerPart + rounded.fractionalPart;\n            // If after rounding the significant digits still exceed precision, throw\n            if (roundedCombined.replace(/^0+/, '').length > precision) {\n                throw new DecimalError(`Value '${value}' exceeds specified precision (${precision}) after rounding.`);\n            }\n            const coeff = BigInt(roundedCombined);\n            return {\n                coefficient: sign === '-' ? -coeff : coeff,\n                exponent: scale\n            };\n        }\n        // Convert to BigInt with sign\n        const coeff = BigInt(combinedNormalized);\n        return {\n            coefficient: sign === '-' ? -coeff : coeff,\n            exponent: scale\n        };\n    }\n    /**\n     * Initializes a Decimal from a number value.\n     * @private\n     */\n    initFromNumber(value, precision, scale) {\n        // Convert number to string and reuse string initialization logic\n        return this.initFromString(value.toString(), precision, scale);\n    }\n    /**\n     * Initializes a Decimal from an existing Decimal instance.\n     * @private\n     */\n    initFromDecimal(value, precision, scale) {\n        const fromPrecision = value.getPrecision();\n        const fromScale = value.getScale();\n        const fromCoefficient = value.getCoefficient();\n        // Calculate integer part capacity\n        const targetIntegerDigits = precision - scale;\n        // Determine actual integer digits used\n        const valueStr = value.toString();\n        const actualIntegerDigits = valueStr.split('.')[0].replace('-', '').length;\n        // Ensure integer part fits in target precision-scale\n        if (actualIntegerDigits > targetIntegerDigits) {\n            throw new DecimalError(`Cannot adjust precision: integer part needs ${actualIntegerDigits} digits, ` +\n                `but target precision-scale only allows ${targetIntegerDigits}.`);\n        }\n        // Handle scale adjustments\n        if (scale > fromScale) {\n            return this.increaseScaleForDecimal(value, precision, scale, fromScale, fromCoefficient);\n        }\n        else if (scale < fromScale) {\n            return this.decreaseScaleForDecimal(value, precision, scale, fromScale, fromCoefficient);\n        }\n        else {\n            return this.sameScaleForDecimal(value, precision, scale, fromCoefficient);\n        }\n    }\n    /**\n     * Handles increasing the scale when converting from one Decimal to another.\n     * @private\n     */\n    increaseScaleForDecimal(value, precision, scale, fromScale, fromCoefficient) {\n        // Scale increase: pad with zeros using util\n        const scaleDifference = scale - fromScale;\n        const newCoefficient = scaleUp(fromCoefficient, scaleDifference);\n        // Verify the new coefficient fits within precision\n        const newCoeffStr = newCoefficient.toString().replace('-', '');\n        if (newCoeffStr.length > precision) {\n            throw new DecimalError(`Value exceeds the specified precision (${precision}) after scaling.`);\n        }\n        return {\n            coefficient: newCoefficient,\n            exponent: scale\n        };\n    }\n    /**\n     * Handles decreasing the scale when converting from one Decimal to another.\n     * @private\n     */\n    decreaseScaleForDecimal(value, precision, scale, fromScale, fromCoefficient) {\n        // Scale decrease: use util roundHalfUp\n        const roundedCoefficient = roundHalfUp(fromCoefficient, fromScale, scale);\n        // Update precision to match resultant digits\n        const roundedStr = roundedCoefficient.toString().replace('-', '');\n        precision = roundedStr.length;\n        return {\n            coefficient: roundedCoefficient,\n            exponent: scale\n        };\n    }\n    /**\n     * Handles keeping the same scale when converting from one Decimal to another.\n     * @private\n     */\n    sameScaleForDecimal(value, precision, scale, fromCoefficient) {\n        // Same scale, just verify precision\n        if (value.getTotalDigits() > precision) {\n            throw new DecimalError(`Value exceeds the specified precision (${precision}).`);\n        }\n        return {\n            coefficient: fromCoefficient,\n            exponent: scale\n        };\n    }\n    /**\n     * Special rounding implementation specifically for the Decimal constructor.\n     * Ensures correct rounding behavior for all cases including edge cases.\n     * @private\n     */\n    static roundForDecimal(value, _precision, targetScale) {\n        // Parse into parts (positive only; sign handled by caller)\n        const [intRaw = '0', fracRaw = ''] = value.split('.');\n        const currentScale = fracRaw.length;\n        // Build coefficient (no sign)\n        const coeff = BigInt((intRaw || '0') + (fracRaw || ''));\n        // Adjust scale using canonical roundHalfUp\n        const adjusted = roundHalfUp(coeff, currentScale, targetScale);\n        // Format via canonical formatter and split\n        const formatted = formatBigIntAsDecimal(adjusted, targetScale);\n        const [integerPart, fractionalPart = ''] = formatted.split('.');\n        return { integerPart, fractionalPart };\n    }\n    /**\n     * Returns the number of significant digits (excluding sign).\n     * @private\n     */\n    getTotalDigits() {\n        return this.coefficient.toString().replace('-', '').length;\n    }\n    /**\n     * Validates if a string is a valid decimal format.\n     * @param str The string to validate.\n     * @returns True if valid, else false.\n     */\n    static isValidDecimal(str) {\n        // Trim leading/trailing whitespace\n        let trimmed = str.trim();\n        // Remove trailing 'm' if present (like \"123.45m\")\n        if (trimmed.endsWith('m')) {\n            trimmed = trimmed.slice(0, -1);\n        }\n        // Match standard decimal formats including scientific notation\n        const regex = /^[+\\-]?\\d+(\\.\\d+)?([eE][+-]?\\d+)?$/;\n        return regex.test(trimmed);\n    }\n    /**\n     * Parses the string into sign, integer part, and fractional part.\n     * Handles scientific notation and normalization.\n     * @param str The string to parse.\n     * @returns An object containing sign, integerPart, and fractionalPart.\n     */\n    static parseString(str) {\n        let trimmed = str.trim();\n        // Remove trailing 'm' if present (like \"123.45m\")\n        if (trimmed.endsWith('m')) {\n            trimmed = trimmed.slice(0, -1);\n        }\n        let sign = '';\n        // Handle sign\n        if (trimmed.startsWith('-')) {\n            sign = '-';\n            trimmed = trimmed.slice(1);\n        }\n        else if (trimmed.startsWith('+')) {\n            trimmed = trimmed.slice(1);\n        }\n        // Split into mantissa and exponent parts\n        const [mantissa, exponentPart] = trimmed.split(/[eE]/);\n        const exponent = exponentPart ? parseInt(exponentPart, 10) : 0;\n        // Split mantissa into integer and fractional parts\n        const [integerPartRaw, fractionalPartRaw = ''] = mantissa.split('.');\n        let integerPart = integerPartRaw || '0';\n        let fractionalPart = fractionalPartRaw;\n        // Adjust for exponent\n        if (exponent > 0) {\n            // Positive exponent moves decimal point right\n            if (fractionalPart.length > exponent) {\n                integerPart += fractionalPart.slice(0, exponent);\n                fractionalPart = fractionalPart.slice(exponent);\n            }\n            else {\n                integerPart += fractionalPart.padEnd(exponent, '0');\n                fractionalPart = '';\n            }\n        }\n        else if (exponent < 0) {\n            // Negative exponent moves decimal point left\n            const absExp = Math.abs(exponent);\n            if (integerPart.length > absExp) {\n                fractionalPart = integerPart.slice(-absExp) + fractionalPart;\n                integerPart = integerPart.slice(0, -absExp);\n            }\n            else {\n                fractionalPart = integerPart.padStart(absExp, '0') + fractionalPart;\n                integerPart = '0';\n            }\n        }\n        return { sign, integerPart, fractionalPart };\n    }\n    /**\n     * Converts the input value to a Decimal instance.\n     * @param value The value to convert to a Decimal.\n     * @returns A Decimal instance.\n     * @throws {DecimalError} If the value cannot be converted to a Decimal.\n     */\n    static ensureDecimal(value) {\n        if (value instanceof Decimal) {\n            return value;\n        }\n        if (typeof value === 'number') {\n            return new Decimal(value.toString());\n        }\n        if (typeof value === 'string') {\n            return new Decimal(value);\n        }\n        throw new DecimalError(`Unsupported value type for Decimal conversion: ${typeof value}`);\n    }\n    /**\n     * Converts the Decimal instance to a JavaScript Number.\n     * @returns The numeric representation.\n     * @throws {DecimalError} If the conversion results in infinity.\n     */\n    toNumber() {\n        const sign = this.coefficient < 0n ? '-' : '';\n        let absCoeffStr = (this.coefficient < 0n ? -this.coefficient : this.coefficient).toString();\n        // For integers, directly convert\n        if (this.exponent === 0) {\n            return Number(`${sign}${absCoeffStr}`);\n        }\n        // For decimals, format appropriately\n        while (absCoeffStr.length <= this.exponent) {\n            absCoeffStr = '0' + absCoeffStr;\n        }\n        const integerPart = absCoeffStr.slice(0, -this.exponent) || '0';\n        const fractionalPart = absCoeffStr.slice(-this.exponent);\n        const numberStr = `${sign}${integerPart}.${fractionalPart}`;\n        const numberValue = Number(numberStr);\n        // Safe check for overflow\n        if (!isFinite(numberValue)) {\n            throw new DecimalError(\"Conversion to Number results in Infinity.\");\n        }\n        return numberValue;\n    }\n    /**\n     * Compares this Decimal instance with another.\n     * @param other The other Decimal to compare with.\n     * @returns 1 if greater, -1 if less, 0 if equal.\n     * @throws {DecimalError} If decimals have different precision or scale.\n     */\n    compareTo(other) {\n        // Ensure same precision and scale\n        if (this.precision !== other.precision || this.scale !== other.scale) {\n            throw new DecimalError(\"Decimals must have the same precision and scale for comparison.\");\n        }\n        if (this.coefficient === other.coefficient)\n            return 0;\n        return this.coefficient > other.coefficient ? 1 : -1;\n    }\n    /**\n     * Compares the structure of this Decimal with another.\n     * The structure is defined by precision and scale.\n     * @param other The other Decimal to compare.\n     * @returns True if the structure is the same, else false.\n     */\n    compareStructure(other) {\n        return this.precision === other.precision && this.scale === other.scale;\n    }\n    /**\n     * Checks if this Decimal is equal to another.\n     * @param other The other Decimal to compare with.\n     * @returns True if equal, else false.\n     */\n    equals(other) {\n        return this.compareTo(other) === 0;\n    }\n    /**\n     * Checks if this Decimal is less than another.\n     * @param other The other Decimal to compare with.\n     * @returns True if less, else false.\n     */\n    lessThan(other) {\n        return this.compareTo(other) === -1;\n    }\n    /**\n     * Checks if this Decimal is greater than another.\n     * @param other The other Decimal to compare with.\n     * @returns True if greater, else false.\n     */\n    greaterThan(other) {\n        return this.compareTo(other) === 1;\n    }\n    /**\n     * Checks if this Decimal is less than or equal to another.\n     * @param other The other Decimal to compare with.\n     * @returns True if less than or equal, else false.\n     */\n    lessThanOrEqual(other) {\n        return this.compareTo(other) <= 0;\n    }\n    /**\n     * Checks if this Decimal is greater than or equal to another.\n     * @param other The other Decimal to compare with.\n     * @returns True if greater than or equal, else false.\n     */\n    greaterThanOrEqual(other) {\n        return this.compareTo(other) >= 0;\n    }\n    /**\n     * Returns the string representation of the Decimal.\n     * @returns The normalized string representation.\n     */\n    toString() {\n        return formatBigIntAsDecimal(this.coefficient, this.scale);\n    }\n    /**\n     * Gets the total number of significant digits.\n     * @returns The precision value.\n     */\n    getPrecision() {\n        return this.precision;\n    }\n    /**\n     * Gets the number of fractional digits.\n     * @returns The scale value.\n     */\n    getScale() {\n        return this.scale;\n    }\n    /**\n     * Gets the exponent (same as scale for this implementation).\n     * @returns The exponent value.\n     */\n    getExponent() {\n        return this.exponent;\n    }\n    /**\n     * Gets the internal coefficient (scaled integer representation).\n     * @returns The coefficient as a BigInt.\n     */\n    getCoefficient() {\n        return this.coefficient;\n    }\n    /**\n     * Gets the format pattern representing the precision and scale.\n     * @returns A string representing the format pattern (e.g., \"xxx.xx\").\n     */\n    getFormatPattern() {\n        const precision = 'x'.repeat(this.precision - this.scale);\n        const scale = 'x'.repeat(this.scale);\n        return this.scale > 0 ? `${precision}.${scale}` : `${precision}`;\n    }\n    /**\n     * Converts this Decimal to a new Decimal with the specified precision and scale.\n     * @param targetPrecision The total number of significant digits (M)\n     * @param targetScale The number of digits after the decimal point (D)\n     * @returns A new Decimal with the specified precision and scale\n     * @throws {DecimalError} If conversion is not possible due to precision constraints\n     */\n    convert(targetPrecision, targetScale) {\n        // Validate that the target scale doesn't exceed the target precision\n        if (targetScale > targetPrecision) {\n            throw new DecimalError(\"Scale must be less than or equal to precision.\");\n        }\n        try {\n            // Use the existing constructor logic to handle precision and scale conversion\n            return new Decimal(this, targetPrecision, targetScale);\n        }\n        catch (error) {\n            // Re-throw the error for clarity\n            if (error instanceof DecimalError) {\n                throw error;\n            }\n            // Wrap any other unexpected errors\n            throw new DecimalError(`Conversion failed: ${error instanceof Error ? error.message : String(error)}`);\n        }\n    }\n    /**\n     * Rounds this Decimal to the specified precision and scale using round-half-up behavior.\n     * @param targetPrecision The total number of significant digits (M)\n     * @param targetScale The number of digits after the decimal point (D)\n     * @returns A new Decimal with the specified precision and scale, rounded using round-half-up\n     * @throws {DecimalError} If targetScale > targetPrecision or if parameters are invalid\n     */\n    round(targetPrecision, targetScale) {\n        // Use the utility function\n        // Validate parameters\n        if (targetScale > targetPrecision) {\n            throw new DecimalError(\"Scale must be less than or equal to precision.\");\n        }\n        if (targetPrecision < 1) {\n            throw new DecimalError(\"Precision must be at least 1.\");\n        }\n        if (targetScale < 0) {\n            throw new DecimalError(\"Scale must be non-negative.\");\n        }\n        // Round the coefficient to the target scale\n        const roundedCoeff = roundHalfUp(this.coefficient, this.scale, targetScale);\n        // Format as decimal string and create new Decimal\n        const decimalStr = formatBigIntAsDecimal(roundedCoeff, targetScale);\n        return new Decimal(decimalStr, targetPrecision, targetScale);\n    }\n    /**\n     * Rounds this Decimal to the specified precision and scale using ceiling behavior (always round up).\n     * @param targetPrecision The total number of significant digits (M)\n     * @param targetScale The number of digits after the decimal point (D)\n     * @returns A new Decimal with the specified precision and scale, rounded using ceiling\n     * @throws {DecimalError} If targetScale > targetPrecision or if parameters are invalid\n     */\n    ceil(targetPrecision, targetScale) {\n        // Use the utility function\n        // Validate parameters\n        if (targetScale > targetPrecision) {\n            throw new DecimalError(\"Scale must be less than or equal to precision.\");\n        }\n        if (targetPrecision < 1) {\n            throw new DecimalError(\"Precision must be at least 1.\");\n        }\n        if (targetScale < 0) {\n            throw new DecimalError(\"Scale must be non-negative.\");\n        }\n        // Round the coefficient using ceiling behavior\n        const ceiledCoeff = ceilRound(this.coefficient, this.scale, targetScale);\n        // Format as decimal string and create new Decimal\n        const decimalStr = formatBigIntAsDecimal(ceiledCoeff, targetScale);\n        return new Decimal(decimalStr, targetPrecision, targetScale);\n    }\n    /**\n     * Rounds this Decimal to the specified precision and scale using floor behavior (always round down).\n     * @param targetPrecision The total number of significant digits (M)\n     * @param targetScale The number of digits after the decimal point (D)\n     * @returns A new Decimal with the specified precision and scale, rounded using floor\n     * @throws {DecimalError} If targetScale > targetPrecision or if parameters are invalid\n     */\n    floor(targetPrecision, targetScale) {\n        // Use the utility function\n        // Validate parameters\n        if (targetScale > targetPrecision) {\n            throw new DecimalError(\"Scale must be less than or equal to precision.\");\n        }\n        if (targetPrecision < 1) {\n            throw new DecimalError(\"Precision must be at least 1.\");\n        }\n        if (targetScale < 0) {\n            throw new DecimalError(\"Scale must be non-negative.\");\n        }\n        // Round the coefficient using floor behavior\n        const flooredCoeff = floorRound(this.coefficient, this.scale, targetScale);\n        // Format as decimal string and create new Decimal\n        const decimalStr = formatBigIntAsDecimal(flooredCoeff, targetScale);\n        return new Decimal(decimalStr, targetPrecision, targetScale);\n    }\n    /**\n     * Computes the modulo (remainder) of this Decimal by another Decimal.\n     * Uses truncation toward zero for the quotient (RDBMS-like), so the remainder has the same sign as the dividend.\n     * Result scale is max(scale1, scale2).\n     * @param other The Decimal divisor\n     * @returns A new Decimal representing (this % other)\n     */\n    mod(other) {\n        if (!(other instanceof Decimal))\n            throw new DecimalError('Invalid operand');\n        if (other.coefficient === 0n)\n            throw new DecimalError('Division by zero');\n        // Align both operands to a common scale T = max(s1, s2) without losing precision\n        const { a: aCoeff, b: bCoeff, targetScale } = alignOperands(this.coefficient, this.scale, other.coefficient, other.scale);\n        // Integer division with truncation toward zero (BigInt division semantics)\n        const q = aCoeff / bCoeff;\n        const remainderCoeff = aCoeff - q * bCoeff;\n        // Determine precision from actual digits\n        const digits = remainderCoeff.toString().replace('-', '').length;\n        const finalPrecision = Math.max(digits, this.precision, other.precision);\n        const resultStr = formatBigIntAsDecimal(remainderCoeff, targetScale);\n        return new Decimal(resultStr, finalPrecision, targetScale);\n    }\n    /**\n     * Adds this Decimal to another and returns a new Decimal.\n     * The result will match the scale of the first operand (this), and will be rounded if necessary.\n     * @param other The Decimal to add.\n     * @returns A new Decimal representing the sum, rounded to this.scale.\n     */\n    /**\n * Adds this Decimal to another and returns a new Decimal.\n * The result will match the scale of the first operand (this), and will be rounded if necessary.\n * @param other The Decimal to add.\n * @returns A new Decimal representing the sum, rounded to this.scale.\n */\n    /**\n * Adds this Decimal to another and returns a new Decimal.\n * The result will match the scale of the first operand (this), and will be rounded if necessary.\n * @param other The Decimal to add.\n * @returns A new Decimal representing the sum, rounded to this.scale.\n */\n    add(other) {\n        if (!(other instanceof Decimal))\n            throw new DecimalError('Invalid operand');\n        // RDBMS addition: resultScale = max(s1, s2); resultPrecision per standard\n        const { precision: calcPrecision, scale: calcScale } = calculateRdbmsArithmeticResult('add', this.precision, this.scale, other.precision, other.scale, { maxPrecision: 10000, maxScale: 10000 });\n        // Align operands to calcScale\n        const { a: aCoeff, b: bCoeff } = alignOperands(this.coefficient, this.scale, other.coefficient, other.scale, calcScale, 'round');\n        // Add aligned coefficients\n        const sumCoeff = aCoeff + bCoeff;\n        // Determine final precision: accommodate actual digits if they exceed calcPrecision\n        const digits = sumCoeff.toString().replace('-', '').length;\n        const finalPrecision = Math.max(calcPrecision, digits);\n        // Format and construct\n        const resultStr = formatBigIntAsDecimal(sumCoeff, calcScale);\n        return new Decimal(resultStr, finalPrecision, calcScale);\n    }\n    /**\n     * Subtracts another Decimal from this and returns a new Decimal.\n     * The result will match the scale of the first operand (this), and will be rounded if necessary.\n     * @param other The Decimal to subtract.\n     * @returns A new Decimal representing the difference, rounded to this.scale.\n     */\n    sub(other) {\n        if (!(other instanceof Decimal))\n            throw new DecimalError('Invalid operand');\n        // RDBMS subtraction: use utility to determine result precision/scale\n        const { precision: calcPrecision, scale: calcScale } = calculateRdbmsArithmeticResult('subtract', this.precision, this.scale, other.precision, other.scale, { maxPrecision: 10000, maxScale: 10000 });\n        // Align operands to calcScale\n        const { a: aCoeff, b: bCoeff } = alignOperands(this.coefficient, this.scale, other.coefficient, other.scale, calcScale, 'round');\n        // Subtract aligned coefficients\n        const diffCoeff = aCoeff - bCoeff;\n        // Determine final precision: accommodate actual digits if they exceed calcPrecision\n        const digits = diffCoeff.toString().replace('-', '').length;\n        const finalPrecision = Math.max(calcPrecision, digits);\n        // Format and construct\n        const resultStr = formatBigIntAsDecimal(diffCoeff, calcScale);\n        return new Decimal(resultStr, finalPrecision, calcScale);\n    }\n    /**\n     * Multiplies this Decimal by another and returns a new Decimal.\n     * Uses utility functions for scale operations and rounding.\n     * The result scale follows RDBMS standard: max(scale1, scale2).\n     * @param other The Decimal to multiply by.\n     * @returns A new Decimal representing the product with RDBMS-compliant scale.\n     */\n    mul(other) {\n        if (!(other instanceof Decimal))\n            throw new DecimalError('Invalid operand');\n        // Multiply coefficients directly using BigInt arithmetic\n        const resultCoeff = this.coefficient * other.coefficient;\n        const intermediateScale = this.scale + other.scale;\n        // Tests expect result scale to be max(s1, s2)\n        const targetScale = Math.max(this.scale, other.scale);\n        // Adjust result to target scale\n        let adjustedCoeff = resultCoeff;\n        if (intermediateScale > targetScale) {\n            adjustedCoeff = roundHalfUp(resultCoeff, intermediateScale, targetScale);\n        }\n        else if (intermediateScale < targetScale) {\n            adjustedCoeff = scaleUp(resultCoeff, targetScale - intermediateScale);\n        }\n        // Compute appropriate precision\n        const resultDigits = adjustedCoeff.toString().replace('-', '').length;\n        let finalPrecision = Math.max(this.precision, other.precision, resultDigits);\n        if (resultDigits > finalPrecision)\n            finalPrecision = resultDigits;\n        const resultStr = formatBigIntAsDecimal(adjustedCoeff, targetScale);\n        return new Decimal(resultStr, finalPrecision, targetScale);\n    }\n    /**\n     * Divides this Decimal by another and returns a new Decimal.\n     * The result will match the scale of the dividend (this), and will be rounded if necessary.\n     * This behavior is consistent with industry standards and ensures predictable precision.\n     * @param other The Decimal to divide by.\n     * @returns A new Decimal representing the quotient, rounded to this.scale.\n     */\n    div(other) {\n        if (!(other instanceof Decimal))\n            throw new DecimalError('Invalid operand');\n        if (other.coefficient === 0n)\n            throw new DecimalError('Division by zero');\n        // Tests expect result scale to follow the divisor's scale\n        const targetScale = other.scale;\n        // Compute numerator scaling: coeffA * 10^(targetScale + sB - sA)\n        const exponentAdjustment = targetScale + other.scale - this.scale;\n        let numerator;\n        if (exponentAdjustment >= 0) {\n            numerator = this.coefficient * getPow10(exponentAdjustment);\n        }\n        else {\n            const down = getPow10(-exponentAdjustment);\n            numerator = this.coefficient / down;\n        }\n        const denominator = other.coefficient;\n        let quotient = numerator / denominator;\n        let remainder = numerator % denominator;\n        // Round half up from remainder using the true sign of the result\n        const absDen = denominator < 0n ? -denominator : denominator;\n        const absRem = remainder < 0n ? -remainder : remainder;\n        if (absRem * 2n >= absDen) {\n            const isNegative = (numerator < 0n) !== (denominator < 0n);\n            quotient += isNegative ? -1n : 1n;\n        }\n        const resultStr = formatBigIntAsDecimal(quotient, targetScale);\n        const digits = (quotient < 0n ? (-quotient).toString() : quotient.toString()).length;\n        const finalPrecision = Math.max(this.precision, other.precision, digits);\n        return new Decimal(resultStr, finalPrecision, targetScale);\n    }\n}\nexport default Decimal;\n","import IOCollection from \"./collection\";\nimport IOObject from \"./internet-object\";\nclass IOSection {\n    constructor(data, name, _schemaName) {\n        this._data = data;\n        this._name = name;\n        this._schemaName = _schemaName;\n    }\n    get name() {\n        return this._name;\n    }\n    get schemaName() {\n        return this._schemaName;\n    }\n    get data() {\n        return this._data;\n    }\n    get errors() {\n        if (this._data instanceof IOCollection || this._data instanceof IOObject) {\n            return this._data.errors;\n        }\n        return [];\n    }\n    toJSON(options) {\n        // IOObject\n        if (this._data instanceof IOObject) {\n            return this._data.toJSON();\n        }\n        // IOCollection\n        else if (this._data instanceof IOCollection) {\n            return this._data.toJSON(options);\n        }\n        // Plain object\n        else if (this._data && typeof this._data === 'object') {\n            return this._data;\n        }\n        return null;\n    }\n}\nexport default IOSection;\n","class IOSectionCollection {\n    constructor() {\n        this._sections = [];\n        this._sectionNames = {};\n        return new Proxy(this, proxy);\n    }\n    get sections() {\n        return this._sections;\n    }\n    get length() {\n        return this._sections.length;\n    }\n    get(nameOrIndex) {\n        if (typeof nameOrIndex === 'string') {\n            const index = this._sectionNames[nameOrIndex];\n            if (index === undefined) {\n                return undefined;\n            }\n            return this._sections[index];\n        }\n        return this._sections[nameOrIndex];\n    }\n    push(section) {\n        if (section.name !== undefined) {\n            this._sectionNames[section.name] = this._sections.length;\n        }\n        this._sections.push(section);\n    }\n    /**\n     * Makes the IOSectionCollection iterable, yielding key-value pairs.\n     */\n    *[Symbol.iterator]() {\n        for (const section of this._sections) {\n            yield section;\n        }\n    }\n}\nconst proxy = {\n    get: (target, property) => {\n        if (property in target) {\n            return Reflect.get(target, property);\n        }\n        if (typeof property === 'string') {\n            if (/^[0-9]+$/.test(property)) {\n                return target.get(Number(property));\n            }\n            return target.get(property);\n        }\n    },\n    set: (target, property, value) => {\n        throw new Error('Cannot set a value on a IOSectionCollection');\n    }\n};\nexport default IOSectionCollection;\n","import InternetObjectError from \"./io-error\";\n/**\n * Represents the syntax error in InternetObject. When this error is thrwon,\n * it suggests that a syntax in the associated object is is not correct.\n */\nclass IOSyntaxError extends InternetObjectError {\n    /**\n     * Creates a new `IOSyntaxError` error.\n     * @param errorCode {string} An errorCode associated with is error\n     * @param message {string} The message which needs to be displayed\n     * @param node {Node} The node object, required while parsing raw internet-object data or schema\n     * @param ssf {Function} The start statck function, removes the irrelavant frames from the stack trace\n     *\n     * @internal\n     */\n    constructor(errorCode, fact, posRange, isEof = false, ssf) {\n        super(errorCode, fact, posRange, isEof, ssf);\n        this.name = 'InternetObject(SyntaxError)';\n        this.updateMessage();\n    }\n}\nexport default IOSyntaxError;\n","class ContainerNode {\n    constructor(type, children = []) {\n        this.type = type;\n        this.children = children;\n    }\n    toValue(defs) {\n        return this.children.map((child) => {\n            if (child) {\n                return child.toValue(defs);\n            }\n            return undefined;\n        });\n    }\n}\nexport default ContainerNode;\n","import ContainerNode from \"./containers\";\nclass ArrayNode extends ContainerNode {\n    constructor(children = [], openBracket, closeBracket) {\n        super('array', children);\n        this.openBracket = openBracket;\n        this.closeBracket = closeBracket;\n    }\n    toValue(defs) {\n        return this.children.map((child) => {\n            if (child?.toValue) { // This is a Node\n                return child.toValue(defs);\n            }\n            return child; // other non-node values such null, undefined, etc.\n        });\n    }\n    getStartPos() {\n        return this.openBracket.getStartPos();\n    }\n    getEndPos() {\n        return this.closeBracket.getEndPos();\n    }\n}\nexport default ArrayNode;\n","class MemberNode {\n    constructor(value, key) {\n        this.type = 'member';\n        this.value = value;\n        if (key) {\n            this.key = key;\n        }\n    }\n    toValue(defs) {\n        if (this.key) {\n            return {\n                [this.key.value]: this.value.toValue(defs),\n            };\n        }\n        else {\n            return this.value.toValue(defs);\n        }\n    }\n    getStartPos() {\n        if (this.key) {\n            return this.key.getStartPos();\n        }\n        return this.value.getStartPos();\n    }\n    getEndPos() {\n        if (this.value) {\n            return this.value.getEndPos();\n        }\n        if (this.key) {\n            return this.key.getEndPos();\n        }\n        return { row: 0, col: 0, pos: 0 };\n    }\n}\nexport default MemberNode;\n","import InternetObject from '../../core/internet-object';\nimport ContainerNode from './containers';\nclass ObjectNode extends ContainerNode {\n    constructor(children = [], openBracket, closeBracket) {\n        super('object', children);\n        if (openBracket) {\n            this.openBracket = openBracket;\n        }\n        if (closeBracket) {\n            this.closeBracket = closeBracket;\n        }\n    }\n    toObject(defs) {\n        const value = {};\n        let index = 0;\n        for (const child of this.children) {\n            if (child && child.value) {\n                if (child.key) {\n                    value[child.key.value] = child.value.toValue(defs);\n                }\n                else {\n                    value[index] = child.value.toValue(defs);\n                }\n            }\n            else {\n                value[index] = undefined;\n            }\n            index++;\n        }\n        return value;\n    }\n    getStartPos() {\n        if (this.openBracket) {\n            return this.openBracket.getStartPos();\n        }\n        return this.children[0]?.getStartPos() ?? { row: 0, col: 0, pos: 0 };\n    }\n    getEndPos() {\n        if (this.closeBracket) {\n            return this.closeBracket.getEndPos();\n        }\n        return this.children[this.children.length - 1]?.getEndPos() ?? { row: 0, col: 0, pos: 0 };\n    }\n    toValue(defs) {\n        const o = new InternetObject();\n        for (let i = 0; i < this.children.length; i++) {\n            const member = this.children[i];\n            if (member && member.value) {\n                if (member.key) {\n                    // o[member.key.value] = member.value.toValue(defs);\n                    o.set(member.key.value, member.value.toValue(defs));\n                }\n                else {\n                    o.set(i.toString(), member.value.toValue(defs));\n                }\n            }\n        }\n        return o;\n    }\n    // Utility Methods\n    isEmpty() {\n        return this.children.length === 0 || this.children.every(child => child === undefined);\n    }\n    toDebugString() {\n        const memberStrings = this.children.map((child, index) => {\n            if (!child)\n                return `[${index}]: undefined`;\n            const member = child;\n            const keyStr = member.key ? member.key.value : `[${index}]`;\n            const valueStr = member.value ?\n                (typeof member.value.toValue === 'function' ?\n                    JSON.stringify(member.value.toValue()) :\n                    String(member.value)) :\n                'undefined';\n            return `${keyStr}: ${valueStr}`;\n        });\n        return `ObjectNode { ${memberStrings.join(', ')} }`;\n    }\n    hasKey(key) {\n        return this.children.some(child => {\n            if (!child)\n                return false;\n            const member = child;\n            return member.key && member.key.value === key;\n        });\n    }\n    getKeys() {\n        const keys = [];\n        this.children.forEach((child, index) => {\n            if (child) {\n                const member = child;\n                if (member.key) {\n                    keys.push(member.key.value);\n                }\n                else {\n                    keys.push(index.toString());\n                }\n            }\n        });\n        return keys;\n    }\n    isValid() {\n        // An object is valid if none of its members contain ErrorNodes\n        return this.children.every(child => {\n            if (!child)\n                return true; // undefined members are considered valid\n            const member = child;\n            // Check if the member value is an ErrorNode\n            if (member.value && member.value.error !== undefined) {\n                return false;\n            }\n            // Check if the member key is an ErrorNode (though this is less common)\n            if (member.key && member.key.error !== undefined) {\n                return false;\n            }\n            return true;\n        });\n    }\n}\nexport default ObjectNode;\n","import InternetObjectError from '../errors/io-error';\nimport ErrorCodes from '../errors/io-error-codes';\nclass TypedefRegistry {\n    /**\n     * Enable/disable console warnings on duplicate type registrations.\n     * Default is disabled to avoid noise and performance overhead in hot paths/tests.\n     */\n    static setWarnOnDuplicates(enable) {\n        this.warnDuplicates = enable;\n    }\n    /**\n     * Registers TypeDef constructors for the specified types.\n     * @param typeDefConstructors The TypeDef constructor classes\n     */\n    static register(...typeDefConstructors) {\n        for (const Constructor of typeDefConstructors) {\n            for (const type of Constructor.types) {\n                if (this.typeDefMap.has(type)) {\n                    if (this.warnDuplicates && !this.warnedDuplicateTypes.has(type)) {\n                        console.warn(`TypeDef for '${type}' is already registered. Skipping.`);\n                        this.warnedDuplicateTypes.add(type);\n                    }\n                    continue;\n                }\n                this.typeDefMap.set(type, new Constructor(type));\n                this.typeNames.add(type);\n            }\n        }\n    } /**\n     * Unregisters the specified type from the registry.\n     * @param type The type name to unregister\n     */\n    static unregister(type) {\n        if (this.typeDefMap.has(type)) {\n            this.typeDefMap.delete(type);\n            this.typeNames.delete(type);\n        }\n    }\n    /**\n     * Gets the array of registered type names.\n     */\n    static get types() {\n        return Object.freeze(Array.from(this.typeNames));\n    }\n    /**\n     * Returns the associated TypeDef object for the specified type.\n     * @param type The registered type name\n     * @throws {InternetObjectError} When the type is not registered\n     */\n    static get(type) {\n        const typeDef = this.typeDefMap.get(type);\n        if (!typeDef) {\n            throw new InternetObjectError(ErrorCodes.invalidType, `Type '${type}' is not registered`);\n        }\n        return typeDef;\n    }\n    /**\n     * Checks if the specified type is registered.\n     * @param typeName The type name to check\n     */\n    static isRegisteredType(typeName) {\n        return this.typeDefMap.has(typeName);\n    }\n    /**\n     * Clears all registered types. Primarily for testing.\n     */\n    static clear() {\n        this.typeDefMap.clear();\n        this.typeNames.clear();\n        this.warnedDuplicateTypes.clear();\n    }\n    /**\n     * Gets the count of registered types.\n     */\n    static get count() {\n        return this.typeDefMap.size;\n    }\n}\nTypedefRegistry.typeDefMap = new Map();\nTypedefRegistry.typeNames = new Set();\nTypedefRegistry.warnDuplicates = false;\nTypedefRegistry.warnedDuplicateTypes = new Set();\nexport default TypedefRegistry;\n","import TypedefRegistry from '../typedef-registry';\nimport IOError from '../../errors/io-error';\nimport ErrorCodes from '../../errors/io-error-codes';\nexport function processMember(member, memberDef, defs) {\n    const typeDef = TypedefRegistry.get(memberDef.type);\n    if (!typeDef) {\n        throw new IOError(ErrorCodes.invalidType, `Type '${memberDef.type}' is not registered.`);\n    }\n    let valueNode = member?.value;\n    return typeDef.parse(valueNode, memberDef, defs);\n}\n","import InternetObject from '../core/internet-object';\nimport ErrorCodes from '../errors/io-error-codes';\nimport SyntaxError from '../errors/io-syntax-error';\nimport ValidationError from '../errors/io-validation-error';\nimport TokenNode from '../parser/nodes/tokens';\nimport assertNever from '../errors/asserts/asserts';\nimport Schema from './schema';\nimport { processMember } from './processing/member-processor';\n/**\n * Resolves variable references in memberDef fields like default, min, max, choices.\n * Variables are strings starting with @ that reference definitions.\n */\nfunction _resolveMemberDefVariables(memberDef, defs) {\n    if (!memberDef || !defs)\n        return memberDef;\n    const resolved = { ...memberDef };\n    // Resolve default value if it's a variable reference\n    if (typeof resolved.default === 'string' && resolved.default.startsWith('@')) {\n        resolved.default = defs.getV(resolved.default);\n        // Unwrap TokenNode if needed\n        if (resolved.default instanceof TokenNode) {\n            resolved.default = resolved.default.value;\n        }\n    }\n    // Resolve choices if they contain variable references\n    if (Array.isArray(resolved.choices)) {\n        resolved.choices = resolved.choices.map(choice => {\n            if (typeof choice === 'string' && choice.startsWith('@')) {\n                let resolved = defs.getV(choice);\n                return resolved instanceof TokenNode ? resolved.value : resolved;\n            }\n            return choice;\n        });\n    }\n    // Resolve min/max if they're variable references\n    if (typeof resolved.min === 'string' && resolved.min.startsWith('@')) {\n        resolved.min = defs.getV(resolved.min);\n        if (resolved.min instanceof TokenNode) {\n            resolved.min = resolved.min.value;\n        }\n    }\n    if (typeof resolved.max === 'string' && resolved.max.startsWith('@')) {\n        resolved.max = defs.getV(resolved.max);\n        if (resolved.max instanceof TokenNode) {\n            resolved.max = resolved.max.value;\n        }\n    }\n    return resolved;\n}\nexport default function processObject(data, schema, defs, collectionIndex) {\n    if (schema instanceof TokenNode) {\n        const schemaName = schema.value;\n        schema = defs?.getV(schemaName);\n    }\n    if (schema instanceof Schema === false) {\n        assertNever(\"Invalid schema type\");\n    }\n    return _processObject(data, schema, defs, collectionIndex);\n}\nfunction _processObject(data, schema, defs, collectionIndex) {\n    const o = new InternetObject();\n    let positional = true;\n    const processedNames = new Set();\n    // Special case: if schema has exactly one field and first data member has a key that doesn't match,\n    // treat the entire data object as the value for that single schema field\n    if (schema.names.length === 1 && data.children.length > 0) {\n        const firstMember = data.children[0];\n        if (firstMember?.key && firstMember.key.value !== schema.names[0]) {\n            const name = schema.names[0];\n            const memberDef = _resolveMemberDefVariables(schema.defs[name], defs);\n            // Create a synthetic member with the entire data ObjectNode as its value\n            const syntheticMember = { key: null, value: data };\n            const val = processMember(syntheticMember, memberDef, defs);\n            if (val !== undefined)\n                o.set(name, val);\n            return o;\n        }\n    }\n    // Process positional schema members\n    let i = 0;\n    for (; i < schema.names.length; i++) {\n        let member = data.children[i];\n        let name = schema.names[i];\n        let memberDef = _resolveMemberDefVariables(schema.defs[name], defs);\n        if (member) {\n            if (member.key) {\n                positional = false;\n                break;\n            }\n            const val = processMember(member, memberDef, defs);\n            // Only mark as processed if we actually obtained a value (or a default was applied)\n            if (val !== undefined) {\n                processedNames.add(name);\n                o.set(name, val);\n            }\n            else {\n                // If optional and no default, allow later keyed assignment without triggering duplicate-member\n                if (!memberDef.optional && memberDef.default === undefined) {\n                    // Required but undefined value  throw\n                    throw new ValidationError(ErrorCodes.valueRequired, `Expecting a value for ${memberDef.path}.`, data);\n                }\n                // Optional missing: skip adding to processedNames now so a later keyed value may fill it.\n            }\n        }\n        else {\n            // Member node entirely missing\n            if (!memberDef.optional && memberDef.default === undefined) {\n                throw new ValidationError(ErrorCodes.valueRequired, `Expecting a value for ${memberDef.path}.`, data);\n            }\n            const dummyMember = { key: null, value: undefined };\n            const val = processMember(dummyMember, memberDef, defs);\n            if (val !== undefined) {\n                processedNames.add(name);\n                o.set(name, val);\n            }\n            // If val is undefined and optional with no default, deliberately do not mark processedNames\n        }\n    }\n    // Process remaining positional members\n    if (positional) {\n        for (; i < data.children.length; i++) {\n            const member = data.children[i];\n            if (!schema.open) {\n                throw new SyntaxError(ErrorCodes.additionalValuesNotAllowed, `Additional values are not allowed in the ${schema.name}. The ${schema.name} schema is not open.`, member.value);\n            }\n            if (member.key) {\n                positional = false;\n                break;\n            }\n            const val = member.value.toValue(defs);\n            o.push(val);\n        }\n    }\n    // Process remaining keyed members\n    for (; i < data.children.length; i++) {\n        let member = data.children[i];\n        if (!member.key) {\n            throw new SyntaxError(ErrorCodes.unexpectedPositionalMember, \"Positional members must not be allowed after the keyed member is found.\", member);\n        }\n        let name = member.key.value;\n        let memberDef = _resolveMemberDefVariables(schema.defs[name], defs);\n        if (processedNames.has(name)) {\n            throw new SyntaxError(ErrorCodes.duplicateMember, `Member ${name} is already defined.`, member);\n        }\n        // When the member is not found check if the schema is open to allow\n        // additional properties. If not throw an error.\n        if (!memberDef && !schema.open) {\n            throw new SyntaxError(ErrorCodes.unknownMember, `The ${schema.name ? `${schema.name} ` : ''}schema does not define a member named '${name}'.`, member.key);\n        }\n        // In an open schema, the memberDef is not found. Use schema.open constraints if available, else type 'any'.\n        if (!memberDef && schema.open) {\n            if (typeof schema.open === 'object' && schema.open.type) {\n                memberDef = { ...schema.open, path: name };\n            }\n            else {\n                memberDef = { type: 'any', path: name };\n            }\n        }\n        processedNames.add(name);\n        const val = processMember(member, memberDef, defs);\n        o.set(name, val);\n    }\n    // Check for missing required members and if the missing member has a\n    // default value, then set the default value. Otherwise, throw an error.\n    // But before throwing an error reset the position to the data node.\n    for (const name in schema.defs) {\n        // Skip the wildcard additional property definition ('*').\n        // It's not an actual member and must not participate in required checks.\n        if (name === '*')\n            continue;\n        const memberDef = _resolveMemberDefVariables(schema.defs[name], defs);\n        if (!processedNames.has(name)) {\n            const member = data.children.find((m) => m.key?.value === name);\n            try {\n                const val = processMember(member, memberDef, defs);\n                if (val !== undefined) {\n                    o.set(name, val);\n                }\n            }\n            catch (err) {\n                if (err instanceof ValidationError) {\n                    // in case of missing member, set the position to the parent object.\n                    err.positionRange = data;\n                }\n                throw err;\n            }\n        }\n    }\n    // Fallback: if schema is open and result is empty, process all data members as type 'any' or using schema.open constraints\n    if ((schema.open === true || (typeof schema.open === 'object' && schema.open.type)) && o.isEmpty()) {\n        for (const member of data.children) {\n            if (!member)\n                continue;\n            const memberNode = member;\n            let name = memberNode.key ? memberNode.key.value : undefined;\n            if (!name)\n                continue;\n            let memberDef;\n            if (typeof schema.open === 'object' && schema.open.type) {\n                memberDef = { ...schema.open, path: name };\n            }\n            else {\n                memberDef = { type: 'any', path: name };\n            }\n            const val = processMember(memberNode, memberDef, defs);\n            o.set(name, val);\n        }\n        return o;\n    }\n    return o;\n}\n","/**\n * ErrorNode represents a parsing error that occurred during AST construction.\n * This allows the parser to continue processing and collect multiple errors\n * instead of stopping at the first error encountered.\n */\nclass ErrorNode {\n    constructor(error, position, endPosition) {\n        this.error = error;\n        this.position = position;\n        this.endPosition = endPosition;\n    }\n    /**\n     * Determines the error category based on the error type.\n     * This enables UI to apply different styling (e.g., red for syntax, orange for validation).\n     *\n     * @returns 'syntax' for parser/syntax errors, 'validation' for schema validation errors, 'runtime' for others\n     */\n    getErrorCategory() {\n        const errorName = this.error.name;\n        // Check for InternetObject error types\n        if (errorName.includes('SyntaxError')) {\n            return 'syntax';\n        }\n        if (errorName.includes('ValidationError')) {\n            return 'validation';\n        }\n        // Fallback to runtime for unknown error types\n        return 'runtime';\n    }\n    /**\n     * Returns error information as a value object.\n     * This allows ErrorNodes to be serialized alongside valid nodes.\n     * Includes error category for UI styling.\n     */\n    toValue(defs) {\n        const base = {\n            __error: true,\n            category: this.getErrorCategory(),\n            message: this.error.message,\n            name: this.error.name,\n            position: this.position,\n            ...(this.endPosition && { endPosition: this.endPosition })\n        };\n        // Include collectionIndex if the original error carries it (boundary context)\n        const anyErr = this.error;\n        if (anyErr && anyErr.collectionIndex !== undefined) {\n            base.collectionIndex = anyErr.collectionIndex;\n        }\n        return base;\n    }\n    /**\n     * Returns the starting position of the error.\n     */\n    getStartPos() {\n        return this.position;\n    }\n    /**\n     * Returns the ending position of the error.\n     * If no end position was provided, returns the start position.\n     */\n    getEndPos() {\n        return this.endPosition || this.position;\n    }\n}\nexport default ErrorNode;\n","import TokenNode from '../../parser/nodes/tokens';\nimport Schema from '../schema';\nimport IOError from '../../errors/io-error';\nimport ErrorCodes from '../../errors/io-error-codes';\nexport class SchemaResolver {\n    static resolve(schema, defs) {\n        if (schema instanceof TokenNode) {\n            const schemaName = schema.value;\n            // Match existing behavior: defer to definitions.getV for resolution and error semantics\n            const resolved = defs?.getV(schemaName);\n            if (!(resolved instanceof Schema)) {\n                // Safety net; typically getV would throw for missing/invalid refs\n                throw new IOError(ErrorCodes.schemaNotFound, `Schema '${schemaName}' not found or invalid`);\n            }\n            return resolved;\n        }\n        return schema;\n    }\n    static isSchemaVariable(value) {\n        return value instanceof TokenNode && typeof value.value === 'string' && value.value.startsWith('$');\n    }\n}\n","import Collection from '../../core/collection';\nimport ErrorNode from '../../parser/nodes/error';\nimport processObject from '../object-processor';\nimport { SchemaResolver } from '../utils/schema-resolver';\nexport default function processCollection(data, schema, defs, errorCollector) {\n    // Pre-resolve schema once for better performance\n    const resolvedSchema = SchemaResolver.resolve(schema, defs);\n    // Pre-allocate collection with known size\n    const collection = new Collection();\n    const length = data.children.length;\n    // Process items; include ErrorNode so UI can surface error info objects\n    for (let i = 0; i < length; i++) {\n        const item = data.children[i];\n        // If parsing produced an ErrorNode, preserve it in the collection\n        // so that downstream consumers (toJSON/UI) can render error info.\n        // NOTE: Parser errors are already in document._errors, so we don't add them to errorCollector.\n        if (item instanceof ErrorNode) {\n            // Push ErrorNode directly; IOCollection.toJSON handles toValue()\n            // which serializes error details with positions.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            // Also annotate the underlying error with collectionIndex for consistency\n            try {\n                item.error.collectionIndex = i;\n            }\n            catch { }\n            collection.push(item);\n        }\n        else {\n            try {\n                collection.push(processObject(item, resolvedSchema, defs, i));\n            }\n            catch (error) {\n                // Validation error occurred - convert to ErrorNode and collect the error\n                if (error instanceof Error) {\n                    // Attach boundary context for downstream serializers/UI\n                    error.collectionIndex = i;\n                    const errorNode = new ErrorNode(error, item.getStartPos(), item.getEndPos());\n                    // Add validation error to error collector if provided\n                    if (errorCollector) {\n                        errorCollector.push(error);\n                    }\n                    // Add to collection's own errors\n                    collection.errors.push(error);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    collection.push(errorNode);\n                }\n                else {\n                    // Re-throw non-Error exceptions\n                    throw error;\n                }\n            }\n        }\n    }\n    return collection;\n}\n","import Collection from \"../../core/collection\";\nimport ContainerNode from \"./containers\";\nclass CollectionNode extends ContainerNode {\n    constructor(children = []) {\n        super('collection', children);\n    }\n    toValue(defs) {\n        const value = new Collection();\n        for (const child of this.children) {\n            value.push(child?.toValue(defs));\n        }\n        return value;\n    }\n    getStartPos() {\n        return this.children[0]?.getStartPos() ?? { row: 0, col: 0, pos: 0 };\n    }\n    getEndPos() {\n        return this.children[this.children.length - 1]?.getEndPos() ?? { row: 0, col: 0, pos: 0 };\n    }\n    // Utility Methods\n    isEmpty() {\n        return this.children.length === 0 || this.children.every(child => child === undefined);\n    }\n    toDebugString() {\n        const itemStrings = this.children.map((child, index) => {\n            if (!child)\n                return `[${index}]: undefined`;\n            const valueStr = typeof child.toValue === 'function' ?\n                JSON.stringify(child.toValue()) :\n                String(child);\n            return `[${index}]: ${valueStr}`;\n        });\n        return `CollectionNode { ${itemStrings.join(', ')} }`;\n    }\n    size() {\n        return this.children.length;\n    }\n    hasValidItems() {\n        return this.children.some(child => {\n            if (!child)\n                return true; // undefined items are valid\n            // Check if the child is an ErrorNode\n            if (child.error !== undefined) {\n                return false;\n            }\n            return true; // Valid item found\n        });\n    }\n    getValidItems() {\n        return this.children.filter((child) => {\n            if (!child)\n                return true; // undefined items are valid\n            // Check if the child is an ErrorNode\n            if (child.error !== undefined) {\n                return false;\n            }\n            return true; // Valid item\n        });\n    }\n    isValid() {\n        // A collection is valid if none of its items are ErrorNodes\n        return this.children.every(child => {\n            if (!child)\n                return true; // undefined items are considered valid\n            // Check if the child is an ErrorNode\n            if (child.error !== undefined) {\n                return false;\n            }\n            return true;\n        });\n    }\n}\nexport default CollectionNode;\n","import CollectionNode from '../../parser/nodes/collections';\nimport ObjectNode from '../../parser/nodes/objects';\nimport TokenNode from '../../parser/nodes/tokens';\nimport Schema from '../schema';\nimport IOError from '../../errors/io-error';\nimport ErrorCodes from '../../errors/io-error-codes';\nexport class ValidationUtils {\n    static isValidDataNode(data) {\n        return data instanceof ObjectNode || data instanceof CollectionNode;\n    }\n    static isValidSchema(schema) {\n        return schema instanceof Schema || schema instanceof TokenNode;\n    }\n    static validateProcessingInputs(data, schema) {\n        if (!ValidationUtils.isValidDataNode(data)) {\n            const hasCtorName = data?.constructor?.name;\n            const typeName = data === null ? 'null'\n                : data === undefined ? 'undefined'\n                    : hasCtorName === undefined ? 'undefined'\n                        : hasCtorName || 'unknown';\n            throw new IOError(ErrorCodes.invalidType, `Invalid data node type: ${typeName}`);\n        }\n        if (!ValidationUtils.isValidSchema(schema)) {\n            const hasCtorName = schema?.constructor?.name;\n            const typeName = schema === null ? 'null'\n                : schema === undefined ? 'undefined'\n                    : hasCtorName === undefined ? 'undefined'\n                        : hasCtorName || 'unknown';\n            throw new IOError(ErrorCodes.invalidSchema, `Invalid schema type: ${typeName}`);\n        }\n        return { data: data, schema: schema };\n    }\n}\nexport class ProcessingResult {\n    constructor(success, data, error) {\n        this.success = success;\n        this.data = data;\n        this.error = error;\n        Object.freeze(this); // ensure immutability at runtime\n    }\n    static success(data) {\n        return new ProcessingResult(true, data);\n    }\n    static failure(error) {\n        return new ProcessingResult(false, undefined, error);\n    }\n    isSuccess() {\n        return this.success;\n    }\n}\n","import ObjectNode from '../parser/nodes/objects';\nimport processObject from './object-processor';\nimport processCollection from './processing/collection-processor';\nimport { ValidationUtils } from './utils/validation-utils';\nexport default function processSchema(data, schema, defs, errorCollector) {\n    // Early return for null data\n    if (data === null) {\n        return null;\n    }\n    // Validate inputs\n    const { data: validData, schema: validSchema } = ValidationUtils.validateProcessingInputs(data, schema);\n    // Route to appropriate processor\n    if (validData instanceof ObjectNode) {\n        return processObject(validData, validSchema, defs);\n    }\n    // Must be CollectionNode at this point due to validation\n    return processCollection(validData, validSchema, defs, errorCollector);\n}\n","import ErrorCodes from '../../errors/io-error-codes';\nimport InternetObjectValidationError from '../../errors/io-validation-error';\nimport TokenNode from '../../parser/nodes/tokens';\nimport TokenType from '../../parser/tokenizer/token-types';\n/**\n * Performs the common validations required before serialization and deserialization\n * @param memberDef The memberDef object\n * @param value The value which needs to be validated\n * @param node The node object, required for tracing line and column when parsing raw internet object code!\n * @param defs Optional definitions for resolving references\n * @param equalityComparator Optional callback for type-specific equality comparison in choices validation\n *\n * @internal\n */\nfunction doCommonTypeCheck(memberDef, value, node, defs, equalityComparator) {\n    const isUndefined = value === undefined || value instanceof TokenNode && value.type === TokenType.UNDEFINED;\n    const isNull = node instanceof TokenNode ? node.value === null : value === null;\n    // Check for undefined\n    if (isUndefined) {\n        if (memberDef.default !== undefined) {\n            // Two-stage dereferencing: defs passed for schema compilation runtime,\n            // but variables already resolved in processObject for data processing runtime\n            return { value: _default(memberDef.default, defs), changed: true };\n        }\n        if (memberDef.optional)\n            return { value: undefined, changed: true };\n        throw new InternetObjectValidationError(..._valueRequired(memberDef, node));\n    }\n    // Check for null\n    if (isNull) {\n        if (memberDef.null)\n            return { value: null, changed: true };\n        const msg = `Null is not allowed for ${memberDef.path}`;\n        throw new InternetObjectValidationError(ErrorCodes.nullNotAllowed, msg, node);\n    }\n    value = (typeof value === 'object' && value.toValue) ? value.toValue(defs) : value;\n    // Validate choices\n    if (memberDef.choices !== undefined) {\n        let val = value instanceof TokenNode ? value.value : value;\n        let found = false;\n        for (let choice of memberDef.choices) {\n            if (typeof choice === 'string' && choice[0] === '@') {\n                choice = defs?.getV(choice);\n                choice = choice instanceof TokenNode ? choice.value : choice;\n            }\n            // Use custom equality comparator if provided, otherwise use simple equality\n            const isEqual = equalityComparator ? equalityComparator(val, choice) : val === choice;\n            if (isEqual) {\n                found = true;\n                break;\n            }\n        }\n        if (!found) {\n            throw new InternetObjectValidationError(..._invlalidChoice(memberDef, value, node));\n        }\n    }\n    // If everything is okay, return same data\n    return { value: value, changed: false };\n}\n/**\n * Processes default values with two-stage variable dereferencing:\n * 1. Schema compilation runtime: Resolves variables when validating MemberDef constraints\n * 2. Data processing runtime: Variables already resolved by _resolveMemberDefVariables in processObject\n *\n * Also handles TokenNode unwrapping and string literal conversions (N, T, F).\n */\nfunction _default(value, defs) {\n    // Unwrap TokenNode and resolve variables if present\n    if (value instanceof TokenNode) {\n        // If it's a variable/schema reference, resolve it (schema compilation runtime)\n        if (typeof value.value === 'string' && value.value.startsWith('@') && defs) {\n            value = defs.getV(value);\n            // Unwrap TokenNode if getV returned one\n            value = value instanceof TokenNode ? value.value : value;\n        }\n        else {\n            value = value.value;\n        }\n    }\n    // Resolve variable references in plain strings (data processing runtime fallback)\n    if (typeof value === 'string' && value.startsWith('@') && defs) {\n        value = defs.getV(value);\n        // Unwrap TokenNode if getV returned one\n        value = value instanceof TokenNode ? value.value : value;\n    }\n    // Convert string literals\n    if (typeof value === 'string') {\n        if (value === 'N')\n            return null;\n        if (value === 'T' || value === 'true')\n            return true;\n        if (value === 'F' || value === 'false')\n            return false;\n    }\n    return value;\n}\nfunction _valueRequired(memberDef, node) {\n    const msg = `Value is required for ${memberDef.path}`;\n    return [ErrorCodes.valueRequired, msg, node];\n}\nfunction _nullNotAllowed(memberDef, node) {\n    return [ErrorCodes.nullNotAllowed, `${memberDef.path} does not support null.`, node];\n}\n// Return an invalid choice error parameters\nfunction _invlalidChoice(memberDef, value, node) {\n    if (!memberDef.choices)\n        throw Error('Choices not checked during NumberDef implementation.');\n    value = value.toValue\n        ? value.toValue()\n        : value.toObject\n            ? value.toObject()\n            : value;\n    value = JSON.stringify(value);\n    let msg = `The value of \"${memberDef.path}\" must be one of the [${memberDef.choices.join(', ')}]. Currently it is ${value}.`;\n    if (memberDef.choices.length === 1) {\n        msg = `The value of \"${memberDef.path}\" must be '${memberDef.choices[0]}'. Currently it is ${value}.`;\n    }\n    return [ErrorCodes.invalidChoice, msg, node];\n}\nexport default doCommonTypeCheck;\n","import ErrorCodes from '../../errors/io-error-codes';\nimport InternetObjectError from '../../errors/io-error';\nimport ValidationError from '../../errors/io-validation-error';\nimport MemberNode from '../../parser/nodes/members';\nimport { getMemberDef } from '../../schema/compile-object';\nimport Schema from '../../schema/schema';\nimport TypedefRegistry from '../../schema/typedef-registry';\nimport doCommonTypeCheck from './common-type';\nconst of = { type: \"any\", __memberdef: true };\nconst schema = new Schema(\"any\", { type: { type: \"string\", optional: false, null: false, choices: [\"any\"] } }, { default: { type: \"any\", optional: true, null: true } }, { choices: { type: \"array\", optional: true, null: false } }, { anyOf: { type: \"array\", optional: true, null: false, of } }, { isSchema: { type: \"bool\", optional: true, null: false, default: false } }, { optional: { type: \"bool\", optional: true } }, { null: { type: \"bool\", optional: true } });\nexport default class AnyDef {\n    get type() { return 'any'; }\n    get schema() { return schema; }\n    parse(node, memberDef, defs) {\n        const valueNode = defs?.getV(node) || node;\n        const { value, changed } = doCommonTypeCheck(memberDef, valueNode, node, defs);\n        if (changed)\n            return value;\n        const anyOf = memberDef.anyOf;\n        if (!anyOf) {\n            if (memberDef.__memberdef) { // Convert to memberDef\n                const md = getMemberDef(new MemberNode(node), \"\", defs);\n                return md;\n            }\n            return value;\n        }\n        const errors = [];\n        for (let i = 0; i < anyOf.length; i++) {\n            const def = anyOf[i];\n            def.path = memberDef.path;\n            const typeDef = TypedefRegistry.get(def.type);\n            if (!typeDef) {\n                throw new InternetObjectError(ErrorCodes.invalidType, `Invalid type definition '${def.type}'`);\n            }\n            try {\n                return typeDef.parse(node, def, defs);\n            }\n            catch (e) {\n                errors.push(e);\n                continue;\n            }\n        }\n        // None of the types matched\n        if (errors.length === anyOf.length) {\n            throw new ValidationError(ErrorCodes.invalidValue, `None of the constraints defined for '${memberDef.path}' matched.`, node);\n        }\n        return valueNode;\n    }\n    /**\n     * Load: Validates a JavaScript value against anyOf constraints (if specified)\n     */\n    load(value, memberDef, defs) {\n        const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value, undefined, defs);\n        if (changed)\n            return checkedValue;\n        const anyOf = memberDef.anyOf;\n        if (!anyOf) {\n            // No constraints - accept any value\n            return value;\n        }\n        // Try each type in anyOf until one succeeds\n        const errors = [];\n        for (const def of anyOf) {\n            const defWithPath = { ...def, path: memberDef.path };\n            const typeDef = TypedefRegistry.get(def.type);\n            if (!typeDef) {\n                throw new InternetObjectError(ErrorCodes.invalidType, `Invalid type definition '${def.type}'`);\n            }\n            try {\n                if ('load' in typeDef && typeof typeDef.load === 'function') {\n                    return typeDef.load(value, defWithPath, defs);\n                }\n                else {\n                    // Type doesn't have load method - skip to next\n                    errors.push(new Error(`Type '${def.type}' does not support load()`));\n                    continue;\n                }\n            }\n            catch (e) {\n                errors.push(e);\n                continue;\n            }\n        }\n        // None of the types matched\n        if (errors.length === anyOf.length) {\n            throw new ValidationError(ErrorCodes.invalidValue, `None of the constraints defined for '${memberDef.path}' matched.`);\n        }\n        return value;\n    }\n    /**\n     * Stringify: Converts a JavaScript value to IO text format\n     * Infers the type from the value and uses appropriate TypeDef.stringify()\n     * Returns undefined to signal \"skip this field\" (for missing optional values)\n     */\n    stringify(value, memberDef, defs) {\n        const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value, undefined, defs);\n        if (changed) {\n            if (checkedValue === null)\n                return 'N';\n            if (checkedValue === undefined)\n                return undefined; // Skip this field entirely\n            value = checkedValue;\n        }\n        // Handle null\n        if (value === null)\n            return 'N';\n        if (value === undefined)\n            return undefined; // Skip this field entirely\n        // If anyOf is specified, try to find a matching type\n        const anyOf = memberDef.anyOf;\n        if (anyOf) {\n            for (const def of anyOf) {\n                const defWithPath = { ...def, path: memberDef.path };\n                const typeDef = TypedefRegistry.get(def.type);\n                if (!typeDef)\n                    continue;\n                try {\n                    // Try to load first to validate, then stringify\n                    if ('load' in typeDef && typeof typeDef.load === 'function') {\n                        typeDef.load(value, defWithPath, defs);\n                    }\n                    if ('stringify' in typeDef && typeof typeDef.stringify === 'function') {\n                        return typeDef.stringify(value, defWithPath, defs);\n                    }\n                }\n                catch {\n                    continue;\n                }\n            }\n        }\n        // Infer type from value and stringify accordingly\n        return this._stringifyByInference(value, memberDef.path || '', defs);\n    }\n    /**\n     * Stringify by inferring the type from the value\n     * Note: This is only called for non-null/non-undefined values, so inner\n     * stringify calls should always return strings, not undefined.\n     */\n    _stringifyByInference(value, path, defs) {\n        // Boolean\n        if (typeof value === 'boolean') {\n            const boolDef = TypedefRegistry.get('bool');\n            if (boolDef && 'stringify' in boolDef && typeof boolDef.stringify === 'function') {\n                return boolDef.stringify(value, { type: 'bool', path }, defs) ?? (value ? 'T' : 'F');\n            }\n            return value ? 'T' : 'F';\n        }\n        // Number\n        if (typeof value === 'number') {\n            const numberDef = TypedefRegistry.get('number');\n            if (numberDef && 'stringify' in numberDef && typeof numberDef.stringify === 'function') {\n                return numberDef.stringify(value, { type: 'number', path }, defs) ?? String(value);\n            }\n            return String(value);\n        }\n        // BigInt\n        if (typeof value === 'bigint') {\n            const bigintDef = TypedefRegistry.get('bigint');\n            if (bigintDef && 'stringify' in bigintDef && typeof bigintDef.stringify === 'function') {\n                return bigintDef.stringify(value, { type: 'bigint', path }, defs) ?? value.toString();\n            }\n            return value.toString();\n        }\n        // String\n        if (typeof value === 'string') {\n            const stringDef = TypedefRegistry.get('string');\n            if (stringDef && 'stringify' in stringDef && typeof stringDef.stringify === 'function') {\n                return stringDef.stringify(value, { type: 'string', path, format: 'open' }, defs) ?? value;\n            }\n            return value;\n        }\n        // Date - infer date/time/datetime based on components\n        if (value instanceof Date) {\n            const inferredType = this._inferDateTimeType(value);\n            const datetimeDef = TypedefRegistry.get(inferredType);\n            if (datetimeDef && 'stringify' in datetimeDef && typeof datetimeDef.stringify === 'function') {\n                return datetimeDef.stringify(value, { type: inferredType, path }, defs) ?? value.toISOString();\n            }\n            return value.toISOString();\n        }\n        // Array\n        if (Array.isArray(value)) {\n            const arrayDef = TypedefRegistry.get('array');\n            if (arrayDef && 'stringify' in arrayDef && typeof arrayDef.stringify === 'function') {\n                const result = arrayDef.stringify(value, { type: 'array', path }, defs);\n                if (result !== undefined)\n                    return result;\n            }\n            const items = value.map((item, i) => this._stringifyByInference(item, `${path}[${i}]`, defs));\n            return `[${items.join(', ')}]`;\n        }\n        // Object\n        if (typeof value === 'object' && value !== null) {\n            const objectDef = TypedefRegistry.get('object');\n            if (objectDef && 'stringify' in objectDef && typeof objectDef.stringify === 'function') {\n                const result = objectDef.stringify(value, { type: 'object', path }, defs);\n                if (result !== undefined)\n                    return result;\n            }\n            // Fallback: stringify as key-value pairs\n            const parts = [];\n            for (const key in value) {\n                if (value.hasOwnProperty(key)) {\n                    const strValue = this._stringifyByInference(value[key], `${path}.${key}`, defs);\n                    parts.push(`${key}: ${strValue}`);\n                }\n            }\n            return `{${parts.join(', ')}}`;\n        }\n        // Fallback\n        return JSON.stringify(value);\n    }\n    /**\n     * Infer the datetime type (date, time, or datetime) based on the Date value.\n     * - If time is 00:00:00.000Z  'date'\n     * - If date is 1900-01-01  'time'\n     * - Otherwise  'datetime'\n     */\n    _inferDateTimeType(date) {\n        const hours = date.getUTCHours();\n        const minutes = date.getUTCMinutes();\n        const seconds = date.getUTCSeconds();\n        const ms = date.getUTCMilliseconds();\n        const year = date.getUTCFullYear();\n        const month = date.getUTCMonth(); // 0-indexed\n        const day = date.getUTCDate();\n        // Time-only: date component is 1900-01-01 (the sentinel value used in parseTime)\n        if (year === 1900 && month === 0 && day === 1) {\n            return 'time';\n        }\n        // Date-only: time component is all zeros\n        if (hours === 0 && minutes === 0 && seconds === 0 && ms === 0) {\n            return 'date';\n        }\n        // Full datetime\n        return 'datetime';\n    }\n    static get types() { return ['any']; }\n}\n","import assertNever from '../../errors/asserts/asserts';\nimport ErrorCodes from '../../errors/io-error-codes';\nimport ValidationError from '../../errors/io-validation-error';\nimport ArrayNode from '../../parser/nodes/array';\nimport Schema from '../../schema/schema';\nimport TypedefRegistry from '../../schema/typedef-registry';\nimport doCommonTypeCheck from './common-type';\nconst schema = new Schema(\"array\", { type: { type: \"string\", optional: false, null: false, choices: [\"array\"] } }, { default: { type: \"array\", optional: true, null: false } }, { of: { type: \"any\", optional: true, null: false, __memberdef: true } }, { len: { type: \"number\", optional: true, null: false, min: 0 } }, { minLen: { type: \"number\", optional: true, null: false, min: 0 } }, { maxLen: { type: \"number\", optional: true, null: false, min: 0 } });\nclass ArrayDef {\n    constructor() {\n        this.parse = (valueNode, memberDef, defs) => {\n            return _processNode(valueNode, memberDef, defs);\n        };\n        /**\n         * Load: Validates a JavaScript array against the schema\n         */\n        this.load = (value, memberDef, defs) => {\n            const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value, undefined, defs);\n            if (changed)\n                return checkedValue;\n            // Type check\n            if (!Array.isArray(value)) {\n                throw new ValidationError(ErrorCodes.notAnArray, `Expecting an array value for '${memberDef.path}' but found ${typeof value}`);\n            }\n            // Determine the TypeDef for array items\n            let typeDef;\n            let arrayMemberDef = { type: 'any' };\n            if (memberDef.of instanceof Schema) {\n                typeDef = TypedefRegistry.get('object');\n                arrayMemberDef.schema = memberDef.of;\n                arrayMemberDef.path = memberDef.path;\n            }\n            else if (memberDef.of?.type) {\n                typeDef = TypedefRegistry.get(memberDef.of.type);\n                if (!typeDef) {\n                    throw new ValidationError(ErrorCodes.invalidType, `Invalid type definition '${memberDef.of.type}'`);\n                }\n                arrayMemberDef = { ...memberDef.of };\n                arrayMemberDef.path = memberDef.path;\n            }\n            else {\n                typeDef = TypedefRegistry.get('any');\n            }\n            // Load each item using the TypeDef.load() method\n            const result = [];\n            for (let i = 0; i < value.length; i++) {\n                const item = value[i];\n                const itemPath = `${memberDef.path || 'array'}[${i}]`;\n                const itemMemberDef = { ...arrayMemberDef, path: itemPath };\n                if (typeDef && 'load' in typeDef && typeof typeDef.load === 'function') {\n                    result.push(typeDef.load(item, itemMemberDef, defs));\n                }\n                else if (typeDef) {\n                    // Fallback: no load method, just push the value\n                    result.push(item);\n                }\n                else {\n                    result.push(item);\n                }\n            }\n            // Validate length constraints\n            _validateLength(result, memberDef);\n            return result;\n        };\n        /**\n         * Stringify: Converts a JavaScript array to IO text format\n         * Returns undefined to signal \"skip this field\" (for missing optional values)\n         */\n        this.stringify = (value, memberDef, defs) => {\n            const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value, undefined, defs);\n            if (changed) {\n                if (checkedValue === null)\n                    return 'N';\n                if (checkedValue === undefined)\n                    return undefined; // Skip this field entirely\n                value = checkedValue;\n            }\n            // Type check\n            if (!Array.isArray(value)) {\n                throw new ValidationError(ErrorCodes.notAnArray, `Expecting an array value for '${memberDef.path}' but found ${typeof value}`);\n            }\n            // Validate length constraints before stringifying\n            _validateLength(value, memberDef);\n            // Determine the TypeDef for array items\n            let typeDef;\n            let arrayMemberDef = { type: 'any' };\n            if (memberDef.of instanceof Schema) {\n                typeDef = TypedefRegistry.get('object');\n                arrayMemberDef.schema = memberDef.of;\n                arrayMemberDef.path = memberDef.path;\n            }\n            else if (memberDef.of?.type) {\n                typeDef = TypedefRegistry.get(memberDef.of.type);\n                arrayMemberDef = { ...memberDef.of };\n                arrayMemberDef.path = memberDef.path;\n            }\n            else if (memberDef.schemaRef && defs) {\n                // Array has a schemaRef for its items (e.g., books: [$book])\n                typeDef = TypedefRegistry.get('object');\n                arrayMemberDef.type = 'object';\n                arrayMemberDef.schemaRef = memberDef.schemaRef;\n                arrayMemberDef.path = memberDef.path;\n            }\n            else {\n                typeDef = TypedefRegistry.get('any');\n            }\n            // Stringify each item\n            const parts = [];\n            for (let i = 0; i < value.length; i++) {\n                const item = value[i];\n                const itemPath = `${memberDef.path || 'array'}[${i}]`;\n                const itemMemberDef = { ...arrayMemberDef, path: itemPath };\n                if (typeDef && 'stringify' in typeDef && typeof typeDef.stringify === 'function') {\n                    const strValue = typeDef.stringify(item, itemMemberDef, defs);\n                    parts.push(strValue ?? ''); // Array items shouldn't be undefined, but fallback to empty\n                }\n                else {\n                    // Fallback: use JSON.stringify for items without stringify method\n                    parts.push(item === null ? 'N' : JSON.stringify(item));\n                }\n            }\n            return `[${parts.join(', ')}]`;\n        };\n    }\n    get type() { return 'array'; }\n    get schema() { return schema; }\n    static get types() { return ['array']; }\n}\nfunction _processNode(node, memberDef, defs) {\n    const valueNode = defs?.getV(node) || node;\n    const { value, changed } = doCommonTypeCheck(memberDef, valueNode, node, defs);\n    if (changed)\n        return value;\n    if (valueNode instanceof ArrayNode === false) {\n        throw new ValidationError(ErrorCodes.notAnArray, `Expecting an array value for '${memberDef.path}'`, node);\n    }\n    // Find the right typeDef\n    let typeDef;\n    let arrayMemberDef = {\n        type: 'any'\n    };\n    if (memberDef.of instanceof Schema) {\n        typeDef = TypedefRegistry.get('object');\n        arrayMemberDef.schema = memberDef.of;\n        arrayMemberDef.path = memberDef.path;\n    }\n    else if (memberDef.of?.type) {\n        typeDef = TypedefRegistry.get(memberDef.of.type);\n        if (!typeDef) {\n            throw new ValidationError(ErrorCodes.invalidType, `Invalid type definition '${memberDef.of.type}'`, node);\n        }\n        arrayMemberDef = memberDef.of;\n        arrayMemberDef.path = memberDef.path;\n    }\n    else if (typeof memberDef.of === 'string') {\n        assertNever(memberDef.of);\n    }\n    else {\n        typeDef = TypedefRegistry.get('any');\n    }\n    const array = [];\n    valueNode.children.forEach((item) => {\n        // If it is a definition\n        if (valueNode !== node) {\n            try {\n                array.push(typeDef?.parse(item, arrayMemberDef, defs));\n            }\n            catch (err) {\n                // Before rethrowing the error, change the position of the error to\n                // the original node.\n                if (err instanceof ValidationError) {\n                    err.positionRange = node;\n                }\n                throw err;\n            }\n        }\n        else {\n            array.push(typeDef?.parse(item, arrayMemberDef, defs));\n        }\n    });\n    // Validate length constraints\n    _validateLength(array, memberDef, valueNode);\n    return array;\n}\n/**\n * Validates array length constraints\n */\nfunction _validateLength(array, memberDef, node) {\n    const arrayLength = array.length;\n    if (memberDef.len !== undefined && arrayLength !== memberDef.len) {\n        throw new ValidationError(ErrorCodes.invalidLength, `The \"${memberDef.path || 'array'}\" must have exactly ${memberDef.len} items, but has ${arrayLength}.`, node);\n    }\n    if (memberDef.minLen !== undefined && arrayLength < memberDef.minLen) {\n        throw new ValidationError(ErrorCodes.outOfRange, `The \"${memberDef.path || 'array'}\" must have at least ${memberDef.minLen} items, but has ${arrayLength}.`, node);\n    }\n    if (memberDef.maxLen !== undefined && arrayLength > memberDef.maxLen) {\n        throw new ValidationError(ErrorCodes.outOfRange, `The \"${memberDef.path || 'array'}\" must have at most ${memberDef.maxLen} items, but has ${arrayLength}.`, node);\n    }\n}\nexport default ArrayDef;\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _BooleanDef_instances, _BooleanDef_validate;\nimport ValidationError from '../../errors/io-error';\nimport ErrorCodes from '../../errors/io-error-codes';\nimport TokenNode from '../../parser/nodes/tokens';\nimport Schema from '../../schema/schema';\nimport TokenType from '../../parser/tokenizer/token-types';\nimport doCommonTypeCheck from './common-type';\nconst schema = new Schema(\"bool\", { type: { type: \"string\", optional: false, null: false, choices: [\"bool\"] } }, { default: { type: \"bool\", optional: true, null: false } }, { optional: { type: \"bool\", optional: true } }, { null: { type: \"bool\", optional: true } });\nclass BooleanDef {\n    constructor() {\n        _BooleanDef_instances.add(this);\n    }\n    get type() { return 'bool'; }\n    get schema() { return schema; }\n    parse(node, memberDef, defs) {\n        return __classPrivateFieldGet(this, _BooleanDef_instances, \"m\", _BooleanDef_validate).call(this, node, memberDef, defs);\n    }\n    // Load: JS Value  Validated JS Value\n    load(value, memberDef, defs) {\n        const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value);\n        if (changed)\n            return checkedValue;\n        if (typeof value !== 'boolean') {\n            throw new ValidationError(ErrorCodes.notABool, `Expecting a boolean value for '${memberDef.path}' but found ${JSON.stringify(value)}.`);\n        }\n        return value;\n    }\n    // Stringify with validation\n    stringify(value, memberDef) {\n        this.load(value, memberDef);\n        return value ? 'T' : 'F';\n    }\n    static get types() { return ['bool']; }\n}\n_BooleanDef_instances = new WeakSet(), _BooleanDef_validate = function _BooleanDef_validate(node, memberDef, defs) {\n    const valueNode = defs?.getV(node) || node;\n    const { value, changed } = doCommonTypeCheck(memberDef, valueNode, node, defs);\n    if (changed)\n        return value;\n    if (valueNode instanceof TokenNode === false || valueNode.type !== TokenType.BOOLEAN) {\n        throw new ValidationError(ErrorCodes.notABool, `Expecting a boolean value for '${memberDef.path}' but found ${valueNode.toValue()}.`, node);\n    }\n    return valueNode.value;\n};\nexport default BooleanDef;\n","export const datetimeExp = {\n    // https://regex101.com/r/v1YLhA/2\n    datetime: /^(?<dt>(?<year>\\d{4})(?:\\-(?<month>(?:1[0-2]|0[1-9]))(?:\\-(?<date>[0-2][0-9]|3[0-1]))?)?(T(?<hour>[0-1][0-9]|2[0-3])(?:\\:(?<minute>[0-5][0-9])(?:\\:(?<sec>[0-5][0-9])(?:\\.(?<milisecond>(?:\\d{3})+))?)?)?)?(?<tz>(Z)|((?:\\+|-)(?:(?:[0-1][0-9]|2[0-3])(?:\\:[0-5][0-9])?)))?)$/,\n    // https://regex101.com/r/yXu5MC/2\n    date: /^(?<year>\\d{4})(?:\\-(?<month>(?:1[0-2]|0[1-9]))(?:\\-(?<date>[0-2][0-9]|3[0-1]))?)?$/,\n    // https://regex101.com/r/hbiNMv/4\n    time: /^(?<hour>[0-1][0-9]|2[0-3])(?:\\:(?<minute>[0-5][0-9])(?:\\:(?<second>[0-5][0-9])(?:\\.(?<milisecond>(?:\\d{3})+))?)?)?$/\n};\nexport const datetimePlainExp = {\n    // https://regex101.com/r/0j7nlS/3\n    // Note: Since this expression starts with ^ and does not end with $, it will\n    // ignore any characters after the valid datetime format.\n    // Unlike regular datetime expressions, this won't complain about the invalid\n    // datetime format if the expression finds invalid characters after the\n    // valid datetime format. For example, 20200101000000000Zabc will be\n    // considered as a valid datetime format with 'abc' ignored.\n    // This is required because, putting $ at the end of the expression will\n    // cause it to pick up invalid groups from the datetime string.\n    datetime: /^(?<year>\\d{4})(?:(?<month>(?:1[0-2]|0[1-9]))(?:(?<date>[0-2][0-9]|3[0-1]))?)?(?:(?<hour>[0-1][0-9]|2[0-3])(?:(?<minute>[0-5][0-9])(?:(?<second>[0-5][0-9])(?:(?<milisecond>(?:\\d{3})+))?)?)?)?(?<tz>(Z)|((?:\\+|-)(?:(?:[0-1][0-9]|2[0-3])(?:[0-5][0-9])?)))?/,\n    // https://regex101.com/r/VDkmzU/2\n    date: /^(?<year>\\d{4})(?:(?<month>(?:1[0-2]|0[1-9]))(?:(?<date>[0-2][0-9]|3[0-1]))?)?$/,\n    // https://regex101.com/r/X5AA4A/3\n    time: /^(?<hour>[0-1][0-9]|2[0-3])(?:(?<minute>[0-5][0-9])(?:(?<second>[0-5][0-9])(?:(?<milisecond>(?:\\d{3})+))?)?)?$/\n};\n/**\n * Parses the value string and returns the datetime if the string represents\n * the ISO 8601 formatted datetime. Returns null when the invalid datetime\n * is found.\n */\nexport const parseDateTime = (value) => {\n    // If the first 6 characters contain '-', it is regular datetime format.\n    // Otherwise, it is plain datetime format (no separator)\n    const exp = /[\\-\\:]/.test(value.substring(0, 6)) ? datetimeExp.datetime : datetimePlainExp.datetime;\n    const match = exp.exec(value);\n    if (!match) {\n        return null;\n    }\n    const { year, month, date, hour, minute, second, milisecond, tz } = match.groups || {};\n    const utc = tz ? tz : 'Z';\n    const dateStr = `${year}-${month || '01'}-${date || '01'}T${hour || '00'}:${minute || '00'}:${second || '00'}.${milisecond || '000'}${utc}`;\n    return new Date(dateStr);\n};\n/**\n * Parses the value string and returns the datetime if the string represents\n * the ISO 8601 formatted date. Returns null when the invalid date\n * is found.\n */\nexport const parseDate = (value) => {\n    const exp = /\\-/.test(value.substring(0, 5)) ? datetimeExp.date : datetimePlainExp.date;\n    const match = exp.exec(value);\n    if (!match) {\n        return null;\n    }\n    const { year, month, date } = match.groups || {};\n    const dateStr = `${year}-${month || '01'}-${date || '01'}T00:00:00.000Z`;\n    return new Date(dateStr);\n};\n/**\n * Parses the value string and returns the datetime if the string represents\n * the ISO 8601 formatted time. Returns null when the invalid time\n * is found.\n */\nexport const parseTime = (value) => {\n    const exp = /\\:/.test(value.substring(0, 3)) ? datetimeExp.time : datetimePlainExp.time;\n    const match = exp.exec(value);\n    if (!match) {\n        return null;\n    }\n    const { hour, minute, second, milisecond } = match.groups || {};\n    const dateStr = `1900-01-01T${hour || '00'}:${minute || '00'}:${second || '00'}.${milisecond ? milisecond : '000'}Z`;\n    return new Date(dateStr);\n};\nexport const dateToDatetimeString = (date, noSep = false, zuluTime = false) => {\n    if (date === null)\n        return null;\n    return date.toISOString();\n};\nexport const dateToDateString = (date, noSep = false) => {\n    if (date === null)\n        return null;\n    // Convert the date to iso string and return the date part\n    return date.toISOString().split('T')[0];\n};\nexport const dateToTimeString = (date, noSep = false) => {\n    if (date === null)\n        return null;\n    // Convert the date to iso string and return the time part\n    // without the timezone\n    return date.toISOString().split('T')[1].split('.')[0];\n};\nconst _ = (n, pad = 2) => {\n    return n.toLocaleString('en-US', { minimumIntegerDigits: pad, useGrouping: false });\n};\nexport const dateToSmartString = (date, type, noSep = false) => {\n    if (date === null)\n        return null;\n    switch (type) {\n        case \"datetime\":\n            return dateToDatetimeString(date, noSep);\n        case \"date\":\n            return dateToDateString(date, noSep);\n        case \"time\":\n            return dateToTimeString(date, noSep);\n    }\n};\nexport const dateToIOString = (date, type, noSep = false) => {\n    if (date === null)\n        return \"N\";\n    switch (type) {\n        case \"datetime\":\n            return `dt\"${dateToDatetimeString(date, noSep)}\"`;\n        case \"date\":\n            return `d\"${dateToDateString(date, noSep)}\"`;\n        case \"time\":\n            return `t\"${dateToTimeString(date, noSep)}\"`;\n    }\n};\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _DateTimeDef_instances, _DateTimeDef_type, _DateTimeDef_normalizeToDate, _DateTimeDef_dateTimeEqualityComparator, _DateTimeDef_validate;\nimport ErrorCodes from '../../errors/io-error-codes';\nimport ValidationError from '../../errors/io-validation-error';\nimport TokenNode from '../../parser/nodes/tokens';\nimport Schema from '../../schema/schema';\nimport TokenType from '../../parser/tokenizer/token-types';\nimport * as dt from '../../utils/datetime';\nimport doCommonTypeCheck from './common-type';\nconst DATETIME_TYPES = ['datetime', 'date', 'time'];\nconst schema = new Schema(\"datetime\", { type: { type: \"string\", optional: false, null: false, choices: DATETIME_TYPES } }, { default: { type: \"datetime\", optional: true, null: false } }, { choices: { type: \"array\", optional: true, null: false, of: { type: \"datetime\" } } }, { min: { type: \"datetime\", optional: true, null: false } }, { max: { type: \"datetime\", optional: true, null: false } }, { optional: { type: \"bool\", optional: true } }, { null: { type: \"bool\", optional: true } });\nclass DateTimeDef {\n    get type() { return __classPrivateFieldGet(this, _DateTimeDef_type, \"f\"); }\n    get schema() { return schema; }\n    constructor(type = 'datetime') {\n        _DateTimeDef_instances.add(this);\n        _DateTimeDef_type.set(this, void 0);\n        _DateTimeDef_normalizeToDate.set(this, (v, defs) => {\n            if (!v)\n                return undefined;\n            // Already a Date instance (min/max from schema are already Date objects)\n            if (v instanceof Date)\n                return v;\n            // Resolve TokenNode to underlying value\n            if (v instanceof TokenNode) {\n                if (v.value instanceof Date)\n                    return v.value;\n                // Try resolving through definitions\n                if (defs) {\n                    const resolved = defs.getV(v);\n                    if (resolved instanceof Date)\n                        return resolved;\n                    if (resolved instanceof TokenNode && resolved.value instanceof Date)\n                        return resolved.value;\n                }\n            }\n            // If wrapper exposes toValue(defs)\n            if (typeof v === 'object' && typeof v.toValue === 'function') {\n                const resolved = v.toValue(defs);\n                return __classPrivateFieldGet(this, _DateTimeDef_normalizeToDate, \"f\").call(this, resolved, defs);\n            }\n            return undefined;\n        });\n        _DateTimeDef_dateTimeEqualityComparator.set(this, (value, choice) => {\n            const valDate = value instanceof Date ? value : undefined;\n            const choiceDate = __classPrivateFieldGet(this, _DateTimeDef_normalizeToDate, \"f\").call(this, choice);\n            if (!valDate || !choiceDate)\n                return false;\n            return valDate.getTime() === choiceDate.getTime();\n        });\n        __classPrivateFieldSet(this, _DateTimeDef_type, type, \"f\");\n    }\n    parse(node, memberDef, defs) {\n        const valueNode = defs?.getV(node) || node;\n        const { value, changed } = doCommonTypeCheck(memberDef, valueNode, node, defs, __classPrivateFieldGet(this, _DateTimeDef_dateTimeEqualityComparator, \"f\"));\n        if (changed)\n            return value;\n        if (valueNode.type !== TokenType.DATETIME) {\n            throw new ValidationError(ErrorCodes.invalidDateTime, `Expecting a ${memberDef.type.toUpperCase()} value for ${memberDef.path}, currently ${valueNode.value}, a ${valueNode.type} value`, node);\n        }\n        // Validate the value\n        __classPrivateFieldGet(this, _DateTimeDef_instances, \"m\", _DateTimeDef_validate).call(this, value, memberDef, node, defs);\n        return value;\n    }\n    load(value, memberDef, defs) {\n        const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value, undefined, defs, __classPrivateFieldGet(this, _DateTimeDef_dateTimeEqualityComparator, \"f\"));\n        if (changed)\n            return checkedValue;\n        // Type validation - must be a Date object\n        if (!(value instanceof Date)) {\n            throw new ValidationError(ErrorCodes.invalidType, `Expecting a Date object for '${memberDef.path}', got ${typeof value}`);\n        }\n        // Validate constraints\n        __classPrivateFieldGet(this, _DateTimeDef_instances, \"m\", _DateTimeDef_validate).call(this, value, memberDef, undefined, defs);\n        return value;\n    }\n    stringify(value) {\n        return dt.dateToIOString(value, __classPrivateFieldGet(this, _DateTimeDef_type, \"f\"));\n    }\n    static get types() { return DATETIME_TYPES; }\n}\n_DateTimeDef_type = new WeakMap(), _DateTimeDef_normalizeToDate = new WeakMap(), _DateTimeDef_dateTimeEqualityComparator = new WeakMap(), _DateTimeDef_instances = new WeakSet(), _DateTimeDef_validate = function _DateTimeDef_validate(value, memberDef, node, defs) {\n    const dateType = memberDef.type;\n    if (memberDef.min) {\n        const min = __classPrivateFieldGet(this, _DateTimeDef_normalizeToDate, \"f\").call(this, memberDef.min, defs);\n        if (min && value < min) {\n            throw new ValidationError(ErrorCodes.outOfRange, `Expecting the value ${memberDef.path ? `for '${memberDef.path}'` : ''} to be greater than or equal to '${dt.dateToSmartString(min, dateType)}'`, node);\n        }\n    }\n    if (memberDef.max) {\n        const max = __classPrivateFieldGet(this, _DateTimeDef_normalizeToDate, \"f\").call(this, memberDef.max, defs);\n        if (max && value > max) {\n            throw new ValidationError(ErrorCodes.outOfRange, `Expecting the value ${memberDef.path ? `for '${memberDef.path}'` : ''} to be less than or equal to '${dt.dateToSmartString(max, dateType)}'`, node);\n        }\n    }\n};\nexport default DateTimeDef;\n","import ErrorCodes from '../../errors/io-error-codes';\nimport ValidationError from '../../errors/io-validation-error';\n/**\n * All supported number types\n */\nexport const NUMBER_TYPES = [\n    'bigint', 'decimal',\n    'int', 'uint', 'float', 'number',\n    'int8', 'int16', 'int32',\n    'uint8', 'uint16', 'uint32', 'uint64',\n    'float32', 'float64' // Floating point number types\n];\n/**\n * Map for quick type lookup\n */\nexport const NUMBER_MAP = NUMBER_TYPES.reduce((acc, type) => {\n    acc[type] = true;\n    return acc;\n}, {});\n/**\n * Helper function for throwing validation errors\n */\nexport function throwError(code, memberPath, value, node) {\n    // Generate appropriate error message based on error code\n    let message;\n    switch (code) {\n        case ErrorCodes.invalidType:\n            message = `The '${memberPath}' has an invalid type. ${value}`;\n            break;\n        case ErrorCodes.invalidRange:\n            message = `The '${memberPath}' must be within the specified range, Currently it is ${value}.`;\n            break;\n        case ErrorCodes.invalidScale:\n            message = `The '${memberPath}' has an invalid scale. ${value}`;\n            break;\n        case ErrorCodes.invalidPrecision:\n            message = `The '${memberPath}' has an invalid precision. ${value}`;\n            break;\n        default:\n            message = `The '${memberPath}' validation failed. ${value}`;\n    }\n    throw new ValidationError(code, message, node);\n}\n/**\n * Get the number of integer digits in a decimal\n */\nexport function getIntegerDigits(decimal) {\n    const valueStr = decimal.toString();\n    return valueStr.split('.')[0].replace('-', '').length;\n}\n","import ErrorCodes from '../../errors/io-error-codes';\nimport ValidationError from '../../errors/io-validation-error';\nimport Schema from '../../schema/schema';\nimport doCommonTypeCheck from './common-type';\nimport { NUMBER_TYPES, NUMBER_MAP, throwError } from './common-number';\nconst bigintSchema = new Schema(\"bigint\", { type: { type: \"string\", optional: false, null: false, choices: NUMBER_TYPES } }, { default: { type: \"bigint\", optional: true, null: false } }, { choices: { type: \"array\", optional: true, null: false, of: { type: \"bigint\" } } }, { min: { type: \"bigint\", optional: true, null: false } }, { max: { type: \"bigint\", optional: true, null: false } }, { multipleOf: { type: \"bigint\", optional: true, null: false } }, { format: { type: \"string\", optional: true, null: false, choices: [\"decimal\", \"hex\", \"octal\", \"binary\"], default: \"decimal\" } }, { optional: { type: \"bool\", optional: true } }, { null: { type: \"bool\", optional: true } });\n/**\n * BigInt type definition\n *\n * @internal\n */\nclass BigIntDef {\n    constructor() {\n        this._type = 'bigint';\n    }\n    get type() { return this._type; }\n    get schema() { return bigintSchema; }\n    parse(node, memberDef, defs) {\n        const valueNode = defs?.getV(node) || node;\n        const rawValue = typeof valueNode?.toValue === 'function' ? valueNode.toValue(defs) : valueNode;\n        let { value, changed } = doCommonTypeCheck(memberDef, valueNode, node, defs);\n        if (changed)\n            return value;\n        value = this.validate(memberDef, value, node);\n        return value;\n    }\n    load(value, memberDef, defs) {\n        const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value);\n        if (changed)\n            return checkedValue;\n        return this.validate(memberDef, value);\n    }\n    stringify(value, memberDef) {\n        // Validate before stringifying\n        this.validate(memberDef, value);\n        if (memberDef.format === 'hex') {\n            return value.toString(16);\n        }\n        if (memberDef.format === 'octal') {\n            return value.toString(8);\n        }\n        if (memberDef.format === 'binary') {\n            return value.toString(2);\n        }\n        return value.toString();\n    }\n    /**\n     * Validates bigint value\n     */\n    validate(memberDef, value, node) {\n        const valueType = typeof value === \"bigint\" ? \"bigint\" : NUMBER_MAP[typeof value] ? \"number\" : \"\";\n        if (valueType === \"\") {\n            throw new ValidationError(ErrorCodes.invalidType, `Expecting a value of type '${memberDef.type}' for '${memberDef.path}'`, node);\n        }\n        if (valueType !== \"bigint\") {\n            throw new ValidationError(`not-a-${memberDef.type}`, `Invalid value encountered for '${memberDef.path}'`, node);\n        }\n        const { min, max, multipleOf } = memberDef;\n        if ((min !== undefined && min !== null && value < min) ||\n            (max !== undefined && max !== null && value > max)) {\n            throwError(ErrorCodes.invalidRange, memberDef.path, value, node);\n        }\n        // Validate multipleOf constraint\n        if (multipleOf !== undefined && multipleOf !== null) {\n            const remainder = value % BigInt(multipleOf);\n            if (remainder !== 0n) {\n                throw new ValidationError(ErrorCodes.invalidValue, `The value ${value} for '${memberDef.path}' must be a multiple of ${multipleOf}`, node);\n            }\n        }\n        return value;\n    }\n}\nexport default BigIntDef;\n","import Decimal from '../../core/decimal';\nimport ErrorCodes from '../../errors/io-error-codes';\nimport Schema from '../../schema/schema';\nimport doCommonTypeCheck from './common-type';\nimport { NUMBER_TYPES, throwError, getIntegerDigits } from './common-number';\nconst decimalSchema = new Schema(\"decimal\", { type: { type: \"string\", optional: false, null: false, choices: NUMBER_TYPES } }, { default: { type: \"decimal\", optional: true, null: false } }, { choices: { type: \"array\", optional: true, null: false, of: { type: \"decimal\" } } }, { precision: { type: \"number\", optional: true, null: false } }, { scale: { type: \"number\", optional: true, null: false } }, { min: { type: \"decimal\", optional: true, null: false } }, { max: { type: \"decimal\", optional: true, null: false } }, { multipleOf: { type: \"decimal\", optional: true, null: false } }, { optional: { type: \"bool\", optional: true } }, { null: { type: \"bool\", optional: true } });\n/**\n * Decimal type definition with support for 4 validation modes:\n * 1. Natural comparison (no precision/scale)\n * 2. Scale-only validation (exact decimal places)\n * 3. Precision-only validation (max significant digits)\n * 4. Strict validation (exact DECIMAL(precision, scale))\n *\n * @internal\n */\nclass DecimalDef {\n    constructor() {\n        this._type = 'decimal';\n    }\n    get type() { return this._type; }\n    get schema() { return decimalSchema; }\n    parse(node, memberDef, defs) {\n        const valueNode = defs?.getV(node) || node;\n        let { value, changed } = doCommonTypeCheck(memberDef, valueNode, node, defs);\n        if (changed)\n            return value;\n        // Type check: reject regular numbers, only accept Decimal instances\n        if (typeof value === 'number') {\n            throwError(ErrorCodes.invalidType, memberDef.path, `Expected decimal value (with 'm' suffix), got number`, node);\n        }\n        value = this.validate(memberDef, value, node);\n        return value;\n    }\n    load(value, memberDef, defs) {\n        const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value);\n        if (changed)\n            return checkedValue;\n        return this.validate(memberDef, value);\n    }\n    stringify(value, memberDef) {\n        // Validate before stringifying\n        this.validate(memberDef, value);\n        return value.toString();\n    }\n    /**\n     * Validates decimal value according to the specified mode\n     */\n    validate(memberDef, value, node) {\n        let { min, max, precision: requiredPrecision, scale: requiredScale } = memberDef;\n        const valD = Decimal.ensureDecimal(value);\n        // Mode check: Determine validation mode based on precision and scale\n        const hasRequiredPrecision = requiredPrecision !== null && requiredPrecision !== undefined;\n        const hasRequiredScale = requiredScale !== null && requiredScale !== undefined;\n        // Validate scale if specified (modes 2 and 4)\n        if (hasRequiredScale) {\n            const actualScale = valD.getScale();\n            if (actualScale !== requiredScale) {\n                throwError(ErrorCodes.invalidScale, memberDef.path, `Value has scale ${actualScale}, expected ${requiredScale}`, node);\n            }\n        }\n        // Validate precision if specified (modes 3 and 4)\n        if (hasRequiredPrecision) {\n            const actualPrecision = valD.getPrecision();\n            if (hasRequiredScale) {\n                // Mode 4: Strict validation (both precision and scale)\n                // Check if value fits within DECIMAL(precision, scale)\n                const intDigits = getIntegerDigits(valD);\n                const maxIntDigits = requiredPrecision - requiredScale;\n                if (intDigits > maxIntDigits) {\n                    throwError(ErrorCodes.invalidPrecision, memberDef.path, `Integer part has ${intDigits} digits, DECIMAL(${requiredPrecision},${requiredScale}) allows ${maxIntDigits}`, node);\n                }\n            }\n            else {\n                // Mode 3: Precision-only validation\n                if (actualPrecision > requiredPrecision) {\n                    throwError(ErrorCodes.invalidPrecision, memberDef.path, `Value has precision ${actualPrecision}, max allowed is ${requiredPrecision}`, node);\n                }\n            }\n        }\n        // Validate min constraint - normalize to same scale for comparison\n        if (min !== null && min !== undefined) {\n            const minD = Decimal.ensureDecimal(min);\n            // Use the larger scale for both\n            const targetScale = Math.max(valD.getScale(), minD.getScale());\n            // Calculate precision needed: max integer digits + target scale\n            const valIntDigits = getIntegerDigits(valD);\n            const minIntDigits = getIntegerDigits(minD);\n            const targetPrecision = Math.max(valIntDigits, minIntDigits) + targetScale;\n            const normalizedVal = valD.convert(targetPrecision, targetScale);\n            const normalizedMin = minD.convert(targetPrecision, targetScale);\n            if (normalizedVal.compareTo(normalizedMin) < 0) {\n                throwError(ErrorCodes.invalidRange, memberDef.path, value, node);\n            }\n        }\n        // Validate max constraint - normalize to same scale for comparison\n        if (max !== null && max !== undefined) {\n            const maxD = Decimal.ensureDecimal(max);\n            // Use the larger scale for both\n            const targetScale = Math.max(valD.getScale(), maxD.getScale());\n            // Calculate precision needed: max integer digits + target scale\n            const valIntDigits = getIntegerDigits(valD);\n            const maxIntDigits = getIntegerDigits(maxD);\n            const targetPrecision = Math.max(valIntDigits, maxIntDigits) + targetScale;\n            const normalizedVal = valD.convert(targetPrecision, targetScale);\n            const normalizedMax = maxD.convert(targetPrecision, targetScale);\n            if (normalizedVal.compareTo(normalizedMax) > 0) {\n                throwError(ErrorCodes.invalidRange, memberDef.path, value, node);\n            }\n        }\n        // Validate multipleOf constraint\n        if (memberDef.multipleOf !== undefined && memberDef.multipleOf !== null) {\n            const multipleOfD = Decimal.ensureDecimal(memberDef.multipleOf);\n            // For multipleOf check, we need to ensure both values have the same scale\n            const targetScale = Math.max(valD.getScale(), multipleOfD.getScale());\n            const valIntDigits = getIntegerDigits(valD);\n            const multipleIntDigits = getIntegerDigits(multipleOfD);\n            const targetPrecision = Math.max(valIntDigits, multipleIntDigits) + targetScale;\n            const normalizedVal = valD.convert(targetPrecision, targetScale);\n            const normalizedMultiple = multipleOfD.convert(targetPrecision, targetScale);\n            // Check if value is a multiple using modulo operation\n            const remainder = normalizedVal.mod(normalizedMultiple);\n            const zero = new Decimal(0, targetPrecision, targetScale);\n            if (remainder.compareTo(zero) !== 0) {\n                throwError(ErrorCodes.invalidValue, memberDef.path, `Value must be a multiple of ${multipleOfD}`, node);\n            }\n        }\n        // Return the value as-is (don't convert unless necessary)\n        return valD;\n    }\n}\nexport default DecimalDef;\n","import InternetObjectError from '../../errors/io-error';\nimport ErrorCodes from '../../errors/io-error-codes';\nimport ValidationError from '../../errors/io-validation-error';\nimport Schema from '../../schema/schema';\nimport doCommonTypeCheck from './common-type';\nimport { NUMBER_TYPES, NUMBER_MAP, throwError } from './common-number';\nimport BigIntDef from './bigint';\nimport DecimalDef from './decimal';\nconst numberSchema = new Schema(\"number\", { type: { type: \"string\", optional: false, null: false, choices: NUMBER_TYPES } }, { default: { type: \"number\", optional: true, null: false } }, { choices: { type: \"array\", optional: true, null: false, of: { type: \"number\" } } }, { min: { type: \"number\", optional: true, null: false } }, { max: { type: \"number\", optional: true, null: false } }, { multipleOf: { type: \"number\", optional: true, null: false } }, { format: { type: \"string\", optional: true, null: false, choices: [\"decimal\", \"hex\", \"octal\", \"binary\", \"scientific\"] } }, { optional: { type: \"bool\", optional: true } }, { null: { type: \"bool\", optional: true } });\n/**\n * Represents the various number related data types in Internet Object.\n * Delegates to specialized types (BigIntDef, DecimalDef) when appropriate.\n *\n * @internal\n */\nclass NumberDef {\n    get type() { return this._type; }\n    get schema() {\n        if (this._delegateTypeDef) {\n            return this._delegateTypeDef.schema;\n        }\n        return numberSchema;\n    }\n    constructor(type = 'number') {\n        this._type = type;\n        // Delegate to specialized type definitions\n        if (type === 'bigint') {\n            this._delegateTypeDef = new BigIntDef();\n        }\n        else if (type === 'decimal') {\n            this._delegateTypeDef = new DecimalDef();\n        }\n    }\n    parse(node, memberDef, defs) {\n        // Delegate to specialized type if available\n        if (this._delegateTypeDef) {\n            return this._delegateTypeDef.parse(node, memberDef, defs);\n        }\n        // Handle standard number types\n        const valueNode = defs?.getV(node) || node;\n        const rawValue = typeof valueNode?.toValue === 'function' ? valueNode.toValue(defs) : valueNode;\n        let { value, changed } = doCommonTypeCheck(memberDef, valueNode, node, defs);\n        if (changed)\n            return value;\n        value = this.validateInteger(memberDef, value, node);\n        return value;\n    }\n    /** Load: JS Value  Validated JS Value */\n    load(value, memberDef, defs) {\n        // Delegate to specialized type if available\n        if (this._delegateTypeDef && 'load' in this._delegateTypeDef) {\n            return this._delegateTypeDef.load(value, memberDef, defs);\n        }\n        const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value, undefined, defs);\n        if (changed)\n            return checkedValue;\n        const validated = this.validateInteger(memberDef, value);\n        return validated;\n    }\n    stringify(value, memberDef, defs) {\n        // Handle null/undefined first\n        const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value, undefined, defs);\n        if (changed) {\n            if (checkedValue === null)\n                return 'N';\n            if (checkedValue === undefined)\n                return '';\n        }\n        // Delegate to specialized type if available\n        if (this._delegateTypeDef && 'stringify' in this._delegateTypeDef) {\n            return this._delegateTypeDef.stringify(checkedValue, memberDef, defs);\n        }\n        // Handle standard number types\n        if (memberDef.format === 'scientific') {\n            return checkedValue.toExponential();\n        }\n        if (memberDef.format === 'hex') {\n            return checkedValue.toString(16);\n        }\n        if (memberDef.format === 'octal') {\n            return checkedValue.toString(8);\n        }\n        if (memberDef.format === 'binary') {\n            return checkedValue.toString(2);\n        }\n        return checkedValue.toString();\n    }\n    /**\n     * Validates integer and float types\n     */\n    validateInteger(memberDef, value, node) {\n        const valueType = typeof value === \"bigint\" ? \"bigint\" : NUMBER_MAP[typeof value] ? \"number\" : \"\";\n        if (valueType === \"\") {\n            throw new ValidationError(ErrorCodes.invalidType, `Expecting a value of type '${memberDef.type}' for '${memberDef.path}'`, node);\n        }\n        if (valueType !== \"number\") {\n            throw new ValidationError(`not-a-${memberDef.type}`, `Invalid value encountered for '${memberDef.path}'`, node);\n        }\n        // Get type-specific bounds\n        const { min: typeBoundMin, max: typeBoundMax } = this.getTypeBounds(this._type);\n        // Use memberDef.min/max if available, otherwise use type bounds\n        const effectiveMin = memberDef.min !== undefined && memberDef.min !== null ? memberDef.min : typeBoundMin;\n        const effectiveMax = memberDef.max !== undefined && memberDef.max !== null ? memberDef.max : typeBoundMax;\n        if ((effectiveMin !== null && value < effectiveMin) || (effectiveMax !== null && value > effectiveMax)) {\n            throwError(ErrorCodes.invalidRange, memberDef.path, value, node);\n        }\n        // Validate multipleOf constraint\n        if (memberDef.multipleOf !== undefined && memberDef.multipleOf !== null) {\n            if (value % memberDef.multipleOf !== 0) {\n                throw new ValidationError(ErrorCodes.invalidValue, `The value ${value} for '${memberDef.path}' must be a multiple of ${memberDef.multipleOf}`, node);\n            }\n        }\n        return value;\n    }\n    /**\n     * Get min/max bounds for a specific number type\n     */\n    getTypeBounds(type) {\n        switch (type) {\n            case 'uint':\n                return { min: 0, max: null };\n            case 'int8':\n                return { min: -(2 ** 7), max: 2 ** 7 - 1 };\n            case 'uint8':\n                return { min: 0, max: 2 ** 8 - 1 };\n            case 'int16':\n                return { min: -(2 ** 15), max: 2 ** 15 - 1 };\n            case 'uint16':\n                return { min: 0, max: 2 ** 16 - 1 };\n            case 'int32':\n                return { min: -(2 ** 31), max: 2 ** 31 - 1 };\n            case 'uint32':\n                return { min: 0, max: 2 ** 32 - 1 };\n            case 'uint64':\n            case 'int64':\n            case 'float32':\n            case 'float64':\n                throw new InternetObjectError(ErrorCodes.unsupportedNumberType, `The number type '${type}' is not supported.`);\n            default:\n                return { min: null, max: null };\n        }\n    }\n    static get types() {\n        return NUMBER_TYPES;\n    }\n}\nexport default NumberDef;\n","import ValidationError from '../../errors/io-validation-error';\nimport IOError from '../../errors/io-error';\nimport ErrorCodes from '../../errors/io-error-codes';\nimport ObjectNode from '../../parser/nodes/objects';\nimport TokenNode from '../../parser/nodes/tokens';\nimport compileObject from '../../schema/compile-object';\nimport processObject from '../../schema/object-processor';\nimport Schema from '../../schema/schema';\nimport TypedefRegistry from '../../schema/typedef-registry';\nimport doCommonTypeCheck from './common-type';\nconst schema = new Schema(\"object\", { type: { type: \"string\", optional: false, null: false, choices: [\"object\"] } }, { default: { type: \"object\", optional: true, null: false } }, { schema: { type: \"object\", optional: true, null: false, __schema: true } }, { optional: { type: \"bool\", optional: true } }, { null: { type: \"bool\", optional: true } });\n/**\n * Represents the ObjectTypeDef which is reponsible for parsing,\n * validating, loading and serializing Objects.\n */\nclass ObjectDef {\n    constructor() {\n        this._names = null;\n        /**\n         * Parses the object in IO format into JavaScript object.\n         */\n        this.parse = (node, memberDef, defs) => {\n            return this._process(node, memberDef, defs);\n        };\n        /**\n         * Load: Validates a JavaScript object against the schema\n         */\n        this.load = (value, memberDef, defs) => {\n            const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value, undefined, defs);\n            if (changed)\n                return checkedValue;\n            // Type check\n            if (typeof value !== 'object' || value === null || Array.isArray(value)) {\n                throw new ValidationError(ErrorCodes.invalidObject, `Expecting an object value for '${memberDef.path}' but found ${Array.isArray(value) ? 'array' : typeof value}`);\n            }\n            const schema = memberDef.schema;\n            if (!schema) {\n                // No schema - return value as-is for open objects\n                return value;\n            }\n            // Process object with schema using internal helper\n            return this._loadObject(value, schema, memberDef.path || '', defs);\n        };\n        /**\n         * Stringify: Converts a JavaScript object to IO text format\n         * Returns undefined if value is undefined (signals to skip this field)\n         */\n        this.stringify = (value, memberDef, defs) => {\n            const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value, undefined, defs);\n            if (changed) {\n                if (checkedValue === null)\n                    return 'N';\n                if (checkedValue === undefined)\n                    return undefined; // Skip this field entirely\n                value = checkedValue;\n            }\n            // Type check\n            if (typeof value !== 'object' || value === null || Array.isArray(value)) {\n                throw new ValidationError(ErrorCodes.invalidObject, `Expecting an object value for '${memberDef.path}' but found ${Array.isArray(value) ? 'array' : typeof value}`);\n            }\n            // Resolve schema - it might be a Schema instance, a variable reference (TokenNode), or schemaRef string\n            let schema = this._resolveSchema(memberDef.schema, defs);\n            // If no schema from memberDef.schema, check schemaRef\n            if (!schema && memberDef.schemaRef && defs) {\n                schema = this._resolveSchema(memberDef.schemaRef, defs);\n            }\n            return this._stringifyObject(value, schema, memberDef.path || '', defs);\n        };\n        // Process the parse and load requests\n        this._process = (node, memberDef, defs) => {\n            const valueNode = defs?.getV(node) || node;\n            const { value, changed } = doCommonTypeCheck(memberDef, valueNode, node, defs);\n            if (changed) {\n                return value;\n            }\n            let schema = memberDef.schema;\n            if (valueNode instanceof ObjectNode === false) {\n                throw new ValidationError(ErrorCodes.invalidObject, `Expecting an object value for '${memberDef.path}'`, node);\n            }\n            if (valueNode === node) {\n                if (memberDef.__schema) {\n                    return compileObject(memberDef.path || \"\", valueNode, defs);\n                }\n                if (!schema) {\n                    schema = new Schema(memberDef.path || \"\");\n                    schema.open = true;\n                }\n                return processObject(valueNode, schema, defs);\n            }\n            // valueNode fetched from defs. Hence, in case of an error, replace the\n            // error position with the original node.\n            try {\n                return processObject(valueNode, schema, defs);\n            }\n            catch (err) {\n                if (err instanceof ValidationError) {\n                    err.positionRange = node;\n                }\n                throw err;\n            }\n            return processObject(valueNode, schema, defs);\n        };\n    }\n    /**\n     * Returns the type this instance is going to handle.\n     * Always returns object\n     */\n    get type() { return 'object'; }\n    static get types() { return ['object']; }\n    get schema() { return schema; }\n    /**\n     * Internal helper to load and validate a plain JS object according to schema\n     */\n    _loadObject(data, schema, basePath, defs) {\n        const result = {};\n        const processedNames = new Set();\n        // Process schema-defined members\n        for (const name of schema.names) {\n            const memberDef = this._resolveMemberDefVariables(schema.defs[name], defs);\n            memberDef.path = basePath ? `${basePath}.${name}` : name;\n            const value = data[name];\n            const typeDef = TypedefRegistry.get(memberDef.type);\n            if (!typeDef) {\n                throw new IOError(ErrorCodes.invalidType, `Type '${memberDef.type}' is not registered.`);\n            }\n            // Use load() method if available\n            if ('load' in typeDef && typeof typeDef.load === 'function') {\n                const loadedValue = typeDef.load(value, memberDef, defs);\n                if (loadedValue !== undefined) {\n                    result[name] = loadedValue;\n                }\n            }\n            else {\n                // Fallback for types without load()\n                if (value !== undefined) {\n                    result[name] = value;\n                }\n                else if (memberDef.default !== undefined) {\n                    result[name] = memberDef.default;\n                }\n                else if (!memberDef.optional) {\n                    throw new ValidationError(ErrorCodes.valueRequired, `Value required for field '${memberDef.path}'`);\n                }\n            }\n            processedNames.add(name);\n        }\n        // Handle additional properties\n        if (schema.open) {\n            for (const key in data) {\n                if (!processedNames.has(key)) {\n                    let extraMemberDef;\n                    if (typeof schema.open === 'object' && schema.open.type) {\n                        extraMemberDef = { ...schema.open, path: basePath ? `${basePath}.${key}` : key };\n                    }\n                    else {\n                        extraMemberDef = { type: 'any', path: basePath ? `${basePath}.${key}` : key };\n                    }\n                    const typeDef = TypedefRegistry.get(extraMemberDef.type);\n                    if (typeDef && 'load' in typeDef && typeof typeDef.load === 'function') {\n                        const loadedValue = typeDef.load(data[key], extraMemberDef, defs);\n                        if (loadedValue !== undefined) {\n                            result[key] = loadedValue;\n                        }\n                    }\n                    else {\n                        result[key] = data[key];\n                    }\n                }\n            }\n        }\n        else {\n            // Check for unexpected properties in closed schemas\n            for (const key in data) {\n                if (!processedNames.has(key)) {\n                    throw new ValidationError(ErrorCodes.unknownMember, `The ${schema.name ? `${schema.name} ` : ''}schema does not define a member named '${key}'.`);\n                }\n            }\n        }\n        return result;\n    }\n    /**\n     * Internal helper to stringify an object according to schema\n     */\n    _stringifyObject(data, schema, basePath, defs) {\n        const parts = [];\n        if (schema) {\n            // Stringify in schema order\n            for (const name of schema.names) {\n                const memberDef = this._resolveMemberDefVariables(schema.defs[name], defs);\n                memberDef.path = basePath ? `${basePath}.${name}` : name;\n                const value = data[name];\n                const typeDef = TypedefRegistry.get(memberDef.type);\n                if (typeDef && 'stringify' in typeDef && typeof typeDef.stringify === 'function') {\n                    // Use auto format (default) - it safely handles all cases\n                    // stringify returns undefined to signal \"skip this field\" (missing optional)\n                    const strValue = typeDef.stringify(value, memberDef, defs);\n                    parts.push(strValue ?? ''); // Empty placeholder for positional format\n                }\n                else {\n                    // Fallback\n                    if (value === null) {\n                        parts.push('N');\n                    }\n                    else if (value === undefined) {\n                        parts.push(''); // Empty placeholder for positional format\n                    }\n                    else {\n                        parts.push(JSON.stringify(value));\n                    }\n                }\n            }\n            // Trim trailing empty values (missing optional fields at the end)\n            while (parts.length > 0 && parts[parts.length - 1] === '') {\n                parts.pop();\n            }\n            // Handle additional properties for open schemas\n            if (schema.open) {\n                const schemaNames = new Set(schema.names);\n                for (const key in data) {\n                    if (!schemaNames.has(key)) {\n                        const value = data[key];\n                        const extraPath = basePath ? `${basePath}.${key}` : key;\n                        // Skip undefined values for extra properties\n                        if (value === undefined)\n                            continue;\n                        let strValue;\n                        if (value === null) {\n                            strValue = 'N';\n                        }\n                        else if (typeof value === 'string') {\n                            const stringDef = TypedefRegistry.get('string');\n                            if (stringDef && 'stringify' in stringDef && typeof stringDef.stringify === 'function') {\n                                strValue = stringDef.stringify(value, { type: 'string', path: extraPath, format: 'auto' }, defs) ?? value;\n                            }\n                            else {\n                                strValue = JSON.stringify(value);\n                            }\n                        }\n                        else {\n                            strValue = JSON.stringify(value);\n                        }\n                        parts.push(`${key}: ${strValue}`);\n                    }\n                }\n            }\n        }\n        else {\n            // No schema - output all properties\n            for (const key in data) {\n                const value = data[key];\n                // Skip undefined values\n                if (value === undefined)\n                    continue;\n                let strValue;\n                if (value === null) {\n                    strValue = 'N';\n                }\n                else if (typeof value === 'string') {\n                    strValue = value;\n                }\n                else if (typeof value === 'boolean') {\n                    strValue = value ? 'T' : 'F';\n                }\n                else {\n                    strValue = JSON.stringify(value);\n                }\n                parts.push(`${key}: ${strValue}`);\n            }\n        }\n        return `{${parts.join(', ')}}`;\n    }\n    /**\n     * Resolves a schema reference - handles both Schema instances and variable references\n     */\n    _resolveSchema(schema, defs) {\n        if (!schema)\n            return undefined;\n        // Already a Schema instance\n        if (schema instanceof Schema)\n            return schema;\n        // TokenNode with variable reference (e.g., $employee)\n        if (schema instanceof TokenNode) {\n            if (typeof schema.value === 'string' && schema.value.startsWith('$') && defs) {\n                const resolved = defs.getV(schema.value);\n                if (resolved instanceof Schema)\n                    return resolved;\n                // Recursively resolve if it's another reference\n                return this._resolveSchema(resolved, defs);\n            }\n            return undefined;\n        }\n        // String variable reference\n        if (typeof schema === 'string' && schema.startsWith('$') && defs) {\n            const resolved = defs.getV(schema);\n            if (resolved instanceof Schema)\n                return resolved;\n            return this._resolveSchema(resolved, defs);\n        }\n        return undefined;\n    }\n    /**\n     * Resolves variable references in memberDef fields\n     */\n    _resolveMemberDefVariables(memberDef, defs) {\n        if (!memberDef || !defs)\n            return { ...memberDef };\n        const resolved = { ...memberDef };\n        // Resolve default value if it's a variable reference\n        if (typeof resolved.default === 'string' && resolved.default.startsWith('@')) {\n            resolved.default = defs.getV(resolved.default);\n            if (resolved.default instanceof TokenNode) {\n                resolved.default = resolved.default.value;\n            }\n        }\n        // Resolve choices if they contain variable references\n        if (Array.isArray(resolved.choices)) {\n            resolved.choices = resolved.choices.map(choice => {\n                if (typeof choice === 'string' && choice.startsWith('@')) {\n                    let resolved = defs.getV(choice);\n                    return resolved instanceof TokenNode ? resolved.value : resolved;\n                }\n                return choice;\n            });\n        }\n        // Resolve min/max if they're variable references\n        if (typeof resolved.min === 'string' && resolved.min.startsWith('@')) {\n            resolved.min = defs.getV(resolved.min);\n            if (resolved.min instanceof TokenNode) {\n                resolved.min = resolved.min.value;\n            }\n        }\n        if (typeof resolved.max === 'string' && resolved.max.startsWith('@')) {\n            resolved.max = defs.getV(resolved.max);\n            if (resolved.max instanceof TokenNode) {\n                resolved.max = resolved.max.value;\n            }\n        }\n        return resolved;\n    }\n}\nexport default ObjectDef;\n","const reStructuralChars = /(?<structural>[\\{\\}\\[\\]\\:\\#\\\"\\'\\\\\\\\~])/;\nconst reRequiresQuoting = /[\\,]/; // Characters that require quoting, not escaping\nconst escapeChars = /(?<escape>[\\n\\r\\t])/;\nconst reNewLine = /(?<newlines>(\\r\\n?)|\\n)/g;\nexport const toOpenString = (str, escapeLines) => {\n    str = str.replace(new RegExp(reStructuralChars, 'g'), '\\\\$1');\n    if (escapeLines) {\n        str = str.replace(reNewLine, '\\\\n');\n    }\n    return str;\n};\nexport const toRegularString = (str, escapeLines, encloser = '\"') => {\n    str = str.replace(new RegExp(escapeChars, 'g'), '\\\\$1');\n    if (escapeLines) {\n        str = str.replace(reNewLine, '\\\\n');\n    }\n    return `${encloser}${str.replace(new RegExp(encloser, 'g'), `\\\\${encloser}`)}${encloser}`;\n};\nexport const toRawString = (str, encloser = '\"') => {\n    return `r${encloser}${str.replace(new RegExp(encloser, 'g'), encloser + encloser)}${encloser}`;\n};\n// Regex to detect ANY string that looks like a number when parsed\n// This includes:\n// - Pure digits: \"123\", \"0001\", \"5001\"\n// - Negative numbers: \"-123\"\n// - Decimals: \"3.14\", \".5\", \"123.\"\n// - Scientific notation: \"1e10\", \"1E-5\"\n// - Special numeric values that IO parser recognizes\n// All of these MUST be quoted to preserve string type\nconst reNumericLooking = /^-?\\.?\\d/; // Starts with optional minus, optional dot, then digit\n// More precise check for values that would parse as numbers\nfunction looksLikeNumber(str) {\n    // Empty string is not a number\n    if (str.length === 0)\n        return false;\n    // Check if it starts like a number (digit, or -/+ followed by digit, or . followed by digit)\n    const first = str[0];\n    if (first === '-' || first === '+') {\n        if (str.length === 1)\n            return false;\n        const second = str[1];\n        return second >= '0' && second <= '9' || second === '.';\n    }\n    if (first === '.') {\n        if (str.length === 1)\n            return false;\n        const second = str[1];\n        return second >= '0' && second <= '9';\n    }\n    // If it starts with a digit, it looks like a number\n    return first >= '0' && first <= '9';\n}\n// Regex for Date/Time/DateTime\nconst reDate = /^\\d{4}-\\d{2}-\\d{2}$/;\nconst reTime = /^\\d{2}:\\d{2}(?::\\d{2}(?:\\.\\d+)?)?$/;\nconst reDateTime = /^\\d{4}-\\d{2}-\\d{2}[T ]\\d{2}:\\d{2}(?::\\d{2}(?:\\.\\d+)?)?(?:Z|[+-]\\d{2}:?\\d{2})?$/;\nconst ambiguousValues = new Set([\n    'null', 'N',\n    'true', 'T',\n    'false', 'F',\n    'Inf', '+Inf', '-Inf', 'NaN',\n    'undefined'\n]);\nfunction isAmbiguous(str) {\n    if (str === null || str === undefined)\n        return true;\n    if (str.length === 0)\n        return true;\n    if (ambiguousValues.has(str))\n        return true;\n    // Any string that looks like a number must be quoted\n    if (looksLikeNumber(str))\n        return true;\n    if (reDate.test(str))\n        return true;\n    if (reTime.test(str))\n        return true;\n    if (reDateTime.test(str))\n        return true;\n    return false;\n}\nexport const toAutoString = (str, escapeLines, encloser = '\"') => {\n    // Handle null/undefined\n    if (str === null || str === undefined) {\n        return '\"\"'; // Empty string representation\n    }\n    // If it looks like a number, bool, null, or date, quote it to preserve type\n    if (isAmbiguous(str)) {\n        return toRegularString(str, escapeLines, encloser);\n    }\n    // If the string contains comma, it MUST be quoted (not escaped) to avoid parsing issues\n    if (reRequiresQuoting.test(str)) {\n        return toRegularString(str, escapeLines, encloser);\n    }\n    // If the string contains any of the structural characters, then return as open string\n    if (reStructuralChars.test(str)) {\n        return toOpenString(str, escapeLines);\n    }\n    // If the string contains any of the escape characters, then retrun as raw string\n    if (escapeChars.test(str)) {\n        return toRawString(str, encloser);\n    }\n    // Otherwise, return as open string (it was regular string before)\n    return toOpenString(str, escapeLines);\n};\n","import ValidationError from '../../errors/io-validation-error';\nimport ErrorCodes from '../../errors/io-error-codes';\nimport TokenNode from '../../parser/nodes/tokens';\nimport TokenType from '../../parser/tokenizer/token-types';\nimport Schema from '../../schema/schema';\nimport * as strings from '../../utils/strings';\nimport doCommonTypeCheck from './common-type';\nconst STRING_TYPES = ['string', 'url', 'email'];\n// Reference: RFC 5322 Official Standard\n// http://emailregex.com\nconst emailExp = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n// http://urlregex.com\nconst urlExp = /((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[\\-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9\\.\\-]+|(?:www\\.|[\\-;:&=\\+\\$,\\w]+@)[A-Za-z0-9\\.\\-]+)((?:\\/[\\+~%\\/\\.\\w\\-_]*)?\\??(?:[\\-\\+=&;%@\\.\\w_]*)#?(?:[\\.\\!\\/\\\\\\w]*))?)/;\nconst schema = new Schema(\"string\", { type: { type: \"string\", optional: false, null: false, choices: STRING_TYPES } }, { default: { type: \"string\", optional: true, null: false } }, { choices: { type: \"array\", optional: true, null: false, of: { type: \"string\" } } }, { pattern: { type: \"string\", optional: true, null: false } }, { flags: { type: \"string\", optional: true, null: false } }, { len: { type: \"number\", optional: true, null: false, min: 0 } }, { minLen: { type: \"number\", optional: true, null: false, min: 0 } }, { maxLen: { type: \"number\", optional: true, null: false, min: 0 } }, { format: { type: \"string\", optional: true, null: false, choices: [\"auto\", \"regular\", \"raw\"], default: \"auto\" } }, { escapeLines: { type: \"bool\", optional: true, null: false, default: false } }, { encloser: { type: \"string\", optional: true, null: false, choices: ['\"', \"'\"], default: '\"' } }, { optional: { type: \"bool\", optional: true } }, { null: { type: \"bool\", optional: true } });\n/**\n * Represents the StringTypeDef which is reponsible for parsing,\n * validating, loading and serializing strings.\n *\n * It performs the following validation\n * - Value is string\n* - Value is optional\n* - Value is null\n* - Value is in choices\n * - Value length <= maxLength\n * - Value length >= minLen\n */\nexport default class StringDef {\n    constructor(type = 'string') {\n        this._type = type;\n    }\n    get type() { return this._type; }\n    static get types() { return STRING_TYPES; }\n    get schema() { return schema; }\n    /**\n     * Parses the string in IO format into JavaScript strings.\n     */\n    parse(valueNode, memberDef, defs) {\n        return _process(valueNode, memberDef, defs);\n    }\n    /** Load: JS Value  Validated JS Value */\n    load(value, memberDef, defs) {\n        const { value: checkedValue, changed } = doCommonTypeCheck(memberDef, value, undefined, defs);\n        if (changed)\n            return checkedValue;\n        // Type check\n        if (typeof value !== 'string') {\n            throw new ValidationError(ErrorCodes.notAString, `Expecting a string value for '${memberDef.path}' but found ${JSON.stringify(value)}.`);\n        }\n        // Shared validations\n        _validatePattern(memberDef, value);\n        // Len checks\n        const len = memberDef.len;\n        if (len !== undefined && typeof len === 'number' && value.length !== len) {\n            throw new ValidationError(ErrorCodes.invalidLength, `Invalid length for ${memberDef.path}.`);\n        }\n        const maxLen = memberDef.maxLen;\n        if (maxLen !== undefined && typeof maxLen === 'number' && value.length > maxLen) {\n            throw new ValidationError(ErrorCodes.invalidMaxLength, `Invalid maxLength for ${memberDef.path}.`);\n        }\n        const minLen = memberDef.minLen;\n        if (minLen !== undefined && typeof minLen === 'number' && value.length < minLen) {\n            throw new ValidationError(ErrorCodes.invalidMinLength, `Invalid minLength for ${memberDef.path}.`);\n        }\n        return value;\n    }\n    stringify(value, memberDef) {\n        // Validate before formatting to ensure consistency\n        this.load(value, memberDef);\n        const format = memberDef.format || 'auto';\n        switch (format) {\n            case 'auto':\n                // Smart output: tries unquoted first, quotes when needed (ambiguous values,\n                // commas), uses raw for strings with many escape chars. Never breaks round-trip.\n                return strings.toAutoString(value, memberDef.escapeLines, memberDef.encloser);\n            case 'regular':\n                // Always quoted: \"value\"\n                return strings.toRegularString(value, memberDef.escapeLines, memberDef.encloser);\n            case 'raw':\n                // Always raw: r\"value\"\n                return strings.toRawString(value, memberDef.encloser);\n            default:\n                // Fallback to auto for any unknown format\n                return strings.toAutoString(value, memberDef.escapeLines, memberDef.encloser);\n        }\n    }\n}\nfunction _process(node, memberDef, defs) {\n    const valueNode = defs?.getV(node) || node;\n    const { value, changed } = doCommonTypeCheck(memberDef, valueNode, node, defs);\n    if (changed)\n        return value;\n    if (valueNode instanceof TokenNode === false || valueNode.type !== TokenType.STRING) {\n        throw new ValidationError(ErrorCodes.notAString, `Expecting a string value for '${memberDef.path}' but found ${valueNode.toValue()}.`, node);\n    }\n    _validatePattern(memberDef, value, node);\n    // Len check\n    const len = memberDef.len;\n    if (len !== undefined && typeof len === 'number') {\n        if (value.length !== len) {\n            throw new ValidationError(ErrorCodes.invalidLength, `Invalid length for ${memberDef.path}.`, valueNode);\n        }\n    }\n    // Max length check\n    const maxLen = memberDef.maxLen;\n    if (maxLen !== undefined && typeof maxLen === 'number') {\n        if (value.length > maxLen) {\n            throw new ValidationError(ErrorCodes.invalidMaxLength, `Invalid maxLength for ${memberDef.path}.`, valueNode);\n        }\n    }\n    // Max length check\n    const minLen = memberDef.minLen;\n    if (minLen !== undefined && typeof minLen === 'number') {\n        if (value.length < minLen) {\n            throw new ValidationError(ErrorCodes.invalidMinLength, `Invalid minLen for ${memberDef.path}.`, valueNode);\n        }\n    }\n    return value;\n}\nfunction _validatePattern(memberDef, value, node) {\n    const type = memberDef.type;\n    // Validate user defined pattern\n    if (type === 'string' && memberDef.pattern !== undefined) {\n        let re = memberDef.re;\n        if (!re) {\n            let pattern = memberDef.pattern;\n            let flags = memberDef.flags;\n            // Compile the expression and cache it into the memberDef\n            try {\n                if (flags) {\n                    re = memberDef.re = new RegExp(pattern, flags);\n                }\n                else {\n                    re = memberDef.re = new RegExp(pattern);\n                }\n                memberDef.re = re; // Cache the compiled expression\n            }\n            catch {\n                throw new ValidationError(ErrorCodes.invalidPattern, value, node);\n            }\n        }\n        if (!re.test(value)) {\n            throw new ValidationError(ErrorCodes.invalidPattern, `The value '${value}' does not match the pattern '${memberDef.pattern}'.`, node);\n        }\n    }\n    // Validate email\n    else if (type === 'email') {\n        if (!emailExp.test(value)) {\n            throw new ValidationError(ErrorCodes.invalidEmail, `Invalid email address: ${value}`, node);\n        }\n    }\n    // Validate url\n    else if (type === 'url') {\n        if (!urlExp.test(value)) {\n            throw new ValidationError(ErrorCodes.invalidUrl, `Invalid URL: ${value}`, node);\n        }\n    }\n}\n","import TypedefRegistry from '../../schema/typedef-registry';\nimport AnyDef from './any';\nimport ArrayDef from './array';\nimport BooleanDef from './boolean';\nimport DateTimeDef from './datetime';\nimport NumberDef from './number';\nimport ObjectDef from './object';\nimport StringDef from './string';\nlet registered = false;\nexport default function registerTypes() {\n    if (registered)\n        return;\n    TypedefRegistry.register(AnyDef, ArrayDef, BooleanDef, NumberDef, ObjectDef, StringDef, DateTimeDef);\n    registered = true;\n}\n","import SyntaxError from '../../errors/io-syntax-error';\nimport ErrorCodes from '../../errors/io-error-codes';\nexport function createMemberDef(input, opts) {\n    const allowNameless = opts?.allowNameless === true;\n    if (!input || typeof input !== 'object') {\n        throw new SyntaxError(ErrorCodes.invalidMemberDef, 'Invalid member definition input provided.');\n    }\n    const { name, type } = input;\n    if (!type || typeof type !== 'string') {\n        throw new SyntaxError(ErrorCodes.invalidType, 'MemberDef.type must be a non-empty string.');\n    }\n    if (!allowNameless && (!name || typeof name !== 'string' || name.trim() === '')) {\n        throw new SyntaxError(ErrorCodes.invalidMemberDef, 'MemberDef must have a valid name.');\n    }\n    // Basic shape checks for common compound types\n    if (type === 'array') {\n        if (!('of' in input) || typeof input.of !== 'object' || !input.of) {\n            throw new SyntaxError(ErrorCodes.invalidDefinition, \"Array MemberDef must include an 'of' definition.\");\n        }\n    }\n    // Normalize boolean-like flags when provided\n    const out = { ...input };\n    if ('optional' in out && out.optional !== undefined) {\n        out.optional = Boolean(out.optional);\n    }\n    if ('null' in out && out.null !== undefined) {\n        out.null = Boolean(out.null);\n    }\n    return out;\n}\nexport default createMemberDef;\n","import TokenNode from '../../parser/nodes/tokens';\nimport ObjectNode from '../../parser/nodes/objects';\nimport ArrayNode from '../../parser/nodes/array';\nimport TypedefRegistry from '../typedef-registry';\n/**\n * Converts additional property schema node to canonical MemberDef.\n * Supports: string, object, array, MemberDef with constraints, open forms.\n */\nexport function canonicalizeAdditionalProps(node, path = '*') {\n    // Switch on node type\n    if (node instanceof TokenNode) {\n        if (typeof node.value === 'string') {\n            // Built-in types (string, int, bool, etc.)\n            if (TypedefRegistry.isRegisteredType(node.value)) {\n                return { type: node.value, path };\n            }\n            // Open form: *\n            if (node.value === '*') {\n                return { type: 'any', path };\n            }\n        }\n        return { type: 'any', path };\n    }\n    if (node instanceof ObjectNode) {\n        // Open object form: {}\n        if (node.children.length === 0) {\n            return { type: 'object', path, open: true };\n        }\n        // Check if first child is a MemberNode with no key and value is TokenNode (type)\n        const firstChild = node.children[0];\n        if (firstChild && !firstChild.key && firstChild.value instanceof TokenNode) {\n            const typeToken = firstChild.value;\n            if (typeof typeToken.value === 'string' && TypedefRegistry.isRegisteredType(typeToken.value)) {\n                // Collect constraints from other children (MemberNode with key)\n                const memberDef = { type: typeToken.value, path };\n                for (let i = 1; i < node.children.length; i++) {\n                    const child = node.children[i];\n                    if (child && child.key && child.value instanceof TokenNode) {\n                        memberDef[child.key.value] = child.value.value;\n                    }\n                }\n                return memberDef;\n            }\n        }\n        // MemberDef with constraints (fallback)\n        return { type: 'object', path };\n    }\n    if (node instanceof ArrayNode) {\n        // Open array form: []\n        if (node.children.length === 0) {\n            return { type: 'array', path, of: { type: 'any' } };\n        }\n        // Array of type: [string]\n        const child = node.children[0];\n        if (child instanceof TokenNode && typeof child.value === 'string') {\n            return { type: 'array', path, of: { type: child.value } };\n        }\n        return { type: 'array', path };\n    }\n    // Already a MemberDef or unknown node\n    if (typeof node === 'object' && node.type) {\n        return { ...node, path };\n    }\n    return { type: 'any', path };\n}\n","import TokenNode from '../../parser/nodes/tokens';\nimport TokenType from '../../parser/tokenizer/token-types';\nimport Token from '../../parser/tokenizer/tokens';\nimport SyntaxError from '../../errors/io-syntax-error';\nimport ErrorCodes from '../../errors/io-error-codes';\nimport assertNever from '../../errors/asserts/asserts';\n// Normalize a key token: accept Token or TokenNode(STRING) and return a TokenNode(STRING)\nexport function normalizeKeyToken(keyNode) {\n    if (!keyNode) {\n        assertNever('Key node must not be null in schema definition.');\n    }\n    if (keyNode instanceof TokenNode) {\n        if (keyNode.type === TokenType.STRING)\n            return keyNode;\n    }\n    else if (keyNode instanceof Token) {\n        if (keyNode.type === TokenType.STRING)\n            return new TokenNode(keyNode);\n    }\n    throw new SyntaxError(ErrorCodes.invalidKey, 'The key must be a string.', keyNode);\n}\n","import assertNever from '../errors/asserts/asserts';\nimport SyntaxError from '../errors/io-syntax-error';\nimport ErrorCodes from '../errors/io-error-codes';\nimport ArrayNode from '../parser/nodes/array';\nimport MemberNode from '../parser/nodes/members';\nimport ObjectNode from '../parser/nodes/objects';\nimport TokenNode from '../parser/nodes/tokens';\nimport TokenType from '../parser/tokenizer/token-types';\nimport TypedefRegistry from './typedef-registry';\nimport processSchema from './processor';\nimport Schema from './schema';\nimport Token from '../parser/tokenizer/tokens';\nimport registerTypes from './types';\nimport createMemberDef from './types/memberdef-factory';\nimport { canonicalizeAdditionalProps } from './utils/additional-props-canonicalizer';\nimport { normalizeKeyToken } from './utils/member-utils';\n// Register built-in types\nregisterTypes();\nexport default function compileObject(name, node, defs) {\n    // Check if the node is a string token and starts with $. If yes, then\n    // it is a schema variable. In this case, just return the node as it is\n    // to be processed later.\n    if (node instanceof TokenNode &&\n        node.type === TokenType.STRING &&\n        node.value.startsWith('$')) {\n        return node;\n    }\n    if (node instanceof ObjectNode === false) {\n        throw new SyntaxError(ErrorCodes.invalidSchema, \"Schema must be an object.\", node);\n    }\n    const schema = new Schema(name);\n    parseObjectDef(node, schema, \"\", defs);\n    return schema;\n}\nfunction parseObjectOrTypeDef(o, path, defs) {\n    // When the object node is empty object, then the type definition is\n    // object without schema definition. Such objects can accept any object\n    // as value.\n    // For example:\n    // address: {},\n    if (o.children.length === 0) {\n        const schema = new Schema(path);\n        schema.open = true;\n        return {\n            type: 'object',\n            path,\n            schema\n        };\n    }\n    // When the object node is type definition. The type deinition has first\n    // member as the type name\n    // For example:\n    // age: { number, min: 10, max: 20 }\n    const firstNode = o.children[0];\n    if (!firstNode.key) {\n        if (firstNode.value instanceof TokenNode) {\n            const token = firstNode.value;\n            if (token.type === TokenType.STRING) {\n                // Built-in type shorthand: { string, min: ..., max: ... }\n                if (TypedefRegistry.isRegisteredType(token.value)) {\n                    return parseMemberDef(token.value, o, defs);\n                }\n                // Schema variable shorthand: { $Person, ... }\n                if (typeof token.value === 'string' && token.value.startsWith('$')) {\n                    return { type: 'object', schema: token, path };\n                }\n            }\n        }\n    }\n    // When the object node is a member type definition defined using the\n    // object definition syntax. It must hae a type property.\n    // For example:\n    // name: { min: 10, max: 20, type: string }\n    let type = '';\n    let typeNode = null;\n    for (let i = 0; i < o.children.length; i++) {\n        const child = o.children[i];\n        if (child instanceof MemberNode && child.key && child.key.value === 'type') {\n            if (child.value instanceof TokenNode && child.value.type === TokenType.STRING) {\n                type = child.value.value;\n                typeNode = child.value;\n                break;\n            }\n        }\n    }\n    // If type exists, and a valid type, then parse the member definition\n    // name: { minLength: 10, maxLength: 20, type: string }\n    if (type !== '') {\n        // Support type: $SchemaVar\n        if (typeof type === 'string' && type.startsWith('$')) {\n            return { type: 'object', schema: typeNode, path };\n        }\n        if (TypedefRegistry.isRegisteredType(type)) {\n            return parseMemberDef(type, o, defs);\n        }\n        // If the type is not registered, then it is an invalid type\n        // name: { minLength: 10, maxLength: 20, type: xyz }\n        throw new SyntaxError(ErrorCodes.invalidType, `The specified value '${type}' is not a valid type.`, typeNode);\n    }\n    // If the type is not defined, then consider it an object type with\n    // custom schema.\n    return {\n        type: 'object',\n        schema: parseObjectDef(o, new Schema(path), path, defs),\n        path,\n    };\n}\n// field: {array, of:string, minLen:2}         # Array of strings with minimum length of 2\n// field: {array, of:string}                   # Array of strings\n// field: {of:string, type:array, minLen:2}    # Array of strings with minimum length of 2\n// field: {array, of:{ name: string, age: number }} # Array of objects\n// field: {array, of:[string]}                 # Array of arrays of strings\n// field: {array, of:{array, of:{}, minLen: 2 }} # Array of arrays of any type of objects with minimum length of 2\n//\n// Array Objects\n// field: { [], choices:[[a, b, c], [d, e, f]] }\n// Array MemberDefs\n// field: []                                   # Array of any type\n// field: [string]                             # Array of strings\n// field: [ [string] ]                         # Array of arrays of strings\n// field: [ { name: string, age: number } ]    # Array of objects\n// field: [ [ { name: string, age: number } ] ]# Array of arrays of objects\n// field: [ {type:string, len:6, pattern:r'[a-z0-9]+'} ]   # Array of strings with length of 6 and alphanumeric values\nfunction parseArrayOrTypeDef(a, path, defs) {\n    // The length of the array child must be <= 1. If the length is > 1, then\n    // it is an invalid schema.\n    if (a.children.length > 1) {\n        throw new SyntaxError(ErrorCodes.invalidSchema, \"The array definition must have only one child.\", a.children[1]);\n    }\n    // When the array node is empty array, then the type definition is\n    // array without schema definition. Such arrays can accept any type items\n    // in the array.\n    // For example:\n    // tags: []\n    if (a.children.length === 0) {\n        return createMemberDef({\n            type: 'array',\n            of: {\n                type: 'any',\n                path,\n                null: true,\n            },\n            path,\n        }, { allowNameless: true });\n    }\n    // When the array node has one child, then it is a type definition.\n    // For example:\n    // tags: [string], friends: [ { name: string, age: number } ]\n    //\n    const child = a.children[0];\n    if (child instanceof TokenNode) {\n        if (child.type === TokenType.STRING) {\n            const type = child.value;\n            // [string], [number], [boolean], [object], [array] etc.\n            if (TypedefRegistry.isRegisteredType(type)) {\n                return createMemberDef({\n                    type: 'array',\n                    of: {\n                        type: child.value,\n                        path,\n                    },\n                    path,\n                }, { allowNameless: true });\n            }\n            // If the type is a schema variable, then return the schema variable\n            // [$employee], [$address], [$person] etc.\n            else if (!!defs && type.startsWith('$')) {\n                return createMemberDef({\n                    type: 'array',\n                    of: {\n                        type: 'object',\n                        schema: child,\n                        path,\n                    },\n                    path,\n                }, { allowNameless: true });\n            }\n        }\n        // If the type is not registered, then it is an invalid type\n        throw new SyntaxError(ErrorCodes.invalidType, `The specified value (${child.value}) is not a valid type`, child);\n    }\n    // If the child is an object node, then it is a member type definition\n    // For example:\n    // friends: [ { name: string, age: number } ]\n    if (child instanceof ObjectNode) {\n        return createMemberDef({\n            type: 'array',\n            of: parseObjectOrTypeDef(child, path, defs),\n            path,\n        }, { allowNameless: true });\n    }\n    // If the child is an array node, then it is an array type definition\n    // For example:\n    // friends: [ [string] ] or friends: [ [ { name: string, age: number } ] ]\n    if (child instanceof ArrayNode) {\n        return createMemberDef({\n            type: 'array',\n            of: parseArrayOrTypeDef(child, path, defs),\n            path,\n        }, { allowNameless: true });\n    }\n    // Throw an error if the child is not a string or object node\n    throw new SyntaxError(ErrorCodes.invalidSchema, \"The array of type definition must be a string or object.\", child);\n}\n// function parseArrayDef(o: ObjectNode, schema:Schema, path:string, defs?:Definitions): Schema {\n// }\nfunction parseObjectDef(o, schema, path, defs) {\n    // Note: empty-object and no-names cases are handled explicitly below.\n    for (let index = 0; index < o.children.length; index++) {\n        const child = o.children[index];\n        if (child === null) {\n            assertNever(\"Child value must not be null in schema definition.\");\n        }\n        const memberNode = child;\n        if (memberNode.value instanceof TokenNode && memberNode.value.type === TokenType.UNDEFINED) {\n            throw new SyntaxError(ErrorCodes.emptyMemberDef, \"The next member definition is empty.\", memberNode.value);\n        }\n        // Handle additional properties (dynamic fields)\n        if (memberNode.key && memberNode.key.value === '*') {\n            // Use canonicalizer for additional property MemberDef\n            if (memberNode.value) {\n                const additionalDef = canonicalizeAdditionalProps(memberNode.value, '*');\n                schema.defs['*'] = additionalDef;\n                schema.open = additionalDef;\n            }\n            else {\n                schema.open = true;\n            }\n            if (index !== o.children.length - 1) {\n                throw new SyntaxError(ErrorCodes.invalidSchema, \"The * is only allowed at the last position.\", memberNode.value);\n            }\n            continue;\n        }\n        // Regular member\n        if (memberNode.key) {\n            const memberDef = getMemberDef(memberNode, path, defs);\n            addMemberDef(memberDef, schema, path);\n        }\n        else {\n            // If the last index and the value is *, then this is an open schema\n            const open = memberNode.value instanceof TokenNode && memberNode.value.type === TokenType.STRING && memberNode.value.value === '*';\n            if (open) {\n                if (index !== o.children.length - 1) {\n                    throw new SyntaxError(ErrorCodes.invalidSchema, \"The * is only allowed at the last position.\", memberNode.value);\n                }\n                schema.open = true;\n                continue;\n            }\n            // Normalize key token for keyless path to ensure Token | TokenNode(STRING)\n            const keyToken = normalizeKeyToken(memberNode.value);\n            const fieldInfo = parseName(keyToken);\n            // Always infer type as 'any' if not explicitly provided\n            const memberDef = createMemberDef({\n                ...fieldInfo,\n                type: 'any'\n            });\n            addMemberDef(memberDef, schema, path);\n        }\n    }\n    if (schema.names.length === 0) {\n        schema.open = true;\n    }\n    return schema;\n}\n/**\n * Dereferences variable references in an ObjectNode's members before schema validation.\n * This ensures that variables like @defaultQty are resolved to their actual values (1)\n * before type-specific validators (NumberDef, BooleanDef, etc.) process them.\n *\n * Two-stage dereferencing architecture:\n * 1. Schema compilation runtime: Resolves variables during MemberDef validation (here)\n * 2. Data processing runtime: Resolves variables via _resolveMemberDefVariables in processObject\n *\n * Modifies the ObjectNode in place for efficiency during schema compilation.\n */\nfunction dereferenceObjectNodeVariables(o, defs) {\n    if (!defs)\n        return;\n    // Dereference variables in each member's value\n    for (const child of o.children) {\n        if (!(child instanceof MemberNode))\n            continue;\n        const value = child.value;\n        // Dereference variable in TokenNode values (e.g., default: @defaultQty)\n        if (value instanceof TokenNode &&\n            typeof value.value === 'string' &&\n            value.value.startsWith('@')) {\n            const resolved = defs.getV(value.value);\n            // getV returns the TokenNode stored for the variable (e.g., TokenNode with type NUMBER and value 1)\n            // Replace the variable reference TokenNode with the resolved value TokenNode\n            if (resolved instanceof TokenNode) {\n                child.value = resolved;\n            }\n            else {\n                // Fallback: if getV returned a raw value (shouldn't happen but be defensive)\n                value.value = resolved;\n                // Update the token type based on the resolved value\n                if (typeof resolved === 'number') {\n                    value.type = TokenType.NUMBER;\n                }\n                else if (typeof resolved === 'boolean') {\n                    value.type = TokenType.BOOLEAN;\n                }\n            }\n        }\n    }\n}\nfunction parseMemberDef(type, o, defs) {\n    // Dereference variables in the ObjectNode before validation\n    dereferenceObjectNodeVariables(o, defs);\n    const typeDef = TypedefRegistry.get(type);\n    // Pass defs to processSchema so it can resolve variables during validation\n    const memberDef = processSchema(o, typeDef.schema, defs);\n    return memberDef;\n}\nfunction addMemberDef(memberDef, schema, path) {\n    // Duplicate member detection (compile-time)\n    if (schema.defs[memberDef.name]) {\n        throw new SyntaxError(ErrorCodes.duplicateMember, `Member ${memberDef.name} is already defined in schema ${schema.name}.`, schema.defs[memberDef.name]);\n    }\n    memberDef.path = _(path, memberDef.name);\n    schema.names.push(memberDef.name);\n    schema.defs[memberDef.name] = memberDef;\n}\nconst parseName = (keyNode) => {\n    if (!keyNode) {\n        assertNever(\"Key node must not be null in schema definition.\");\n    }\n    if (!(keyNode instanceof Token)) {\n        throw new SyntaxError(ErrorCodes.invalidKey, \"The key must be a string.\", keyNode);\n    }\n    const key = keyNode.value;\n    const optionalExp = /\\?$/;\n    const nullExp = /\\*$/;\n    const optNullExp = /(\\?\\*)|(\\*\\?)$/;\n    if (keyNode.type !== TokenType.STRING) {\n        throw new SyntaxError(ErrorCodes.invalidKey, \"The key must be a string.\", keyNode);\n    }\n    // Optional and null\n    if (key.match(optNullExp)) {\n        return {\n            name: key.substring(0, key.length - 2),\n            optional: true,\n            null: true\n        };\n    }\n    // null\n    if (key.match(nullExp)) {\n        return {\n            name: key.substring(0, key.length - 1),\n            optional: false,\n            null: true\n        };\n    }\n    // Optional\n    if (key.match(optionalExp) !== null) {\n        return {\n            name: key.substring(0, key.length - 1),\n            optional: true,\n            null: false\n        };\n    }\n    return { name: key, optional: false, null: false };\n};\n// moved to utils/member-utils.ts\nexport function getMemberDef(memberDef, path, defs) {\n    const node = memberDef.value;\n    let fieldInfo = { name: \"\" };\n    if (memberDef.key) {\n        fieldInfo = parseName(normalizeKeyToken(memberDef.key));\n    }\n    // If the value token is a string, then ensure that it is a valid type\n    // For example:\n    // name: string, age: number\n    if (node instanceof TokenNode && node.type === TokenType.STRING) {\n        const type = node.value;\n        // If the type string starts with $, then it is a schema variable\n        if (type.startsWith('$')) {\n            return {\n                ...fieldInfo,\n                type: \"object\",\n                schema: node,\n            };\n        }\n        if (TypedefRegistry.isRegisteredType(type) === false) {\n            throw new SyntaxError(ErrorCodes.invalidType, `The type '${type}' is not supported.`, node);\n        }\n        return {\n            ...fieldInfo,\n            type,\n        };\n    }\n    // If the value token is an object, then parse the object definition\n    if (node instanceof ObjectNode) {\n        const objectDef = parseObjectOrTypeDef(node, _(path, fieldInfo.name), defs);\n        return {\n            ...fieldInfo,\n            ...objectDef,\n        };\n    }\n    // If the value token is an array, then parse the array definition\n    if (node instanceof ArrayNode) {\n        const arrayDef = parseArrayOrTypeDef(node, _(path, fieldInfo.name), defs);\n        return {\n            ...fieldInfo,\n            ...arrayDef,\n        };\n    }\n    throw new SyntaxError(ErrorCodes.invalidType, `Found '${node.toValue()}' but expecting a data type definition.`, node);\n}\n// concacts the path and key\nfunction _(path, key) {\n    if (path === \"\") {\n        return key;\n    }\n    return `${path}.${key}`;\n}\n","/**\n * Utility functions for creating proper error ranges across tokenizer, parser, and validator.\n *\n * Industry-standard approach (TypeScript, Roslyn, rust-analyzer):\n * 1. Single-token errors: Highlight the specific problematic token\n * 2. Construct errors: Span entire construct (from opening to expected closing)\n * 3. Validation errors: Highlight the exact value that failed validation\n * 4. Unclosed/unterminated: From start to end of input or boundary\n */\n/**\n * Creates a PositionRange from a single token.\n * Use for: Invalid characters, unexpected tokens, type mismatches.\n *\n * @param token - The token to create range from\n * @returns PositionRange spanning the token\n */\nexport function singleTokenRange(token) {\n    return {\n        getStartPos: () => token.getStartPos(),\n        getEndPos: () => token.getEndPos()\n    };\n}\n/**\n * Creates a PositionRange spanning multiple tokens.\n * Use for: Multi-token expressions, schema definitions.\n *\n * @param startToken - First token of the range\n * @param endToken - Last token of the range\n * @returns PositionRange spanning from start to end\n */\nexport function tokenSpanRange(startToken, endToken) {\n    return {\n        getStartPos: () => startToken.getStartPos(),\n        getEndPos: () => endToken.getEndPos()\n    };\n}\n/**\n * Creates a PositionRange for unclosed constructs (strings, arrays, objects).\n * Industry standard: Span from opening delimiter to where closing should be.\n *\n * @param startToken - Opening delimiter token (\", [, {, etc.)\n * @param currentPos - Current position when error detected\n * @returns PositionRange spanning the unclosed construct\n */\nexport function unclosedConstructRange(startToken, currentPos) {\n    return {\n        getStartPos: () => startToken.getStartPos(),\n        getEndPos: () => currentPos\n    };\n}\n/**\n * Creates a PositionRange for construct with explicit start and end positions.\n * Use for: Validation errors on specific values, type mismatches.\n *\n * @param startPos - Start position\n * @param endPos - End position\n * @returns PositionRange spanning the positions\n */\nexport function positionSpanRange(startPos, endPos) {\n    return {\n        getStartPos: () => startPos,\n        getEndPos: () => endPos\n    };\n}\n/**\n * Sets the position range on an error object.\n * Automatically updates the error message to include position.\n *\n * @param error - The error to set range on\n * @param range - The position range\n * @returns The error (for chaining)\n */\nexport function setErrorRange(error, range) {\n    error.positionRange = range;\n    return error;\n}\n/**\n * Creates a PositionRange from a start token to end of available content.\n * Use for: Unterminated strings, unclosed brackets at EOF.\n *\n * @param startToken - Opening token\n * @param lastPos - Last valid position in the input\n * @returns PositionRange from start to last position\n */\nexport function toEndOfInputRange(startToken, lastPos) {\n    return {\n        getStartPos: () => startToken.getStartPos(),\n        getEndPos: () => lastPos\n    };\n}\n/**\n * Helper to create a Position object.\n *\n * @param pos - Absolute position\n * @param row - Line number (1-based)\n * @param col - Column number (1-based)\n * @returns Position object\n */\nexport function createPosition(pos, row, col) {\n    return { pos, row, col };\n}\n","/**\n * Enumeration representing special symbols in IO.\n */\nvar Symbols;\n(function (Symbols) {\n    Symbols[\"CURLY_OPEN\"] = \"{\";\n    Symbols[\"CURLY_CLOSE\"] = \"}\";\n    Symbols[\"BRACKET_OPEN\"] = \"[\";\n    Symbols[\"BRACKET_CLOSE\"] = \"]\";\n    Symbols[\"COLON\"] = \":\";\n    Symbols[\"COMMA\"] = \",\";\n    Symbols[\"HASH\"] = \"#\";\n    Symbols[\"DOUBLE_QUOTE\"] = \"\\\"\";\n    Symbols[\"SINGLE_QUOTE\"] = \"'\";\n    Symbols[\"BACKSLASH\"] = \"\\\\\";\n    Symbols[\"TILDE\"] = \"~\";\n    Symbols[\"PLUS\"] = \"+\";\n    Symbols[\"MINUS\"] = \"-\";\n    Symbols[\"DOLLAR\"] = \"$\";\n    Symbols[\"DOT\"] = \".\";\n})(Symbols || (Symbols = {}));\nexport default Symbols;\n","import Symbols from \"./symbols\";\nimport TokenType from \"./token-types\";\nconst reSpaces = /\\s/;\nconst reHSpaces = /[ \\t]+/;\n/**\n  * Check if the given character is a special symbol.\n  * @param {string} char - Character to check.\n  * @returns {boolean} True if the character is a special symbol, else false.\n  */\nexport const isSpecialSymbol = (char) => {\n    // const symbols = ['{', '}', '[', ']', ':', ',', '~'];\n    const symbols = [\n        Symbols.CURLY_OPEN,\n        Symbols.CURLY_CLOSE,\n        Symbols.BRACKET_OPEN,\n        Symbols.BRACKET_CLOSE,\n        Symbols.COLON,\n        Symbols.COMMA,\n        Symbols.TILDE,\n        // TODO: Ensure that the following symbols are good to be included here.\n        Symbols.DOUBLE_QUOTE,\n        Symbols.SINGLE_QUOTE,\n    ];\n    return symbols.includes(char);\n};\n/**\n  * Check if the given character is a digit.\n  * @param char The character to check.\n  * @returns {boolean} True if the character is a digit, else false.\n  */\nexport const isDigit = (char) => {\n    return /[0-9]/.test(char);\n};\n// Pre-computed lookup for specific Unicode whitespace characters\nconst WHITESPACE_LOOKUP = new Set([\n    0x1680,\n    0x2028,\n    0x2029,\n    0x202F,\n    0x205F,\n    0x3000,\n    0xFEFF // BOM/Zero width no-break space\n]);\n/**\n  * Check if the given character represents a whitespace.\n  * @param {string} char - Character to check.\n  * @param {boolean} hspacesOnly - If true, only check for horizontal spaces (space and tab).\n  * @returns {boolean} True if the character is a whitespace, else false.\n  */\nexport const isWhitespace = (char, hspacesOnly = false) => {\n    if (hspacesOnly) {\n        return char === ' ' || char === '\\t';\n    }\n    // Use codePointAt for proper Unicode handling\n    const code = char.codePointAt(0) || 0;\n    // Fast path: ASCII whitespace and control characters (U+0000 to U+0020)\n    if (code <= 0x20) {\n        return true;\n    }\n    // Fast path: Extended ASCII range (U+0021 to U+00FF) - only U+00A0 is whitespace\n    if (code <= 0xFF) {\n        return code === 0x00A0;\n    }\n    // Fast path: Anything above U+FEFF is never whitespace\n    if (code > 0xFEFF) {\n        return false;\n    }\n    // Fast path: Unicode range U+2000-U+200A (various em/en spaces)\n    if (code >= 0x2000 && code <= 0x200A) {\n        return true;\n    }\n    // Lookup table for remaining Unicode whitespace characters\n    return WHITESPACE_LOOKUP.has(code);\n};\n/**\n * Check if the given character is valid newline character. It is valid if it\n * is either a carriage return or a line feed.\n */\nexport const isValidNewline = (char) => {\n    return char === '\\r' || char === '\\n';\n};\n/**\n* Check if the given character is an alphabetic character.\n*/\nexport const isValidOpenStringChar = (char) => {\n    // Define terminators based on IO's spec.\n    // const terminators = [\"{\", \"}\", \"[\", \"]\", \":\", \",\", \"\\\"\", \"'\", \"@\", undefined];\n    const terminators = [\n        Symbols.CURLY_OPEN,\n        Symbols.CURLY_CLOSE,\n        Symbols.BRACKET_OPEN,\n        Symbols.BRACKET_CLOSE,\n        Symbols.COLON,\n        Symbols.COMMA,\n        Symbols.HASH,\n        Symbols.DOUBLE_QUOTE,\n        Symbols.SINGLE_QUOTE,\n        Symbols.TILDE,\n    ];\n    return !terminators.includes(char);\n};\n/**\n  * Determine the token type for a special symbol.\n  * @param {string} char - Special symbol character.\n  * @returns {string} Token type.\n  */\nexport const getSymbolTokenType = (char) => {\n    switch (char) {\n        case '{': return TokenType.CURLY_OPEN;\n        case '}': return TokenType.CURLY_CLOSE;\n        case '[': return TokenType.BRACKET_OPEN;\n        case ']': return TokenType.BRACKET_CLOSE;\n        case ':': return TokenType.COLON;\n        case ',': return TokenType.COMMA;\n        case '~': return TokenType.COLLECTION_START;\n        default: return TokenType.UNKNOWN;\n    }\n};\n/**\n * Check if the given character is a terminator at the character level.\n * Used during tokenization to identify structural boundaries.\n * @param {string} char - The character to check.\n * @returns {boolean} True if the character is a terminator.\n */\nexport const isCharTerminator = (char) => {\n    return char === Symbols.CURLY_OPEN ||\n        char === Symbols.CURLY_CLOSE ||\n        char === Symbols.BRACKET_OPEN ||\n        char === Symbols.BRACKET_CLOSE ||\n        char === Symbols.COLON ||\n        char === Symbols.COMMA ||\n        char === Symbols.TILDE ||\n        char === Symbols.DOUBLE_QUOTE ||\n        char === Symbols.SINGLE_QUOTE ||\n        char === Symbols.HASH; // # starts a comment\n};\n/**\n * Check if the given token type is a terminator (structural boundary character).\n * Terminators are used for error recovery, parsing boundaries, and token validation.\n * Note: String quotes (\", ') are terminators at the character level (see isCharTerminator)\n * but not at the token level since they're consumed into STRING tokens.\n * @param {string} tokenType - The token type to check.\n * @returns {boolean} True if the token type is a terminator.\n */\nexport const isTerminator = (tokenType) => {\n    return tokenType === TokenType.COLLECTION_START || // ~ - collection item boundary\n        tokenType === TokenType.SECTION_SEP || // --- - section boundary\n        tokenType === TokenType.COMMA || // , - element delimiter\n        tokenType === TokenType.COLON || // : - key-value separator\n        tokenType === TokenType.BRACKET_OPEN || // [ - array start\n        tokenType === TokenType.BRACKET_CLOSE || // ] - array end\n        tokenType === TokenType.CURLY_OPEN || // { - object start\n        tokenType === TokenType.CURLY_CLOSE; // } - object end\n};\n","var Literals;\n(function (Literals) {\n    Literals[\"NULL\"] = \"null\";\n    Literals[\"N\"] = \"N\";\n    Literals[\"TRUE\"] = \"true\";\n    Literals[\"T\"] = \"T\";\n    Literals[\"FALSE\"] = \"false\";\n    Literals[\"F\"] = \"F\";\n    Literals[\"Inf\"] = \"Inf\";\n    Literals[\"PositiveInf\"] = \"+Inf\";\n    Literals[\"NegativeInf\"] = \"-Inf\";\n    Literals[\"NaN\"] = \"NaN\";\n})(Literals || (Literals = {}));\nexport default Literals;\n","import Decimal from '../../core/decimal';\nimport assertNever from '../../errors/asserts/asserts';\nimport ErrorCodes from '../../errors/io-error-codes';\nimport SyntaxError from '../../errors/io-syntax-error';\nimport { unclosedConstructRange, createPosition } from '../../errors/error-range-utils';\nimport * as dtParser from '../../utils/datetime';\nimport * as is from './is';\nimport Literals from './literals';\nimport Symbols from './symbols';\nimport TokenType from './token-types';\nimport Token from './tokens';\n// Cached regex patterns for performance optimization\nconst REGEX_CACHE = {\n    hex4: /^[0-9a-fA-F]{4}$/,\n    hex2: /^[0-9a-fA-F]{2}$/,\n    floatDigit: /^[0-9.]+$/,\n    intDigit: /^[0-9]+$/,\n    hex: /^[0-9a-fA-F]+$/,\n    octal: /^[0-7]+$/,\n    binary: /^[01]+$/,\n    sectionSchemaName: /^(?:(?:(?<name>[\\p{L}\\p{M}\\p{N}\\-_]+)(?<sep>[ \\t]*:[ \\t]*)?)(?<schema>\\$[\\p{L}\\p{M}\\p{N}\\-_]+)?|(?<schema2>\\$[\\p{L}\\p{M}\\p{N}\\-_]+))/u,\n    annotatedStrStart: /^(?<name>[a-zA-Z]{1,4})(?<quote>['\"])/,\n    base64: /^[A-Za-z0-9+/]*={0,2}$/\n};\n// Character code constants for ultra-fast character checking\nconst CHAR_CODES = {\n    SPACE: 32,\n    TAB: 9,\n    NEWLINE: 10,\n    CARRIAGE_RETURN: 13,\n    DOUBLE_QUOTE: 34,\n    SINGLE_QUOTE: 39,\n    HASH: 35,\n    PLUS: 43,\n    MINUS: 45,\n    DOT: 46,\n    ZERO: 48,\n    NINE: 57,\n    COLON: 58,\n    COMMA: 44,\n    CURLY_OPEN: 123,\n    CURLY_CLOSE: 125,\n    BRACKET_OPEN: 91,\n    BRACKET_CLOSE: 93,\n    BACKSLASH: 92,\n    TILDE: 126,\n    A_UPPER: 65,\n    F_UPPER: 70,\n    A_LOWER: 97,\n    F_LOWER: 102,\n    X_UPPER: 88,\n    X_LOWER: 120,\n    O_UPPER: 79,\n    O_LOWER: 111,\n    B_UPPER: 66,\n    B_LOWER: 98 // 'b'\n};\n// Fast character checking functions using character codes\nconst isDigitFast = (charCode) => charCode >= CHAR_CODES.ZERO && charCode <= CHAR_CODES.NINE;\nconst isHexDigitFast = (charCode) => isDigitFast(charCode) ||\n    (charCode >= CHAR_CODES.A_UPPER && charCode <= CHAR_CODES.F_UPPER) ||\n    (charCode >= CHAR_CODES.A_LOWER && charCode <= CHAR_CODES.F_LOWER);\n// Pre-computed lookup for specific Unicode whitespace characters (matching is.ts)\nconst WHITESPACE_LOOKUP_FAST = new Set([\n    0x1680,\n    0x2028,\n    0x2029,\n    0x202F,\n    0x205F,\n    0x3000,\n    0xFEFF // BOM/Zero width no-break space\n]);\n/**\n * Fast whitespace checking that matches the specification in is.ts\n */\nconst isWhitespaceFast = (charCode) => {\n    // Fast path: ASCII whitespace and control characters (U+0000 to U+0020)\n    if (charCode <= 0x20) {\n        return true;\n    }\n    // Fast path: Extended ASCII range (U+0021 to U+00FF) - only U+00A0 is whitespace\n    if (charCode <= 0xFF) {\n        return charCode === 0x00A0;\n    }\n    // Fast path: Anything above U+FEFF is never whitespace\n    if (charCode > 0xFEFF) {\n        return false;\n    }\n    // Fast path: Unicode range U+2000-U+200A (various em/en spaces)\n    if (charCode >= 0x2000 && charCode <= 0x200A) {\n        return true;\n    }\n    // Lookup table for remaining Unicode whitespace characters\n    return WHITESPACE_LOOKUP_FAST.has(charCode);\n};\nconst regexHex4 = REGEX_CACHE.hex4;\nconst regexHex2 = REGEX_CACHE.hex2;\nconst reFloatDigit = REGEX_CACHE.floatDigit;\nconst reIntDigit = REGEX_CACHE.intDigit;\nconst reHex = REGEX_CACHE.hex;\nconst reOctal = REGEX_CACHE.octal;\nconst reBinary = REGEX_CACHE.binary;\n// https://regex101.com/r/HOVtCj/1\n// const reSectionSchemaName = /^(?<schema>\\$[\\p{L}\\p{M}\\p{N}\\-_]+)(?:[ \\t]*:[ \\t]*(?<name>[\\p{L}\\p{M}\\p{N}\\-_]+))?/u;\n// https://regex101.com/r/jaWr0V/2\n// Cached constants for performance\nconst NON_DECIMAL_PREFIXES = [\"x\", \"X\", \"o\", \"O\", \"b\", \"B\"];\nconst reSectionSchemaName = REGEX_CACHE.sectionSchemaName;\nconst nonDecimalPrefixes = NON_DECIMAL_PREFIXES;\nconst reAnotatedStrStart = REGEX_CACHE.annotatedStrStart;\n/**\n * Tokenizer for IO format.\n */\nclass Tokenizer {\n    /**\n     * Initialize the tokenizer with an input string.\n     * @param input - String to be tokenized.\n     */\n    constructor(input) {\n        this.pos = 0; // Current position within the input string\n        this.input = \"\"; // Input string to tokenize\n        this.row = 1; // Current row within the input string\n        this.col = 1; // Current column within the input string\n        this.reachedEnd = false; // True if the end of the input string has been reached, else false\n        this.inputLength = 0; // Cache input length for performance\n        this.input = input;\n        this.inputLength = input.length; // Cache length for performance\n    }\n    /**\n     * Fast character checking for special symbols using character codes\n     */\n    isSpecialSymbolFast(charCode) {\n        return charCode === CHAR_CODES.CURLY_OPEN || charCode === CHAR_CODES.CURLY_CLOSE ||\n            charCode === CHAR_CODES.BRACKET_OPEN || charCode === CHAR_CODES.BRACKET_CLOSE ||\n            charCode === CHAR_CODES.COMMA || charCode === CHAR_CODES.COLON ||\n            charCode === CHAR_CODES.TILDE;\n    }\n    /**\n     * Fast token type lookup for special symbols using character codes\n     */\n    getSymbolTokenTypeFast(charCode) {\n        switch (charCode) {\n            case CHAR_CODES.CURLY_OPEN: return TokenType.CURLY_OPEN;\n            case CHAR_CODES.CURLY_CLOSE: return TokenType.CURLY_CLOSE;\n            case CHAR_CODES.BRACKET_OPEN: return TokenType.BRACKET_OPEN;\n            case CHAR_CODES.BRACKET_CLOSE: return TokenType.BRACKET_CLOSE;\n            case CHAR_CODES.COMMA: return TokenType.COMMA;\n            case CHAR_CODES.COLON: return TokenType.COLON;\n            case CHAR_CODES.TILDE: return TokenType.COLLECTION_START;\n            default: return TokenType.UNKNOWN;\n        }\n    }\n    /**\n     * Create an error token for invalid input and continue tokenizing.\n     * @param error - The error that occurred\n     * @param startPos - Starting position of the invalid token\n     * @param startRow - Starting row of the invalid token\n     * @param startCol - Starting column of the invalid token\n     * @param tokenText - The invalid token text\n     */\n    createErrorToken(error, startPos, startRow, startCol, tokenText) {\n        return Token.init(startPos, startRow, startCol, tokenText, {\n            __error: true,\n            message: error.message,\n            originalError: error\n        }, TokenType.ERROR);\n    }\n    /**\n     * Skip to the next valid token boundary after an error.\n     * This helps recover from parsing errors by advancing to a safe position.\n     */\n    skipToNextTokenBoundary() {\n        // Skip characters until we find a delimiter, whitespace, or special symbol\n        while (!this.reachedEnd &&\n            !is.isWhitespace(this.input[this.pos]) &&\n            !is.isSpecialSymbol(this.input[this.pos]) &&\n            this.input[this.pos] !== ',' &&\n            this.input[this.pos] !== '\\n') {\n            this.advance();\n        }\n    }\n    /**\n     * Advance the current position and update the row and column accordingly.\n     */\n    advance(step = 1) {\n        if (this.reachedEnd) {\n            return;\n        }\n        // Optimize for single step (most common case)\n        if (step === 1) {\n            if (this.input.charCodeAt(this.pos) === CHAR_CODES.NEWLINE) {\n                this.row++;\n                this.col = 1;\n            }\n            else {\n                this.col++;\n            }\n            this.pos++;\n            if (this.pos >= this.inputLength) {\n                this.reachedEnd = true;\n            }\n            return;\n        }\n        // Handle multiple steps\n        for (let i = 0; i < step; i++) {\n            if (this.input.charCodeAt(this.pos) === CHAR_CODES.NEWLINE) {\n                this.row++;\n                this.col = 1;\n            }\n            else {\n                this.col++;\n            }\n            this.pos++;\n            if (this.pos >= this.inputLength) {\n                this.reachedEnd = true;\n                break;\n            }\n        }\n    }\n    parseSingleLineComment() {\n        while (!this.reachedEnd && this.input[this.pos] !== \"\\n\") {\n            this.advance();\n        }\n    }\n    parseRegularString(encloser) {\n        const start = this.pos;\n        const startRow = this.row;\n        const startCol = this.col;\n        this.advance(); // Move past the opening quotation mark\n        let value = \"\";\n        let needToNormalize = false;\n        while (!this.reachedEnd && this.input[this.pos] !== encloser) {\n            if (is.isWhitespace(this.input[this.pos])) {\n                value += this.skipWhitespaces();\n                continue;\n            }\n            // Check if current character is a backslash (escape character)\n            if (this.input[this.pos] === Symbols.BACKSLASH) {\n                try {\n                    ({ value, needToNormalize } = this.escapeString(value, needToNormalize));\n                    // escapeString has already advanced the position, so continue to next iteration\n                }\n                catch (error) {\n                    // For invalid escape sequences, treat them as literal characters without the backslash\n                    // Note: escapeString has already advanced past the backslash, so pos is at the escape char\n                    if (!this.reachedEnd) {\n                        const escapeChar = this.input[this.pos];\n                        value += escapeChar; // Add the escape character (u, x, etc.) without backslash\n                        // For \\u and \\x sequences, we need to add the invalid hex digits too\n                        if (escapeChar === 'u') {\n                            // Add the next 4 characters (or until end of input)\n                            this.advance();\n                            for (let i = 0; i < 4 && !this.reachedEnd; i++) {\n                                value += this.input[this.pos];\n                                this.advance();\n                            }\n                            continue;\n                        }\n                        else if (escapeChar === 'x') {\n                            // Add the next 2 characters (or until end of input)\n                            this.advance();\n                            for (let i = 0; i < 2 && !this.reachedEnd; i++) {\n                                value += this.input[this.pos];\n                                this.advance();\n                            }\n                            continue;\n                        }\n                        else {\n                            this.advance();\n                        }\n                    }\n                    continue;\n                }\n            }\n            else {\n                value += this.input[this.pos];\n                this.advance();\n            }\n        }\n        // If we reached the end without finding the closing quote,\n        // create an error token for the unclosed string\n        if (this.reachedEnd) {\n            const tokenText = this.input.substring(start, this.pos);\n            // Create a temporary token for the opening quote to get proper range\n            const openingToken = Token.init(start, startRow, startCol, '\"', '\"', \"STRING\");\n            const currentPos = createPosition(this.pos, this.row, this.col);\n            const error = new SyntaxError(ErrorCodes.stringNotClosed, `Unterminated string literal. Expected closing quote '\"' before end of input.`, unclosedConstructRange(openingToken, currentPos), true);\n            return this.createErrorToken(error, start, startRow, startCol, tokenText);\n        }\n        this.advance(); // Move past the closing quotation mark\n        const tokenText = this.input.substring(start, this.pos);\n        // After building the 'value' string, normalize it:\n        if (needToNormalize) {\n            value = value.normalize(\"NFC\");\n        }\n        return Token.init(start, startRow, startCol, tokenText, value, \"STRING\", \"REGULAR_STRING\");\n    }\n    escapeString(value, needToNormalize) {\n        this.advance(); // Move past the backslash\n        if (this.reachedEnd) {\n            throw new SyntaxError(ErrorCodes.invalidEscapeSequence, `Invalid escape sequence at end of input. Expected escape character after backslash.`, this.currentPosition, true);\n        }\n        switch (this.input[this.pos]) {\n            case \"b\":\n                value += \"\\b\";\n                break;\n            case \"f\":\n                value += \"\\f\";\n                break;\n            case \"n\":\n                value += \"\\n\";\n                break;\n            case \"r\":\n                value += \"\\r\";\n                break;\n            case \"t\":\n                value += \"\\t\";\n                break;\n            case \"u\":\n                const hex = this.input.substring(this.pos + 1, this.pos + 5);\n                if (regexHex4.test(hex)) {\n                    // /^[0-9a-fA-F]{4}$/\n                    value += String.fromCharCode(parseInt(hex, 16));\n                    this.advance(4); // Move past the 4 hex digits\n                    needToNormalize = true;\n                }\n                else {\n                    throw new SyntaxError(ErrorCodes.invalidEscapeSequence, `Invalid Unicode escape sequence '\\\\u${hex}'. Expected 4 hexadecimal digits (0-9, A-F).`, this.currentPosition);\n                }\n                break;\n            case \"x\":\n                const hexByte = this.input.substring(this.pos + 1, this.pos + 3);\n                if (regexHex2.test(hexByte)) {\n                    // /^[0-9a-fA-F]{2}$/\n                    value += String.fromCharCode(parseInt(hexByte, 16));\n                    this.advance(2); // Move past the 2 hex digits\n                    needToNormalize = true;\n                }\n                else {\n                    throw new SyntaxError(ErrorCodes.invalidEscapeSequence, `Invalid hexadecimal escape sequence '\\\\x${hexByte}'. Expected 2 hexadecimal digits (0-9, A-F).`, this.currentPosition);\n                }\n                break;\n            default:\n                value += this.input[this.pos]; // Treat unrecognized escape sequences as literal characters without backslash\n                this.advance(); // Move past the escape character\n                break;\n        }\n        return { value, needToNormalize };\n    }\n    get currentPosition() {\n        const getPos = () => {\n            return {\n                pos: this.pos,\n                row: this.row,\n                col: this.col\n            };\n        };\n        return {\n            getStartPos: getPos,\n            getEndPos: getPos\n        };\n    }\n    checkIfAnotatedString() {\n        // Annotated strings starts with a letter and can have a maximum of 4 letters\n        // followed by a quotation mark (single or double).\n        const match = reAnotatedStrStart.exec(this.input.substring(this.pos, this.pos + 5));\n        if (!match) {\n            return null;\n        }\n        return match.groups;\n    }\n    parseAnotatedString(annotation) {\n        const start = this.pos;\n        const startRow = this.row;\n        const startCol = this.col;\n        // Skip over the annotation characters\n        for (let i = 0; i < annotation.name.length; i++) {\n            this.advance();\n        }\n        if (this.reachedEnd) {\n            const tokenText = this.input.substring(start, this.pos);\n            // Create a temporary token for the opening annotation to get proper range\n            const openingToken = Token.init(start, startRow, startCol, annotation.name + annotation.quote, annotation.name, \"STRING\");\n            const currentPos = createPosition(this.pos, this.row, this.col);\n            const error = new SyntaxError(ErrorCodes.stringNotClosed, `Unterminated annotated string literal. Expected closing quote '${annotation.quote}' before end of input.`, unclosedConstructRange(openingToken, currentPos), true);\n            return this.createErrorToken(error, start, startRow, startCol, tokenText);\n        }\n        this.advance(); // Move past the opening quotation mark\n        while (!this.reachedEnd && this.input[this.pos] !== annotation.quote) {\n            this.advance();\n        }\n        // If we reached the end without finding the closing quote,\n        // treat it as an annotated string that goes to EOF\n        const tokenText = this.input.substring(start, this.pos);\n        let value;\n        if (this.reachedEnd) {\n            // Extract value from unclosed string (from after opening quote to EOF)\n            value = tokenText.substring(annotation.name.length + 1);\n        }\n        else {\n            this.advance(); // Move past the closing quotation mark\n            const fullTokenText = this.input.substring(start, this.pos);\n            value = fullTokenText.substring(annotation.name.length + 1, fullTokenText.length - 1);\n        }\n        // Prepare the token\n        const token = new Token();\n        token.pos = start;\n        token.row = startRow;\n        token.col = startCol;\n        token.token = this.reachedEnd ? tokenText : this.input.substring(start, this.pos);\n        token.value = value;\n        return token;\n    }\n    parseRawString(annotation) {\n        const token = this.parseAnotatedString(annotation);\n        // If the annotated string parsing already returned an error token, return it as-is\n        if (token.type === TokenType.ERROR) {\n            return token;\n        }\n        token.type = TokenType.STRING;\n        token.subType = \"RAW_STRING\";\n        return token;\n    }\n    parseByteString(annotation) {\n        const token = this.parseAnotatedString(annotation);\n        // If the annotated string parsing already returned an error token, return it as-is\n        if (token.type === TokenType.ERROR) {\n            return token;\n        }\n        try {\n            // Validate base64 format using cached regex\n            if (!REGEX_CACHE.base64.test(token.value)) {\n                throw new Error(\"Invalid base64 format\");\n            }\n            token.type = TokenType.BINARY;\n            token.subType = \"BINARY_STRING\";\n            // Convert the base64 string to a byte array\n            token.value = Buffer.from(token.value, \"base64\");\n            return token;\n        }\n        catch (error) {\n            return this.createErrorToken(error, token.pos, token.row, token.col, token.token);\n        }\n    }\n    parseDateTime(annotation) {\n        const token = this.parseAnotatedString(annotation);\n        // If the annotated string parsing already returned an error token, return it as-is\n        if (token.type === TokenType.ERROR) {\n            return token;\n        }\n        try {\n            let fn = (value) => null;\n            switch (annotation.name) {\n                case \"dt\":\n                    fn = dtParser.parseDateTime;\n                    token.subType = TokenType.DATETIME;\n                    break;\n                case \"d\":\n                    fn = dtParser.parseDate;\n                    token.subType = TokenType.DATE;\n                    break;\n                case \"t\":\n                    fn = dtParser.parseTime;\n                    token.subType = TokenType.TIME;\n                    break;\n                default:\n                    assertNever(annotation);\n            }\n            const dt = fn(token.value);\n            if (!dt) {\n                const error = new SyntaxError(ErrorCodes.invalidDateTime, `Invalid ${annotation.name === 'dt' ? 'datetime' : annotation.name === 'd' ? 'date' : 'time'} format '${token.value}'. Expected valid ISO 8601 format.`, token);\n                return this.createErrorToken(error, token.pos, token.row, token.col, token.token);\n            }\n            token.value = dt;\n            token.type = TokenType.DATETIME;\n            return token;\n        }\n        catch (error) {\n            return this.createErrorToken(error, token.pos, token.row, token.col, token.token);\n        }\n    }\n    parseNumber() {\n        const start = this.pos;\n        const startRow = this.row;\n        const startCol = this.col;\n        let rawValue = \"\";\n        let base = 10; // default is decimal\n        let hasDecimal = false;\n        let hasExponent = false;\n        let prefix = \"\";\n        let subType;\n        // Check if current position points to a plus or minus sign.\n        if (this.input[this.pos] === \"+\" || this.input[this.pos] === \"-\") {\n            const sign = this.input[this.pos];\n            // If sign is followed by \"Inf\", handle infinite literal.\n            if (this.input.startsWith(\"Inf\", this.pos + 1)) {\n                const infLiteral = sign + \"Inf\";\n                this.advance(4); // sign + \"Inf\"\n                return Token.init(start, startRow, startCol, infLiteral, sign === \"+\" ? Infinity : -Infinity, TokenType.NUMBER);\n            }\n            // Otherwise, allow sign only if immediately followed by a digit or dot.\n            if (is.isDigit(this.input[this.pos + 1]) || this.input[this.pos + 1] === \".\") {\n                rawValue += sign;\n                this.advance();\n            }\n            else {\n                return null;\n            }\n        }\n        // Also support an Inf literal without a sign.\n        else if (this.input.startsWith(\"Inf\", this.pos)) {\n            const infLiteral = \"Inf\";\n            this.advance(3);\n            return Token.init(start, startRow, startCol, infLiteral, Infinity, TokenType.NUMBER);\n        }\n        if (this.input[this.pos] === \".\") {\n            // If there is a dot, ensure it is followed by a digit.\n            if (!reFloatDigit.test(this.input[this.pos + 1])) {\n                return null;\n            }\n        }\n        // Determine the number format\n        if (this.input[this.pos] === \"0\" && nonDecimalPrefixes.includes(this.input[this.pos + 1])) {\n            switch (this.input[this.pos + 1]) {\n                case \"X\":\n                case \"x\":\n                    base = 16;\n                    subType = \"HEX\";\n                    prefix = this.input[this.pos] + this.input[this.pos + 1];\n                    this.advance(2);\n                    while (reHex.test(this.input[this.pos])) {\n                        rawValue += this.input[this.pos];\n                        this.advance();\n                    }\n                    break;\n                case \"O\":\n                case \"o\":\n                    base = 8;\n                    subType = \"OCTAL\";\n                    prefix = this.input[this.pos] + this.input[this.pos + 1];\n                    this.advance(2);\n                    while (reOctal.test(this.input[this.pos])) {\n                        rawValue += this.input[this.pos];\n                        this.advance();\n                    }\n                    break;\n                case \"B\":\n                case \"b\":\n                    base = 2;\n                    subType = \"BINARY\";\n                    prefix = this.input[this.pos] + this.input[this.pos + 1];\n                    this.advance(2);\n                    while (reBinary.test(this.input[this.pos])) {\n                        rawValue += this.input[this.pos];\n                        this.advance();\n                    }\n                    break;\n                default:\n                    assertNever(this.input[this.pos + 1]);\n            }\n        }\n        else {\n            // Parse whole part\n            while (reIntDigit.test(this.input[this.pos])) {\n                rawValue += this.input[this.pos];\n                this.advance();\n            }\n            // Parse decimal point and fractional part\n            if (this.input[this.pos] === \".\") {\n                hasDecimal = true;\n                rawValue += \".\";\n                this.advance();\n                while (reIntDigit.test(this.input[this.pos])) {\n                    rawValue += this.input[this.pos];\n                    this.advance();\n                }\n            }\n            // Parse scientific notation (e.g., e10 or E10)\n            if (this.input[this.pos] === \"e\" || this.input[this.pos] === \"E\") {\n                hasExponent = true;\n                rawValue += this.input[this.pos];\n                this.advance();\n                if (this.input[this.pos] === \"+\" || this.input[this.pos] === \"-\") {\n                    rawValue += this.input[this.pos];\n                    this.advance();\n                }\n                while (reIntDigit.test(this.input[this.pos])) {\n                    rawValue += this.input[this.pos];\n                    this.advance();\n                }\n            }\n        }\n        let tokenType = TokenType.NUMBER;\n        let numberValue;\n        // if the next char is 'n', then it is a BigInt literal\n        if (this.input[this.pos] === \"n\") {\n            tokenType = TokenType.BIGINT;\n            numberValue = BigInt(prefix + rawValue);\n            rawValue += \"n\";\n            this.advance();\n        }\n        else if (this.input[this.pos] === \"m\") {\n            // Decimal literal\n            tokenType = TokenType.DECIMAL;\n            numberValue = new Decimal(rawValue);\n            rawValue += \"f\";\n            this.advance();\n        }\n        else {\n            if (base === 10 && (hasDecimal || hasExponent)) {\n                numberValue = parseFloat(rawValue);\n            }\n            else {\n                numberValue = parseInt(rawValue, base);\n                if (isNaN(numberValue)) {\n                    assertNever(\"Expected a number but got NaN\", this.currentPosition.getStartPos());\n                }\n            }\n        }\n        return Token.init(start, startRow, startCol, prefix + rawValue, numberValue, tokenType, subType);\n    }\n    parseLiteralOrOpenString() {\n        const start = this.pos;\n        const startRow = this.row;\n        const startCol = this.col;\n        let value = \"\";\n        let normalizeString = false;\n        while (!this.reachedEnd && is.isValidOpenStringChar(this.input[this.pos])) {\n            let char = this.input[this.pos];\n            if (is.isWhitespace(char)) {\n                value += this.skipWhitespaces();\n                continue;\n            }\n            if (char === Symbols.MINUS) {\n                // if the next two chars are -- that means it is a\n                // section seperator.\n                if (this.input.substring(this.pos, this.pos + 3) === \"---\") {\n                    break;\n                }\n            }\n            if (char === Symbols.BACKSLASH) {\n                try {\n                    ({ value, needToNormalize: normalizeString } = this.escapeString(value, normalizeString));\n                    // escapeString has already advanced the position, so continue to next iteration\n                    continue;\n                }\n                catch (error) {\n                    // For open strings, preserve the backslash and the escape character\n                    // Note: escapeString has already advanced past the backslash, so pos is at the escape char\n                    value += \"\\\\\";\n                    if (!this.reachedEnd) {\n                        const escapeChar = this.input[this.pos];\n                        value += escapeChar; // Add the escape character (u, x, etc.)\n                        // For \\u and \\x sequences, we need to add the invalid hex digits too\n                        if (escapeChar === 'u') {\n                            // Add the next 4 characters (or until end of input)\n                            this.advance();\n                            for (let i = 0; i < 4 && !this.reachedEnd; i++) {\n                                value += this.input[this.pos];\n                                this.advance();\n                            }\n                            continue;\n                        }\n                        else if (escapeChar === 'x') {\n                            // Add the next 2 characters (or until end of input)\n                            this.advance();\n                            for (let i = 0; i < 2 && !this.reachedEnd; i++) {\n                                value += this.input[this.pos];\n                                this.advance();\n                            }\n                            continue;\n                        }\n                        else {\n                            this.advance();\n                        }\n                    }\n                    continue;\n                }\n            }\n            else {\n                value += char;\n                this.advance();\n            }\n        }\n        value = value.trimEnd();\n        if (normalizeString) {\n            value = value.normalize(\"NFC\");\n        }\n        if (value === \"\") {\n            return null;\n            // assertNever(this.input[this.pos])\n        }\n        switch (value) {\n            case Literals.TRUE:\n            case Literals.T:\n                return Token.init(start, startRow, startCol, value, true, TokenType.BOOLEAN);\n            case Literals.FALSE:\n            case Literals.F:\n                return Token.init(start, startRow, startCol, value, false, TokenType.BOOLEAN);\n            case Literals.NULL:\n            case Literals.N:\n                return Token.init(start, startRow, startCol, value, null, TokenType.NULL);\n            case Literals.Inf:\n            case Literals.NaN:\n                return Token.init(start, startRow, startCol, value, value === Literals.Inf ? Infinity : NaN, TokenType.NUMBER);\n            default:\n                return Token.init(start, startRow, startCol, value, value, TokenType.STRING, \"OPEN_STRING\");\n        }\n    }\n    /**\n     * Merges the two tokens into one token. This is used to merge the\n     * tokens detected by various tokenizer functions.\n     */\n    mergeTokens(first, second) {\n        const token = new Token();\n        token.pos = first.pos;\n        token.row = first.row;\n        token.col = first.col;\n        token.token = first.token + second.token;\n        token.value = first.token + second.value.toString();\n        token.type = second.type;\n        token.subType = second.subType;\n        return token;\n    }\n    /**\n     * Skip over any whitespaces and return them as a string.\n     * @returns {string} The skipped whitespaces.\n     */\n    skipWhitespaces(hspacesOnly = false) {\n        const startPos = this.pos;\n        while (!this.reachedEnd && is.isWhitespace(this.input[this.pos], hspacesOnly)) {\n            const space = this.input[this.pos];\n            // replace \\r\\n or \\r with \\n. This behavior is configurable\n            // with the normalizeNewline option\n            if (space === '\\r') {\n                if (this.input[this.pos + 1] === '\\n') {\n                    this.advance();\n                }\n                this.advance();\n            }\n            else {\n                this.advance();\n            }\n        }\n        // Optimize: use substring instead of character-by-character concatenation\n        if (startPos === this.pos) {\n            return '';\n        }\n        let spaces = this.input.substring(startPos, this.pos);\n        // Only normalize if we found \\r characters\n        if (spaces.includes('\\r')) {\n            spaces = spaces.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n        }\n        return spaces;\n    }\n    /**\n     * Tokenize the input string.\n     * @returns {Token[]} Array of parsed tokens.\n     */\n    tokenize() {\n        // Pre-allocate array with estimated size for better performance\n        const estimatedTokens = Math.max(10, Math.floor(this.inputLength / 8));\n        const tokens = new Array(estimatedTokens);\n        let tokenIndex = 0;\n        while (this.pos < this.inputLength) {\n            const charCode = this.input.charCodeAt(this.pos);\n            // Whitespaces - use fast character code checking\n            if (isWhitespaceFast(charCode)) {\n                // Skip over the whitespace\n                this.advance();\n                continue;\n            }\n            // Single-line comments\n            else if (charCode === CHAR_CODES.HASH) {\n                this.parseSingleLineComment();\n            }\n            // Regular strings\n            else if (charCode === CHAR_CODES.DOUBLE_QUOTE || charCode === CHAR_CODES.SINGLE_QUOTE) {\n                tokens[tokenIndex++] = this.parseRegularString(this.input[this.pos]);\n            }\n            // Special symbols (e.g., curly braces, brackets, etc.) - use fast character code checking\n            else if (this.isSpecialSymbolFast(charCode)) {\n                const startRow = this.row;\n                const startCol = this.col;\n                const ch = this.input[this.pos];\n                tokens[tokenIndex++] = Token.init(this.pos, startRow, startCol, ch, ch, this.getSymbolTokenTypeFast(charCode));\n                this.advance();\n            }\n            // Numbers\n            else if (charCode === CHAR_CODES.PLUS || charCode === CHAR_CODES.MINUS || charCode === CHAR_CODES.DOT || isDigitFast(charCode)) {\n                // Check if it is a SECTION_SEP ---\n                if (charCode === CHAR_CODES.MINUS) {\n                    // If the next two chars are -- that means it is a\n                    // data seperator.\n                    if (this.input.substring(this.pos, this.pos + 3) === \"---\") {\n                        tokenIndex = this.parseSectionSeparator(tokens, tokenIndex);\n                        continue;\n                    }\n                }\n                const token = this.parseNumber();\n                if (token) {\n                    const spaces = this.skipWhitespaces();\n                    if (!this.reachedEnd) {\n                        // If the next character (2abc) is not a symbol or whitespace, then\n                        // it must be a literal or open string. Parse it and merge it\n                        // with the number token.\n                        if (!is.isSpecialSymbol(this.input[this.pos]) &&\n                            !is.isWhitespace(this.input[this.pos])) {\n                            const nextToken = this.parseLiteralOrOpenString();\n                            if (nextToken) {\n                                nextToken.type = TokenType.STRING;\n                                nextToken.subType = \"OPEN_STRING\";\n                                if (spaces.length > 0) {\n                                    nextToken.token = spaces + nextToken.token;\n                                    nextToken.value = spaces + nextToken.value;\n                                }\n                                tokens[tokenIndex++] = this.mergeTokens(token, nextToken);\n                            }\n                            else {\n                                tokens[tokenIndex++] = token;\n                            }\n                        }\n                        else {\n                            tokens[tokenIndex++] = token;\n                        }\n                    }\n                    else {\n                        tokens[tokenIndex++] = token;\n                    }\n                }\n                else {\n                    // It wasn't a number, so it must be a literal or open string\n                    const token = this.parseLiteralOrOpenString();\n                    if (token) {\n                        tokens[tokenIndex++] = token;\n                    }\n                }\n            }\n            // Literals or open strings\n            else {\n                const annotation = this.checkIfAnotatedString();\n                if (annotation) {\n                    switch (annotation.name) {\n                        case \"r\":\n                            tokens[tokenIndex++] = this.parseRawString(annotation);\n                            break;\n                        case \"b\":\n                            tokens[tokenIndex++] = this.parseByteString(annotation);\n                            break;\n                        case \"d\":\n                        case \"dt\":\n                        case \"t\":\n                            tokens[tokenIndex++] = this.parseDateTime(annotation);\n                            break;\n                        default:\n                            const error = new SyntaxError(ErrorCodes.unsupportedAnnotation, `Unsupported annotation '${annotation.name}'. Supported annotations are: 'r' (raw string), 'b' (binary), 'dt' (datetime), 'd' (date), 't' (time).`, this.currentPosition);\n                            const tokenText = this.input.substring(this.pos, this.pos + annotation.name.length + 1);\n                            tokens[tokenIndex++] = this.createErrorToken(error, this.pos, this.row, this.col, tokenText);\n                            this.skipToNextTokenBoundary();\n                    }\n                }\n                else {\n                    const token = this.parseLiteralOrOpenString();\n                    if (token) {\n                        tokens[tokenIndex++] = token;\n                    }\n                }\n            }\n        }\n        // Return properly sized array\n        tokens.length = tokenIndex;\n        return tokens;\n    }\n    parseSectionSeparator(tokens, tokenIndex) {\n        tokens[tokenIndex++] = Token.init(this.pos, this.row, this.col, \"---\", \"---\", TokenType.SECTION_SEP);\n        this.advance(3); // Advance past the \"---\"\n        this.skipWhitespaces(true);\n        const match = reSectionSchemaName.exec(this.input.substring(this.pos));\n        if (match) {\n            let schema;\n            let name;\n            let sep = match.groups?.sep;\n            let schema2;\n            if (match.groups) {\n                schema = match.groups.schema;\n                name = match.groups.name;\n                schema2 = match.groups.schema2;\n            }\n            // When only a schema is provided, the schema is the name\n            if (schema2) {\n                tokens[tokenIndex++] = Token.init(this.pos, this.row, this.col, schema2, schema2, TokenType.STRING, TokenType.SECTION_SCHEMA);\n                this.advance(schema2.length);\n                this.skipWhitespaces(true);\n            }\n            else if (name) {\n                tokens[tokenIndex++] = Token.init(this.pos, this.row, this.col, name, name, TokenType.STRING, TokenType.SECTION_NAME);\n                this.advance(name.length);\n                this.skipWhitespaces(true);\n                if (sep) {\n                    // skip over the separator when it is present\n                    this.advance(sep.length);\n                    this.skipWhitespaces(true);\n                    // Once the sep is detected, the schema must be present\n                    if (!schema) {\n                        const error = new SyntaxError(ErrorCodes.schemaMissing, `Missing schema definition after section separator. Expected schema name starting with '$' (e.g., '$mySchema').`, this.currentPosition);\n                        tokens[tokenIndex++] = this.createErrorToken(error, this.pos, this.row, this.col, \"\");\n                        return tokenIndex;\n                    }\n                    tokens[tokenIndex++] = Token.init(this.pos, this.row, this.col, schema, schema, TokenType.STRING, TokenType.SECTION_SCHEMA);\n                    this.advance(schema.length);\n                    this.skipWhitespaces(true);\n                }\n            }\n        }\n        return tokenIndex;\n    }\n}\nexport default Tokenizer;\n","import Document from '../../core/document';\nimport SectionCollection from '../../core/section-collection';\nclass DocumentNode {\n    constructor(header, children = [], errors = []) {\n        this.header = null;\n        this.children = [];\n        this.errors = []; // Accumulated errors during parsing\n        this.header = header;\n        this.children = children;\n        this.errors = errors;\n    }\n    get firstChild() {\n        return this.children.length > 0 ? this.children[0] : null;\n    }\n    /**\n     * Returns all errors accumulated during parsing.\n     * This enables IDEs and tools to show all diagnostics in one pass.\n     */\n    getErrors() {\n        return this.errors;\n    }\n    toValue(defs) {\n        const header = this.header?.toValue(defs) ?? null;\n        const sections = new SectionCollection();\n        for (let i = 0; i < this.children.length; i++) {\n            sections.push(this.children[i].toValue(defs));\n        }\n        return new Document(header, sections);\n    }\n    getStartPos() {\n        if (this.header) {\n            return this.header.getStartPos();\n        }\n        if (this.children.length > 0) {\n            return this.children[0].getStartPos();\n        }\n        return { row: 0, col: 0, pos: 0 };\n    }\n    getEndPos() {\n        if (this.children.length > 0) {\n            return this.children[this.children.length - 1].getEndPos();\n        }\n        if (this.header) {\n            return this.header.getEndPos();\n        }\n        return { row: 0, col: 0, pos: 0 };\n    }\n}\nexport default DocumentNode;\n","import Section from \"../../core/section\";\nimport CollectionNode from \"./collections\";\nimport ObjectNode from \"./objects\";\nclass SectionNode {\n    constructor(child, nameNode, schemaNode) {\n        this.type = 'section';\n        this.child = child;\n        this.nameNode = nameNode;\n        this.schemaNode = schemaNode;\n    }\n    get name() {\n        return this.nameNode?.value || this.schemaNode?.value.toString().substring(1) || 'unnamed';\n    }\n    get schemaName() {\n        return this.schemaNode?.value || \"$schema\";\n    }\n    get firstChild() {\n        return this.child;\n    }\n    get firstChildObject() {\n        if (this.child instanceof ObjectNode) {\n            return this.child;\n        }\n        if (this.child instanceof CollectionNode && this.child.children.length > 0) {\n            return this.child.children[0];\n        }\n        return null;\n    }\n    getStartPos() {\n        return this.child?.getStartPos() ?? { row: 0, col: 0, pos: 0 };\n    }\n    getEndPos() {\n        return this.child?.getEndPos() ?? { row: 0, col: 0, pos: 0 };\n    }\n    toValue(defs) {\n        let data = null;\n        if (this.child) {\n            data = this.child.toValue(defs);\n        }\n        return new Section(data, this.name, this.schemaName);\n    }\n}\nexport default SectionNode;\n","import assertNever from '../errors/asserts/asserts';\nimport ErrorCodes from '../errors/io-error-codes';\nimport SyntaxError from '../errors/io-syntax-error';\nimport { tokenSpanRange } from '../errors/error-range-utils';\nimport TokenType from './tokenizer/token-types';\nimport { isTerminator } from './tokenizer/is';\nimport ArrayNode from './nodes/array';\nimport CollectionNode from './nodes/collections';\nimport DocumentNode from './nodes/document';\nimport ErrorNode from './nodes/error';\nimport MemberNode from './nodes/members';\nimport ObjectNode from './nodes/objects';\nimport SectionNode from './nodes/section';\nimport TokenNode from './nodes/tokens';\nclass ASTParser {\n    constructor(tokens) {\n        this.sectionNames = {};\n        this.errors = []; // Accumulated errors during parsing\n        this.tokens = tokens;\n        this.current = 0;\n    }\n    parse() {\n        return this.processDocument();\n    }\n    /**\n     * Creates a syntax error with proper range spanning the entire construct.\n     * Industry standard: Error should highlight from start token to end token.\n     *\n     * @param errorCode - The error code\n     * @param message - Error message\n     * @param startToken - Opening token of the construct (e.g., '{' or '[')\n     * @param members - Array of parsed members/elements (to find last token) - can include undefined\n     * @returns SyntaxError with range spanning the entire construct\n     */\n    createUnclosedConstructError(errorCode, message, startToken, members) {\n        // Find the end position by looking backwards from current, skipping boundary tokens\n        let errorEndToken = null;\n        // Start from the token before current position\n        let checkIndex = this.current - 1;\n        // Skip backwards over any boundary tokens (~ or ---)\n        while (checkIndex >= 0) {\n            const token = this.tokens[checkIndex];\n            if (token &&\n                token.type !== TokenType.COLLECTION_START &&\n                token.type !== TokenType.SECTION_SEP) {\n                errorEndToken = token;\n                break;\n            }\n            checkIndex--;\n        }\n        // Create the error with proper range spanning the entire construct\n        if (startToken && errorEndToken) {\n            const range = tokenSpanRange(startToken, errorEndToken);\n            return new SyntaxError(errorCode, message, range, false);\n        }\n        else if (startToken) {\n            // Fallback: use start token only\n            return new SyntaxError(errorCode, message, startToken, false);\n        }\n        else {\n            // No tokens available - create error without position\n            return new SyntaxError(errorCode, message, undefined, true);\n        }\n    }\n    processDocument() {\n        const sections = new Array();\n        let header = null;\n        let token = this.peek();\n        let first = true;\n        while (true) {\n            if (first) {\n                // When the first token is a section separator, it means that\n                // header section is not present. Just skip the section separator\n                if (token?.type === TokenType.SECTION_SEP) {\n                    first = false;\n                }\n            }\n            const section = this.processSection(first);\n            token = this.peek();\n            if (!token) {\n                sections.push(section);\n                break;\n            }\n            if (first) {\n                header = section;\n            }\n            else {\n                sections.push(section);\n            }\n            if (first)\n                first = false;\n            // If the next token is not a section separator, it means that\n            // the current section is not closed properly. Add error and stop\n            if (token.type !== TokenType.SECTION_SEP) {\n                const error = new SyntaxError(ErrorCodes.unexpectedToken, `Expected section separator '---' but found '${token.token}'. Each section must be properly closed before starting a new one.`, token);\n                this.errors.push(error);\n                break; // Stop parsing but return partial document\n            }\n            // Move to the next token and check if it is a section separator\n            // or the end of file\n            this.advance();\n        }\n        // If there are more than one sections, and the document does not start\n        // with --- then the first one is the header.\n        // section. Remove it from the sections array and return it as the header\n        // if (sections.length > 1 && this.tokens[0].type !== TokenType.SECTION_SEP) {\n        //   const header = sections.shift();\n        //   return new DocumentNode(header ?? null, sections);\n        // }\n        return new DocumentNode(header, sections, this.errors);\n    }\n    processSection(first) {\n        let token = this.peek();\n        // Consume the section separator if present\n        if (token?.type === TokenType.SECTION_SEP) {\n            this.advance();\n        }\n        // If the first token is a section separator, it means that\n        // the section has started without a section name. A header\n        // section does not have a name.\n        const [schemaNode, nameNode] = this.parseSectionAndSchemaNames();\n        let name = nameNode?.value || schemaNode?.value.toString().substring(1) || 'unnamed';\n        const originalName = name;\n        // Check if the section name is already used - implement auto-rename for error recovery\n        if (name && this.sectionNames[name]) {\n            const error = new SyntaxError(ErrorCodes.unexpectedToken, `Duplicate section name '${name}'. Each section must have a unique name within the document.`, void 0, false);\n            this.errors.push(error); // Accumulate error\n            // Auto-rename: users -> users_2, users_3, etc.\n            let suffix = 2;\n            while (this.sectionNames[`${originalName}_${suffix}`]) {\n                suffix++;\n            }\n            name = `${originalName}_${suffix}`;\n            // Update the nameNode with the renamed value\n            if (nameNode) {\n                nameNode.value = name;\n            }\n        }\n        if (!first || (first && name !== 'unnamed' && this.peek()?.type !== TokenType.SECTION_SEP)) {\n            this.sectionNames[name] = true;\n        }\n        const section = this.parseSectionContent();\n        return new SectionNode(section, nameNode, schemaNode);\n    }\n    parseSectionAndSchemaNames() {\n        let schemaNode = null;\n        let nameNode = null;\n        let token = this.peek();\n        if (token?.subType === TokenType.SECTION_NAME) {\n            nameNode = token;\n            // Consume the section name\n            this.advance();\n            token = this.peek();\n            if (token?.subType === TokenType.SECTION_SCHEMA) {\n                schemaNode = token;\n                // Consume the section name\n                this.advance();\n            }\n        }\n        else if (token?.subType === TokenType.SECTION_SCHEMA) {\n            schemaNode = token;\n            // Consume the section name\n            this.advance();\n            token = this.peek();\n        }\n        return [schemaNode, nameNode];\n    }\n    parseSectionContent() {\n        const token = this.peek();\n        if (!token)\n            return null;\n        if (token.type === TokenType.SECTION_SEP) {\n            return null;\n        }\n        // Parse the collection ~\n        if (token.type === TokenType.COLLECTION_START) {\n            return this.processCollection();\n        }\n        // Parse the single object {}\n        return this.processObject(false);\n    }\n    processCollection() {\n        const objects = [];\n        while (this.match(ASTParser.COLLECTION_START_ARRAY)) {\n            // Consume the COLLECTION_START token\n            this.advance();\n            // Remember the position before parsing the item (for fallback)\n            const itemStartPos = this.current;\n            // Check if the first token of this collection item is an ERROR token\n            // If so, treat the entire item as an ErrorNode\n            const firstToken = this.peek();\n            if (firstToken && firstToken.type === TokenType.ERROR) {\n                const errorValue = firstToken.value;\n                const errorNode = new ErrorNode(errorValue.originalError, firstToken);\n                this.errors.push(errorValue.originalError);\n                objects.push(errorNode);\n                this.advance(); // Consume the error token\n                this.skipToNextCollectionItem();\n                continue;\n            }\n            try {\n                // Parse the object and add to the collection\n                objects.push(this.processObject(true));\n            }\n            catch (error) {\n                // Accumulate error for Phase 2\n                this.errors.push(error);\n                // Create error node with actual error position\n                let position = { pos: -1, row: -1, col: -1 };\n                let endPosition = undefined;\n                // Extract position from IOError if available\n                if (error && typeof error === 'object' && 'positionRange' in error) {\n                    const posRange = error.positionRange;\n                    if (posRange && posRange.getStartPos) {\n                        position = posRange.getStartPos();\n                        endPosition = posRange.getEndPos ? posRange.getEndPos() : undefined;\n                    }\n                }\n                // Fallback: if no position in error, use the last valid token position\n                if (position.pos === -1 && this.current > 0 && this.current <= this.tokens.length) {\n                    const lastToken = this.tokens[this.current - 1];\n                    if (lastToken) {\n                        position = lastToken.getEndPos(); // Use end position of last token\n                        endPosition = position; // Point to same location\n                    }\n                }\n                objects.push(new ErrorNode(error, position, endPosition));\n                this.skipToNextCollectionItem();\n            }\n            // No explicit delimiter check is required since the `~`\n            // itself acts as both a delimiter and an indicator for\n            // the next object.\n        }\n        return new CollectionNode(objects);\n    }\n    /**\n     * Skips tokens until the next collection item (COLLECTION_START token) or section end.\n     * This is used for error recovery in collection parsing.\n     */\n    skipToNextCollectionItem() {\n        // Skip tokens until we find next `~` (COLLECTION_START) or section end\n        while (this.peek() &&\n            !this.match(ASTParser.COLLECTION_OR_SECTION_ARRAY)) {\n            this.advance();\n        }\n    }\n    /**\n     * Skips tokens to the next synchronization point after an error.\n     * Synchronization points are terminator tokens (structural boundaries).\n     * This enables error recovery by finding a safe place to resume parsing.\n     */\n    skipToNextSyncPoint() {\n        while (this.peek()) {\n            const token = this.peek();\n            if (!token)\n                break;\n            // Check if we've reached a terminator token (structural boundary at token level)\n            // Note: We check token.type (e.g., \"COMMA\", \"COLON\") not raw characters\n            // because we're in the parser working with tokens, not the tokenizer working with chars.\n            // Use isTerminator() for token types, not isCharTerminator() for characters.\n            if (isTerminator(token.type)) {\n                break; // Found a synchronization point, stop here\n            }\n            this.advance();\n        }\n    }\n    processObject(isCollectionContext) {\n        const obj = this.parseObject(true);\n        // Even after parsing the object, if there is still a token\n        // left, it means that the object is not closed properly.\n        const token = this.peek();\n        this.checkForPendingTokens(token, isCollectionContext);\n        // If there is only one member in the object, and it has no key,\n        // then the object is not an open object. In this case, we need\n        // unwrap the object\n        // For example. { {} } should be unwrapped to {}\n        // {} should be unwrapped to []\n        // 'a' should be unwrapped to [a]\n        // 'a', 'b', 'c' should be unwrapped to [a, b, c]\n        // {}, 'b', 'c' should be unwrapped to [{}, b, c]\n        // {{}} should be unwrapped to [{}]\n        if (obj.children.length === 1) {\n            const firstMember = obj.children[0];\n            if (firstMember && !firstMember.key && firstMember.value) {\n                if (firstMember.value instanceof ObjectNode) {\n                    return firstMember.value;\n                }\n            }\n        }\n        return obj;\n    }\n    checkForPendingTokens(token, isCollectionContext) {\n        if (!token)\n            return;\n        if (token.type === TokenType.SECTION_SEP)\n            return;\n        if (isCollectionContext && token.type === TokenType.COLLECTION_START)\n            return;\n        throw new SyntaxError(ErrorCodes.unexpectedToken, `Unexpected token '${token.value}'. Expected end of section or start of new collection item '~'.`, token, false);\n    }\n    parseObject(isOpenObject) {\n        const members = [];\n        let openBracket = this.peek();\n        if (isOpenObject) {\n            openBracket = null;\n        }\n        if (!isOpenObject && !this.advanceIfMatch(ASTParser.CURLY_OPEN_ARRAY)) {\n            assertNever(\"The caller must ensure that this function is called \" +\n                \"only when the next token is {\");\n        }\n        let index = 0;\n        let done = false;\n        let expectingValueAfterComma = true; // After '{', we're expecting the first value (or empty position)\n        while (!done) {\n            const nextToken = this.peek();\n            // DEBUG\n            const DEBUG_PARSE_OBJECT = false; // Set to true to debug\n            if (DEBUG_PARSE_OBJECT && members.length < 3) {\n                const prevToken = this.tokens[this.current - 1];\n                console.log(`  loop: current=${this.current}, next=${nextToken?.type}, prev=${prevToken?.type}, expecting=${expectingValueAfterComma}, members=${members.length}`);\n            }\n            if (!nextToken || this.match([TokenType.CURLY_CLOSE, TokenType.COLLECTION_START, TokenType.SECTION_SEP])) {\n                // If we were expecting a value after a comma but hit end/close, that position is empty\n                if (expectingValueAfterComma) {\n                    const prevToken = this.tokens[this.current - 1];\n                    if (prevToken && prevToken.type === TokenType.COMMA) {\n                        this.pushUndefinedMember(members, prevToken);\n                    }\n                }\n                done = true;\n                break;\n            }\n            else if (nextToken.type === TokenType.COMMA) {\n                // If we're expecting a value but got a comma, the current position is empty\n                if (expectingValueAfterComma) {\n                    // Use the comma token itself for position tracking\n                    this.pushUndefinedMember(members, nextToken);\n                }\n                // Consume the comma and mark that we're now expecting a value\n                this.advance();\n                expectingValueAfterComma = true;\n                continue;\n            }\n            else {\n                // We found a value\n                // The member must be preceded by a comma, open bracket, or\n                // the beginning of the object. Otherwise it is invalid\n                // For example, { a: 1, b: 2 } is valid, but { a: 1 b: 2 } is not\n                if (index > 0) {\n                    if (!this.matchPrev([TokenType.COMMA, TokenType.CURLY_OPEN])) {\n                        throw new SyntaxError(ErrorCodes.unexpectedToken, `Missing comma before '${nextToken.value}'. Object members must be separated by commas.`, nextToken, false);\n                    }\n                }\n                const member = this.parseMember();\n                members.push(member);\n                index++;\n                expectingValueAfterComma = false; // We got the value\n            }\n        }\n        // Now, expect a closing bracket if not open object\n        if (!isOpenObject) {\n            if (!this.match(ASTParser.CURLY_CLOSE_ARRAY)) {\n                throw this.createUnclosedConstructError(ErrorCodes.expectingBracket, `Missing closing brace '}'. Object must be properly closed.`, openBracket, members);\n            }\n            let closeBracket = this.peek();\n            this.advance();\n            return new ObjectNode(members, openBracket, closeBracket);\n        }\n        else {\n            return new ObjectNode(members);\n        }\n    }\n    parseMember() {\n        const leftToken = this.peek();\n        if (!leftToken) {\n            assertNever(\"The caller must ensure that this function is called \" +\n                \"only when the member has at least one token\");\n        }\n        if (this.matchNext(ASTParser.COLON_ARRAY)) {\n            const isValidKey = ASTParser.VALID_KEY_TYPES.includes(leftToken.type);\n            if (isValidKey) {\n                // Consume the key and colon\n                this.advance(2);\n                // Parse the value and return the key-value pair\n                const value = this.parseValue();\n                return new MemberNode(value, leftToken);\n            }\n            else {\n                throw new SyntaxError(ErrorCodes.invalidKey, `Invalid key '${leftToken.token}'. Object keys must be strings, numbers, booleans, or null.`, leftToken, false);\n            }\n        }\n        // If the next token is not a colon, that means it is\n        // a value without a key. In this case the key is\n        // the index of the value\n        return new MemberNode(this.parseValue());\n    }\n    parseArray() {\n        const arr = [];\n        const openBracket = this.peek();\n        if (!openBracket || openBracket.type !== TokenType.BRACKET_OPEN) {\n            throw new SyntaxError(ErrorCodes.expectingBracket, `Expected opening bracket '[' to start array but found '${openBracket?.token || 'end of input'}'.`, openBracket === null ? void 0 : openBracket, openBracket === null);\n        }\n        // Consume the opening bracket\n        this.advance();\n        while (true) {\n            const currentToken = this.peek();\n            if (!currentToken) {\n                // Unexpected end of input\n                throw this.createUnclosedConstructError(ErrorCodes.expectingBracket, `Unexpected end of input while parsing array. Expected closing bracket ']'.`, openBracket, arr);\n            }\n            if (currentToken.type === TokenType.BRACKET_CLOSE) {\n                break;\n            }\n            else if (currentToken.type === TokenType.COLLECTION_START ||\n                currentToken.type === TokenType.SECTION_SEP) {\n                // Reached a synchronization boundary without closing the array\n                throw this.createUnclosedConstructError(ErrorCodes.expectingBracket, `Missing closing bracket ']'. Array must be properly closed.`, openBracket, arr);\n            }\n            else if (currentToken.type === TokenType.COMMA) {\n                // If the next token is a comma or a closing bracket, it implies an undefined\n                // element in the array, which is not allowed. Throw an error.\n                if (this.matchNext([TokenType.COMMA, TokenType.BRACKET_CLOSE])) {\n                    const nextToken = this.tokens[this.current + 1];\n                    throw new SyntaxError(ErrorCodes.unexpectedToken, `Unexpected comma. Array elements cannot be empty - remove the extra comma or add a value.`, nextToken, false);\n                }\n                // consume the current comma\n                this.advance();\n                continue;\n            }\n            const member = this.parseMember();\n            if (member.key) {\n                arr.push(new ObjectNode([member]));\n            }\n            else {\n                arr.push(member.value);\n            }\n        }\n        // Now, expect a closing bracket\n        if (!this.match(ASTParser.BRACKET_CLOSE_ARRAY)) {\n            throw this.createUnclosedConstructError(ErrorCodes.expectingBracket, `Missing closing bracket ']'. Array must be properly closed.`, openBracket, arr);\n        }\n        const closeBracket = this.peek();\n        this.advance();\n        // Both openBracket and closeBracket are guaranteed to be Token (not null) here\n        return new ArrayNode(arr, openBracket, closeBracket);\n    }\n    parseValue() {\n        const token = this.peek();\n        if (!token) {\n            throw new SyntaxError(ErrorCodes.valueRequired, `Unexpected end of input. Expected a value (string, number, boolean, null, array, or object).`, void 0, true);\n        }\n        switch (token.type) {\n            case TokenType.STRING:\n            case TokenType.NUMBER:\n            case TokenType.BIGINT:\n            case TokenType.DECIMAL:\n            case TokenType.BOOLEAN:\n            case TokenType.NULL:\n            case TokenType.DATETIME: {\n                const node = new TokenNode(token);\n                this.advance();\n                return node;\n            }\n            case TokenType.BRACKET_OPEN:\n                return this.parseArray();\n            case TokenType.CURLY_OPEN:\n                return this.parseObject(false);\n            case TokenType.ERROR: {\n                // Handle error tokens from tokenizer (e.g., unterminated strings)\n                // The current node becomes invalid, so we create an ErrorNode and skip to next sync point\n                const errorValue = token.value;\n                const errorNode = new ErrorNode(errorValue.originalError, token);\n                this.errors.push(errorValue.originalError); // Add to error collection\n                this.advance(); // Move past the error token\n                // Skip to next synchronization boundary (collection/section delimiter or comma)\n                // This helps recover from the error and continue parsing the next valid item\n                this.skipToNextSyncPoint();\n                return errorNode;\n            }\n            default:\n                throw new SyntaxError(ErrorCodes.unexpectedToken, `Unexpected token '${token.value}'. Expected a valid value (string, number, boolean, null, array, or object).`, token, token === null);\n        }\n    }\n    pushUndefinedMember(members, curerntCommaToken) {\n        const valueNode = curerntCommaToken.clone();\n        valueNode.type = TokenType.UNDEFINED;\n        valueNode.value = void 0;\n        const member = new MemberNode(new TokenNode(valueNode));\n        members.push(member);\n    }\n    /**\n     * Type guard to check if a token is valid (not null)\n     */\n    isValidToken(token) {\n        return token !== null;\n    }\n    /**\n     * Returns the current token without advancing the current index\n     * @returns {Token} the current token or null if eof is reached\n     */\n    peek() {\n        return this.current < this.tokens.length ? this.tokens[this.current] : null;\n    }\n    /**\n     * Advances the current token index by the given number of steps\n     */\n    advance(steps = 1) {\n        this.current += steps;\n    }\n    /**\n     * Checks if the current token matches any of the given types.\n     * If a current token is not available, returns false.\n     * @param types - Array of token types to match against\n     * @returns true if current token matches any of the given types\n     */\n    match(types) {\n        const currentToken = this.peek();\n        if (this.isValidToken(currentToken) && types.includes(currentToken.type)) {\n            return true;\n        }\n        return false;\n    }\n    matchPrev(types) {\n        const prevToken = this.tokens[this.current - 1];\n        if (this.isValidToken(prevToken) && types.includes(prevToken.type)) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Match the next token in the stream without advancing the current index.\n     * If the next token matches any of the given types, returns true, otherwise returns false.\n     * If the next token is not available, returns false.\n     * @param types - Array of token types to match against\n     * @returns true if next token matches any of the given types\n     */\n    matchNext(types) {\n        if (this.current + 1 >= this.tokens.length) {\n            return false;\n        }\n        const nextToken = this.tokens[this.current + 1];\n        if (this.isValidToken(nextToken) && types.includes(nextToken.type)) {\n            return true;\n        }\n        return false;\n    }\n    advanceIfMatch(types) {\n        if (this.match(types)) {\n            this.advance();\n            return true;\n        }\n        return false;\n    }\n}\n// Cached arrays for performance optimization\nASTParser.CURLY_OPEN_ARRAY = [TokenType.CURLY_OPEN];\nASTParser.CURLY_CLOSE_ARRAY = [TokenType.CURLY_CLOSE];\nASTParser.BRACKET_OPEN_ARRAY = [TokenType.BRACKET_OPEN];\nASTParser.BRACKET_CLOSE_ARRAY = [TokenType.BRACKET_CLOSE];\nASTParser.COLLECTION_START_ARRAY = [TokenType.COLLECTION_START];\nASTParser.SECTION_SEP_ARRAY = [TokenType.SECTION_SEP];\nASTParser.COMMA_ARRAY = [TokenType.COMMA];\nASTParser.COLON_ARRAY = [TokenType.COLON];\nASTParser.COLLECTION_OR_SECTION_ARRAY = [TokenType.COLLECTION_START, TokenType.SECTION_SEP];\nASTParser.VALID_KEY_TYPES = [\n    TokenType.STRING,\n    TokenType.NUMBER,\n    TokenType.BOOLEAN,\n    TokenType.NULL,\n];\nexport default ASTParser;\n","class ParserOptions {\n    constructor(o = {}) {\n        this.continueOnError = o.continueOnError || false;\n        this.allowEmptyRecords = o.allowEmptyRecords || false;\n        this.numberOfSections = o.numberOfSections || 0;\n        this.headerOnly = o.headerOnly || false;\n        this.dataOnly = o.dataOnly || false;\n        this.skipEmptyLines = o.skipEmptyLines || false;\n        this.allowVariables = o.allowVariables || false;\n        this.trueTokens = o.trueTokens || ['true', 'T'];\n        this.falseTokens = o.falseTokens || ['false', 'F'];\n    }\n}\nexport default ParserOptions;\n","import Definitions from '../core/definitions';\nimport Document from '../core/document';\nimport Header from '../core/header';\nimport Section from '../core/section';\nimport SectionCollection from '../core/section-collection';\nimport assertNever from '../errors/asserts/asserts';\nimport InternetObjectError from '../errors/io-error';\nimport ErrorCodes from '../errors/io-error-codes';\nimport compileObject from '../schema/compile-object';\nimport processSchema from '../schema/processor';\nimport Schema from '../schema/schema';\nimport Tokenizer from './tokenizer';\nimport TokenType from './tokenizer/token-types';\nimport ASTParser from './ast-parser';\nimport CollectionNode from './nodes/collections';\nimport ObjectNode from './nodes/objects';\nimport ParserOptions from './parser-options';\nimport ErrorNode from './nodes/error';\nexport default function parse(source, defs, errorCollector, options) {\n    let externalDefs = null;\n    let schema = null;\n    let o = options || new ParserOptions();\n    // Argument shifting for backward compatibility\n    // If 2nd arg is ParserOptions (legacy call: parse(source, options))\n    if (defs && !(defs instanceof Definitions) && typeof defs === 'object' && 'continueOnError' in defs) {\n        o = defs;\n        externalDefs = null;\n    }\n    // If 2nd arg is Definitions (legacy call: parse(source, defs, options))\n    else if (defs instanceof Definitions) {\n        externalDefs = defs;\n        // If 3rd arg is ParserOptions\n        if (errorCollector && !Array.isArray(errorCollector) && typeof errorCollector === 'object') {\n            o = errorCollector;\n            errorCollector = undefined;\n        }\n    }\n    // If 2nd arg is Schema or string (new call: parse(source, schema, ...))\n    else if (defs instanceof Schema || typeof defs === 'string') {\n        schema = defs;\n    }\n    // If 3rd arg is ParserOptions (legacy call: parse(source, defs, options))\n    if (errorCollector && !Array.isArray(errorCollector) && typeof errorCollector === 'object') {\n        o = errorCollector;\n        errorCollector = undefined;\n    }\n    // Tokenize the source\n    const tokenizer = new Tokenizer(source);\n    const tokens = tokenizer.tokenize();\n    // If the source is empty, then return empty document\n    if (tokens.length === 0) {\n        return new Document(new Header(), new SectionCollection());\n    }\n    // Parse the tokens into AST - optimize for simple cases\n    const parser = new ASTParser(tokens);\n    const docNode = parser.parse();\n    // Extract errors from docNode for transfer to Document\n    const errors = docNode.getErrors();\n    // Create document with optimized initialization\n    const doc = new Document(new Header(), new SectionCollection(), errors);\n    // If the docNode contains header, then parse it\n    if (docNode.header) {\n        if (docNode.header.child) {\n            // If ObjectNode, it is a default schema\n            //\n            // name, age, address  # <-- This is a schema\n            // ---\n            if (docNode.header.child instanceof ObjectNode) {\n                const schema = compileObject(\"schema\", docNode.header.child);\n                if (schema instanceof Schema) {\n                    doc.header.definitions?.push(\"$schema\", schema, true);\n                    doc.header.schema = schema; // Set as the default schema\n                }\n                else {\n                    assertNever(schema);\n                }\n            }\n            // If CollectionNode, it's always definitions (may include $schema, @variables, or regular key-values)\n            // Example: ~ $schema: {...}, ~ @x: 10, ~ success: T\n            else if (docNode.header.child instanceof CollectionNode) {\n                parseDefs(doc, docNode.header.child);\n            }\n            // Unexpected node\n            else {\n                assertNever(docNode.header.child);\n            }\n            if (externalDefs) {\n                doc.header.definitions.merge(externalDefs, false);\n            }\n        }\n        else {\n            if (externalDefs) {\n                doc.header.definitions.merge(externalDefs, false);\n            }\n        }\n        parseDataWithSchema(docNode, doc, errorCollector);\n    }\n    else {\n        if (externalDefs) {\n            doc.header.definitions.merge(externalDefs, false);\n        }\n        // If explicit schema provided, use it as default schema\n        if (schema) {\n            if (schema instanceof Schema) {\n                doc.header.schema = schema;\n            }\n            else if (typeof schema === 'string') {\n                // If schema is string, it might be a reference in definitions or IO text\n                // Since we are in parse, we can't easily compile IO text without recursion or duplication\n                // But if it's a reference, we can look it up\n                if (doc.header.definitions) {\n                    const resolved = doc.header.definitions.getV(schema);\n                    if (resolved instanceof Schema) {\n                        doc.header.schema = resolved;\n                    }\n                }\n            }\n        }\n        parseDataWithSchema(docNode, doc, errorCollector);\n    }\n    return doc;\n}\nfunction parseData(docNode, doc) {\n    for (let i = 0; i < docNode.children.length; i++) {\n        const sectionNode = docNode.children[i];\n        doc.sections?.push(new Section(sectionNode.child?.toValue(doc.header.definitions || undefined), sectionNode.name));\n    }\n}\nfunction parseDataWithSchema(docNode, doc, errorCollector) {\n    const sectionsLen = docNode.children.length;\n    // Early return if no sections\n    if (sectionsLen === 0) {\n        return;\n    }\n    for (let i = 0; i < sectionsLen; i++) {\n        const sectionNode = docNode.children[i];\n        const schemaName = sectionNode.schemaName;\n        // If no explicit schema name, fall back to document's default schema\n        const schema = schemaName\n            ? (schemaName === \"$schema\" ? doc.header.schema : doc.header.definitions?.getV(sectionNode.schemaNode))\n            : doc.header.schema;\n        if (!schema) {\n            // No schema for this section, just parse without validation\n            doc.sections?.push(new Section(sectionNode.child?.toValue(doc.header.definitions || undefined), sectionNode.name));\n            continue;\n        }\n        const result = processSchema(sectionNode.child, schema, doc.header.definitions || undefined, errorCollector);\n        doc.sections?.push(new Section(result, sectionNode.name, schemaName));\n    }\n}\nfunction parseDefs(doc, cols) {\n    const defs = doc.header.definitions;\n    if (!defs) {\n        throw new Error(\"Document header definitions not initialized. This is an internal error - please report this issue.\");\n    }\n    const schemaDefs = [];\n    for (let i = 0; i < cols.children.length; i++) {\n        const child = cols.children[i];\n        // If child is null or undefined then skip\n        if (!child) {\n            continue;\n        }\n        if (child instanceof ErrorNode) {\n            throw new InternetObjectError(ErrorCodes.invalidDefinition, `Invalid definition: ${child.error.message}`, child);\n        }\n        // Must be an object node\n        if (!(child instanceof ObjectNode)) {\n            assertNever(\"Invalid definition, must be object\");\n        }\n        // Type assertion after instance check - TypeScript now knows child is ObjectNode\n        const objectNode = child;\n        // Must not be null\n        if (objectNode.children[0] === null) {\n            assertNever(\"Invalid definition\");\n        }\n        // Must have only one child\n        if (objectNode.children.length !== 1) {\n            // throw new InternetObjectError(ErrorCodes.invalidDefinition, objectNode.children?.[1], objectNode.children?[1])\n        }\n        const memberNode = objectNode.children[0];\n        // Must have a key\n        if (!memberNode.key) {\n            throw new InternetObjectError(ErrorCodes.invalidDefinition, `Invalid definition: missing key. Each definition must have a key (e.g., '$schema: {...}' or '@variable: value').`, memberNode.value);\n        }\n        const keyToken = memberNode.key;\n        // Key must be a string\n        if (keyToken.type !== TokenType.STRING) {\n            throw new Error(\"Invalid typedef definition: key must be a string.\");\n        }\n        let key = keyToken.value;\n        // If key starts with $, then it is a schema. Dont compile it now,\n        // just keep it as it is. After all the definitions are parsed, compile\n        // the variable schemas.\n        if (key.startsWith('$')) {\n            defs.push(key, memberNode.value, true);\n            schemaDefs.push({ key, schemaDef: memberNode.value });\n            continue;\n        }\n        // If key starts with @, then it is a variable. Keep it as it is\n        if (key.startsWith('@')) {\n            defs.push(key, memberNode.value, false, true);\n            continue;\n        }\n        let value = objectNode.children[0].value;\n        defs.push(key, value.toValue(doc.header.definitions || undefined));\n    }\n    // Compile the schema definitions\n    for (let i = 0; i < schemaDefs.length; i++) {\n        const { key, schemaDef } = schemaDefs[i];\n        const def = compileObject(key, schemaDef, defs);\n        defs.set(key, def);\n    }\n}\n","import parse from \".\";\nexport default function parseDefinitions(source, externalDefs, options) {\n    source = source.trim();\n    if (!source) {\n        return null;\n    }\n    if (!source.endsWith(\"---\")) {\n        source += \"\\n---\";\n    }\n    // If the definition does not start with ~, then it must be\n    // a default schema. So, add \"~ $schema: \" in the beginning to make it a\n    // definition.\n    // if (!source.startsWith(\"~\")) {\n    //   source = \"~ $schema: \" + source\n    // }\n    const doc = parse(source, externalDefs, undefined, options);\n    return doc.header.definitions;\n}\n","import Collection from '../core/collection';\nimport InternetObject from '../core/internet-object';\nimport ErrorCodes from '../errors/io-error-codes';\nimport IOError from '../errors/io-error';\nimport ValidationError from '../errors/io-validation-error';\nimport Schema from './schema';\nimport TypedefRegistry from './typedef-registry';\nimport TokenNode from '../parser/nodes/tokens';\n/**\n * Resolves variable references in memberDef fields like default, min, max, choices.\n * Variables are strings starting with @ that reference definitions.\n */\nfunction _resolveMemberDefVariables(memberDef, defs) {\n    if (!memberDef || !defs)\n        return memberDef;\n    const resolved = { ...memberDef };\n    // Resolve default value if it's a variable reference\n    if (typeof resolved.default === 'string' && resolved.default.startsWith('@')) {\n        resolved.default = defs.getV(resolved.default);\n        // Unwrap TokenNode if needed\n        if (resolved.default instanceof TokenNode) {\n            resolved.default = resolved.default.value;\n        }\n    }\n    // Resolve choices if they contain variable references\n    if (Array.isArray(resolved.choices)) {\n        resolved.choices = resolved.choices.map(choice => {\n            if (typeof choice === 'string' && choice.startsWith('@')) {\n                let resolved = defs.getV(choice);\n                return resolved instanceof TokenNode ? resolved.value : resolved;\n            }\n            return choice;\n        });\n    }\n    // Resolve min/max if they're variable references\n    if (typeof resolved.min === 'string' && resolved.min.startsWith('@')) {\n        resolved.min = defs.getV(resolved.min);\n        if (resolved.min instanceof TokenNode) {\n            resolved.min = resolved.min.value;\n        }\n    }\n    if (typeof resolved.max === 'string' && resolved.max.startsWith('@')) {\n        resolved.max = defs.getV(resolved.max);\n        if (resolved.max instanceof TokenNode) {\n            resolved.max = resolved.max.value;\n        }\n    }\n    return resolved;\n}\n/**\n * Loads and validates a plain JavaScript object according to schema.\n * Uses TypeDef.load() methods to validate each field.\n *\n * @param data - Plain JavaScript object to validate\n * @param schema - Schema to validate against (or schema name if defs provided)\n * @param defs - Optional definitions for variable resolution and schema lookup\n * @returns InternetObject with validated data\n * @throws ValidationError if data doesn't conform to schema\n *\n * @example\n * ```typescript\n * const schema = compileSchema('person', '{ name: string, age: number }')\n * const data = { name: 'Alice', age: 28 }\n * const obj = loadObject(data, schema)\n * ```\n */\nexport function loadObject(data, schema, defs) {\n    // Resolve schema if it's a string reference\n    if (typeof schema === 'string') {\n        if (!defs) {\n            throw new IOError(ErrorCodes.definitionsRequired, `Schema reference '${schema}' requires definitions`);\n        }\n        const resolvedSchema = defs.getV(schema);\n        if (!(resolvedSchema instanceof Schema)) {\n            throw new IOError(ErrorCodes.schemaNotFound, `Schema '${schema}' not found or invalid`);\n        }\n        schema = resolvedSchema;\n    }\n    // Type check\n    if (typeof data !== 'object' || data === null || Array.isArray(data)) {\n        throw new ValidationError(ErrorCodes.invalidObject, `Expecting an object value but found ${Array.isArray(data) ? 'array' : typeof data}`);\n    }\n    return _loadObject(data, schema, defs);\n}\n/**\n * Internal helper to loadObject an object with resolved schema\n */\nfunction _loadObject(data, schema, defs) {\n    const result = new InternetObject();\n    const processedNames = new Set();\n    // Process schema-defined members\n    for (const name of schema.names) {\n        const memberDef = _resolveMemberDefVariables(schema.defs[name], defs);\n        const value = data[name];\n        const typeDef = TypedefRegistry.get(memberDef.type);\n        if (!typeDef) {\n            throw new IOError(ErrorCodes.invalidType, `Type '${memberDef.type}' is not registered.`);\n        }\n        // Use loadObject() method if available\n        if ('load' in typeDef && typeDef.load) {\n            try {\n                const loadedValue = typeDef.load(value, memberDef, defs);\n                if (loadedValue !== undefined) {\n                    result.set(name, loadedValue);\n                }\n            }\n            catch (error) {\n                // Add context to validation errors\n                if (error instanceof ValidationError) {\n                    // Enhance error message with field name if not already present\n                    if (!error.message.includes(name)) {\n                        error.message = `Error in field '${name}': ${error.message}`;\n                    }\n                }\n                throw error;\n            }\n        }\n        else {\n            // Fallback for types without loadObject() - use value as-is if present\n            if (value !== undefined) {\n                result.set(name, value);\n            }\n            else if (memberDef.default !== undefined) {\n                result.set(name, memberDef.default);\n            }\n            else if (!memberDef.optional) {\n                throw new ValidationError(ErrorCodes.valueRequired, `Value required for field '${name}'`);\n            }\n        }\n        processedNames.add(name);\n    }\n    // Handle additional properties if schema is open\n    if (schema.open) {\n        for (const key in data) {\n            if (!processedNames.has(key)) {\n                let memberDef;\n                // Use schema.open constraints if it's a MemberDef, otherwise type 'any'\n                if (typeof schema.open === 'object' && schema.open.type) {\n                    memberDef = { ...schema.open, path: key };\n                }\n                else {\n                    memberDef = { type: 'any', path: key };\n                }\n                const typeDef = TypedefRegistry.get(memberDef.type);\n                if (typeDef && 'load' in typeDef && typeDef.load) {\n                    const loadedValue = typeDef.load(data[key], memberDef, defs);\n                    if (loadedValue !== undefined) {\n                        result.set(key, loadedValue);\n                    }\n                }\n                else {\n                    result.set(key, data[key]);\n                }\n            }\n        }\n    }\n    else {\n        // Check for unexpected properties in closed schemas\n        for (const key in data) {\n            if (!processedNames.has(key)) {\n                throw new ValidationError(ErrorCodes.unknownMember, `The ${schema.name ? `${schema.name} ` : ''}schema does not define a member named '${key}'.`);\n            }\n        }\n    }\n    return result;\n}\n/**\n * Loads and validates an array of JavaScript objects as a collection.\n * Collects validation errors for individual items while continuing to process the rest.\n *\n * @param dataArray - Array of plain JavaScript objects to validate\n * @param schema - Schema to validate each item against\n * @param defs - Optional definitions for variable resolution\n * @param errorCollector - Optional array to collect validation errors\n * @returns Collection with validated InternetObjects and error objects\n *\n * @example\n * ```typescript\n * const schema = compileSchema('person', '{ name: string, age: number }')\n * const data = [\n *   { name: 'Alice', age: 28 },\n *   { name: 'Bob', age: 'invalid' }  // Will create error object\n * ]\n * const errors: Error[] = []\n * const collection = loadCollection(data, schema, undefined, errors)\n * // collection[0] is valid InternetObject\n * // collection[1] is error object with collectionIndex: 1\n * // errors[0] contains the validation error details\n * ```\n */\nexport function loadCollection(dataArray, schema, defs, errorCollector) {\n    // Resolve schema if it's a string reference\n    if (typeof schema === 'string') {\n        if (!defs) {\n            throw new IOError(ErrorCodes.definitionsRequired, `Schema reference '${schema}' requires definitions`);\n        }\n        const resolvedSchema = defs.getV(schema);\n        if (!(resolvedSchema instanceof Schema)) {\n            throw new IOError(ErrorCodes.schemaNotFound, `Schema '${schema}' not found or invalid`);\n        }\n        schema = resolvedSchema;\n    }\n    // Type check\n    if (!Array.isArray(dataArray)) {\n        throw new ValidationError(ErrorCodes.notAnArray, `Expecting an array but found ${typeof dataArray}`);\n    }\n    const collection = new Collection();\n    for (let i = 0; i < dataArray.length; i++) {\n        try {\n            const item = loadObject(dataArray[i], schema, defs);\n            collection.push(item);\n        }\n        catch (error) {\n            if (error instanceof Error) {\n                // Attach collectionIndex for boundary context\n                error.collectionIndex = i;\n                // Add to error collector if provided\n                if (errorCollector) {\n                    errorCollector.push(error);\n                }\n                // Add to collection's internal error list\n                collection.errors.push(error);\n                // Create error object to maintain collection structure\n                // This allows downstream code to know which items failed\n                const errorObj = {\n                    __error: true,\n                    category: error instanceof ValidationError ? 'validation' : 'runtime',\n                    message: error.message,\n                    collectionIndex: i\n                };\n                collection.push(errorObj);\n            }\n            else {\n                // Re-throw non-Error exceptions\n                throw error;\n            }\n        }\n    }\n    return collection;\n}\n","import Schema from '../schema';\nimport Definitions from '../../core/definitions';\n/**\n * Detects if an object has dynamic keys (acts like a collection/map).\n *\n * Pattern: An object has dynamic keys if:\n * 1. All values are non-null objects (not arrays, not primitives)\n * 2. All objects share at least one common key\n *\n * Examples of dynamic keys:\n * - { \"1\": {recode:\"0\"}, \"2\": {recode:\"1\"} }  - numeric keys, share \"recode\"\n * - { \"QID1\": {name:\"Q1\"}, \"QID2\": {name:\"Q2\"} }  - ID keys, share \"name\"\n *\n * Examples of static keys (NOT dynamic):\n * - { name: \"John\", age: 30 }  - values are primitives\n * - { user: {name}, settings: {theme} }  - no common keys\n */\nfunction isDynamicKeyObject(obj) {\n    const keys = Object.keys(obj);\n    if (keys.length < 2)\n        return false;\n    const values = keys.map(k => obj[k]);\n    // Check 1: All values must be non-null objects (not arrays)\n    const allObjects = values.every(v => v !== null &&\n        typeof v === 'object' &&\n        !Array.isArray(v));\n    if (!allObjects)\n        return false;\n    // Check 2: Find common keys across ALL objects\n    const allValueKeys = values.map(v => new Set(Object.keys(v)));\n    const firstKeys = allValueKeys[0];\n    // Find keys that exist in ALL objects\n    const commonKeys = [...firstKeys].filter(key => allValueKeys.every(keySet => keySet.has(key)));\n    return commonKeys.length >= 1;\n}\n/**\n * Infers Internet Object definitions from plain JavaScript data.\n *\n * This utility analyzes the structure and types of the input data\n * and generates proper Definitions with:\n * - `$schema` for the root object (default schema)\n * - Named schemas like `$borrowedBy`, `$membershipType` for nested objects\n *\n * Implements Deep Multi-Pass Inference:\n * - Phase 1: Discovery - traverse data and identify all schema types\n * - Phase 2: Collection - gather ALL instances of each schema globally\n * - Phase 3: Conflict Resolution - resolve name conflicts for same key at different paths\n * - Phase 4: Merging - merge all instances to build comprehensive schemas\n * - Phase 5: Finalization - set up definitions with proper ordering\n *\n * @param data - The JavaScript data to infer definitions from\n * @returns InferredDefs containing Definitions and the root schema\n */\nexport function inferDefs(data) {\n    const ctx = {\n        definitions: new Definitions(),\n        schemaRegistry: new Map(),\n        schemaInstances: new Map(),\n        resolvedNames: new Map(),\n        pendingMerge: new Set(),\n        dynamicPaths: new Set()\n    };\n    // Phase 0: Pre-scan to identify ALL dynamic paths across the entire data structure\n    // This ensures that even single-item siblings are treated as dynamic if any sibling has multiple items\n    preScanDynamicPaths(data, [], ctx);\n    // Phase 1 & 2: Discovery and Collection\n    // First pass to identify schema types and collect all instances with paths\n    collectSchemaInstances(data, '$schema', [], ctx);\n    // Phase 3: Resolve schema name conflicts\n    resolveSchemaNameConflicts(ctx);\n    // Phase 4: Merge all collected instances for each resolved schema\n    mergeAllSchemaInstances(ctx);\n    // Phase 5: Build the root schema with all nested schemas properly set up\n    const rootSchema = buildFinalSchema(data, '$schema', [], ctx);\n    // Set the root schema as $schema (default schema)\n    ctx.definitions.push('$schema', rootSchema, true, false);\n    return { definitions: ctx.definitions, rootSchema };\n}\n/**\n * Phase 0: Pre-scan to identify all dynamic paths before main collection.\n * This ensures that all sibling paths are treated consistently - if ANY instance\n * at a path has dynamic keys, ALL instances at that path will be treated as dynamic.\n */\nfunction preScanDynamicPaths(data, currentPath, ctx) {\n    if (data === null || data === undefined)\n        return;\n    if (Array.isArray(data)) {\n        // Scan array items\n        for (const item of data) {\n            if (typeof item === 'object' && item !== null && !Array.isArray(item)) {\n                preScanDynamicPaths(item, currentPath, ctx);\n            }\n        }\n        return;\n    }\n    if (typeof data === 'object') {\n        for (const [key, value] of Object.entries(data)) {\n            if (value === null || value === undefined)\n                continue;\n            const childPath = [...currentPath, key];\n            const pathKey = childPath.join('.');\n            if (Array.isArray(value)) {\n                // Scan array items\n                for (const item of value) {\n                    if (typeof item === 'object' && item !== null && !Array.isArray(item)) {\n                        preScanDynamicPaths(item, childPath, ctx);\n                    }\n                }\n            }\n            else if (typeof value === 'object') {\n                // Check if this looks like a dynamic-key object\n                if (isDynamicKeyObject(value)) {\n                    ctx.dynamicPaths.add(pathKey);\n                }\n                // Recursively scan into the object's values\n                // For dynamic objects, we scan into each value but NOT include the dynamic key in path\n                // Pass childPath (the dynamic object's path) so nested properties have correct paths\n                if (ctx.dynamicPaths.has(pathKey) || isDynamicKeyObject(value)) {\n                    for (const childValue of Object.values(value)) {\n                        if (typeof childValue === 'object' && childValue !== null && !Array.isArray(childValue)) {\n                            preScanDynamicPaths(childValue, childPath, ctx);\n                        }\n                    }\n                }\n                else {\n                    // Regular object - scan with full path\n                    preScanDynamicPaths(value, childPath, ctx);\n                }\n            }\n        }\n    }\n}\n/**\n * Phase 1 & 2: Recursively traverse data to collect all schema instances with paths\n */\nfunction collectSchemaInstances(data, baseName, currentPath, ctx) {\n    if (data === null || data === undefined) {\n        return;\n    }\n    if (Array.isArray(data)) {\n        // For arrays of objects, collect all objects as instances of the item schema\n        const objects = data.filter(item => typeof item === 'object' && item !== null && !Array.isArray(item));\n        if (objects.length > 0) {\n            // All objects in this array are instances of the same schema\n            for (const obj of objects) {\n                addSchemaInstance(baseName, currentPath, obj, ctx);\n                // Recursively collect nested instances\n                collectNestedInstances(obj, currentPath, ctx);\n            }\n        }\n        return;\n    }\n    if (typeof data === 'object') {\n        // Single object - add as instance and collect nested\n        addSchemaInstance(baseName, currentPath, data, ctx);\n        collectNestedInstances(data, currentPath, ctx);\n    }\n}\n/**\n * Recursively collect schema instances from nested properties\n */\nfunction collectNestedInstances(obj, parentPath, ctx) {\n    for (const [key, value] of Object.entries(obj)) {\n        if (value === null || value === undefined)\n            continue;\n        const currentPath = [...parentPath, key];\n        if (Array.isArray(value)) {\n            // Array property - collect instances with singularized schema name\n            const itemBaseName = `$${singularize(key)}`;\n            const objects = value.filter(item => typeof item === 'object' && item !== null && !Array.isArray(item));\n            for (const item of objects) {\n                addSchemaInstance(itemBaseName, currentPath, item, ctx);\n                // Recursively collect from nested arrays\n                collectNestedInstances(item, currentPath, ctx);\n            }\n        }\n        else if (typeof value === 'object') {\n            // Check if this path is marked as dynamic (from pre-scan phase)\n            // OR if it currently looks like a dynamic-key object\n            const pathKey = currentPath.join('.');\n            const isDynamic = ctx.dynamicPaths.has(pathKey) || isDynamicKeyObject(value);\n            if (isDynamic) {\n                // Ensure this path is marked as dynamic\n                ctx.dynamicPaths.add(pathKey);\n                // Treat as collection - all values are instances of the same schema\n                const itemBaseName = `$${singularize(key)}`;\n                for (const [dynamicKey, dynamicValue] of Object.entries(value)) {\n                    if (dynamicValue !== null && typeof dynamicValue === 'object' && !Array.isArray(dynamicValue)) {\n                        // Add each dynamic-keyed object as an instance of the singularized schema\n                        addSchemaInstance(itemBaseName, currentPath, dynamicValue, ctx);\n                        // Recursively collect from nested objects within dynamic values\n                        // IMPORTANT: Do NOT include dynamicKey in path - this ensures all nested\n                        // objects merge into the same schema regardless of which dynamic key they're under\n                        collectNestedInstances(dynamicValue, currentPath, ctx);\n                    }\n                }\n            }\n            else {\n                // Regular nested object - collect with key as schema name\n                const nestedBaseName = `$${key}`;\n                addSchemaInstance(nestedBaseName, currentPath, value, ctx);\n                // Recursively collect from nested objects\n                collectNestedInstances(value, currentPath, ctx);\n            }\n        }\n    }\n}\n/**\n * Add an object as an instance of a schema type with path tracking\n */\nfunction addSchemaInstance(baseName, fullPath, obj, ctx) {\n    if (!ctx.schemaInstances.has(baseName)) {\n        ctx.schemaInstances.set(baseName, []);\n    }\n    const instanceInfo = {\n        baseName,\n        fullPath: [...fullPath],\n        instance: obj\n    };\n    ctx.schemaInstances.get(baseName).push(instanceInfo);\n    ctx.pendingMerge.add(baseName);\n}\n/**\n * Phase 3: Resolve schema name conflicts\n * When the same base name appears at different paths with different structures,\n * instead of creating qualified names, we fall back to plain 'object' type.\n *\n * Strategy:\n * - Same path, varying structures  merge into ONE schema (multi-pass handles optionality)\n * - Different paths, same structure  share schema name\n * - Different paths, different structures  mark as conflicted (use plain 'object')\n */\nfunction resolveSchemaNameConflicts(ctx) {\n    for (const [baseName, instances] of ctx.schemaInstances) {\n        if (baseName === '$schema') {\n            // Root schema doesn't need conflict resolution\n            for (const info of instances) {\n                info.resolvedName = '$schema';\n                ctx.resolvedNames.set(pathKey(info.fullPath, baseName), '$schema');\n            }\n            continue;\n        }\n        // Group instances by their path signature\n        const pathGroups = groupInstancesByPath(instances);\n        if (pathGroups.size === 1) {\n            // All instances at same path - no conflict, use base name\n            // Multi-pass merging will handle structural variations (optional fields)\n            for (const info of instances) {\n                info.resolvedName = baseName;\n                ctx.resolvedNames.set(pathKey(info.fullPath, baseName), baseName);\n            }\n        }\n        else {\n            // Multiple paths - check if structures are COMPATIBLE (have common keys)\n            // If they share at least one key, they can merge with optional fields\n            // If they share NO keys, they're truly incompatible  CONFLICT\n            // Collect all key sets from all instances\n            const allKeySets = [];\n            for (const info of instances) {\n                allKeySets.push(new Set(Object.keys(info.instance)));\n            }\n            // Find keys that exist in ALL instances\n            const firstKeys = allKeySets[0];\n            const commonKeys = [...firstKeys].filter(key => allKeySets.every(keySet => keySet.has(key)));\n            if (commonKeys.length > 0) {\n                // Compatible structures - share at least one key\n                // Multi-pass merging will handle variations (optional fields)\n                for (const info of instances) {\n                    info.resolvedName = baseName;\n                    ctx.resolvedNames.set(pathKey(info.fullPath, baseName), baseName);\n                }\n            }\n            else {\n                // No common keys at all  truly incompatible structures  CONFLICT\n                // These will fall back to plain 'object' type without schemaRef\n                for (const info of instances) {\n                    info.resolvedName = `${baseName}::CONFLICTED`;\n                    ctx.resolvedNames.set(pathKey(info.fullPath, baseName), `${baseName}::CONFLICTED`);\n                }\n            }\n        }\n    }\n}\n/**\n * Group instances by their path signature\n */\nfunction groupInstancesByPath(instances) {\n    const groups = new Map();\n    for (const info of instances) {\n        // Create a normalized path signature (remove array indices conceptually)\n        const pathSig = info.fullPath.join('.');\n        if (!groups.has(pathSig)) {\n            groups.set(pathSig, []);\n        }\n        groups.get(pathSig).push(info);\n    }\n    return groups;\n}\n/**\n * Get a signature representing the structure of an object (keys and their types)\n */\nfunction getStructureSignature(obj) {\n    const entries = Object.entries(obj)\n        .map(([key, value]) => {\n        const type = value === null ? 'null' :\n            Array.isArray(value) ? 'array' :\n                typeof value;\n        return `${key}:${type}`;\n    })\n        .sort();\n    return entries.join(',');\n}\n/**\n * Resolve conflicting names by generating qualified names from path\n */\nfunction resolveConflictingNames(baseName, pathGroups, ctx) {\n    // Sort paths by length (shorter paths get simpler names)\n    const sortedPaths = Array.from(pathGroups.keys()).sort((a, b) => {\n        const aLen = a.split('.').length;\n        const bLen = b.split('.').length;\n        return aLen - bLen;\n    });\n    // First path (shortest/root level) keeps the base name\n    const usedNames = new Set();\n    for (let i = 0; i < sortedPaths.length; i++) {\n        const pathSig = sortedPaths[i];\n        const groupInstances = pathGroups.get(pathSig);\n        let resolvedName;\n        if (i === 0) {\n            // First/shortest path keeps base name\n            resolvedName = baseName;\n        }\n        else {\n            // Generate qualified name from path\n            resolvedName = generateQualifiedName(baseName, groupInstances[0].fullPath, usedNames);\n        }\n        usedNames.add(resolvedName);\n        // Apply resolved name to all instances in this path group\n        for (const info of groupInstances) {\n            info.resolvedName = resolvedName;\n            ctx.resolvedNames.set(pathKey(info.fullPath, baseName), resolvedName);\n        }\n    }\n}\n/**\n * Generate a qualified schema name from the path\n * e.g., ['employee', 'manager', 'address'] -> '$employeeManagerAddress'\n */\nfunction generateQualifiedName(baseName, fullPath, usedNames) {\n    // Remove the $ prefix from baseName for manipulation\n    const simpleName = baseName.startsWith('$') ? baseName.slice(1) : baseName;\n    // Build qualified name from path components (excluding the last one which is the property name)\n    // e.g., path=['employee', 'manager', 'address'] -> 'employeeManagerAddress'\n    const pathParts = fullPath.slice(0, -1); // Exclude the last element (the property itself)\n    if (pathParts.length === 0) {\n        // No parent path, keep base name (shouldn't happen in conflict case)\n        return baseName;\n    }\n    // Build camelCase qualified name\n    const qualifiedParts = pathParts.map((part, index) => {\n        // Singularize array parent names\n        const singularPart = singularize(part);\n        if (index === 0) {\n            return singularPart.toLowerCase();\n        }\n        return capitalize(singularPart);\n    });\n    let qualifiedName = `$${qualifiedParts.join('')}${capitalize(simpleName)}`;\n    // Ensure uniqueness\n    let counter = 1;\n    let uniqueName = qualifiedName;\n    while (usedNames.has(uniqueName)) {\n        uniqueName = `${qualifiedName}${counter++}`;\n    }\n    return uniqueName;\n}\n/**\n * Create a unique key for path + baseName combination\n */\nfunction pathKey(fullPath, baseName) {\n    return `${fullPath.join('.')}::${baseName}`;\n}\n/**\n * Capitalize first letter of a string\n */\nfunction capitalize(str) {\n    if (!str)\n        return str;\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\n/**\n * Phase 4: Merge all collected instances for each resolved schema type\n */\nfunction mergeAllSchemaInstances(ctx) {\n    // Group instances by their resolved name\n    const resolvedGroups = new Map();\n    for (const instances of ctx.schemaInstances.values()) {\n        for (const info of instances) {\n            const resolvedName = info.resolvedName || info.baseName;\n            if (!resolvedGroups.has(resolvedName)) {\n                resolvedGroups.set(resolvedName, []);\n            }\n            resolvedGroups.get(resolvedName).push(info);\n        }\n    }\n    // Build merged schema for each resolved name\n    for (const [resolvedName, instances] of resolvedGroups) {\n        if (instances.length === 0)\n            continue;\n        // Skip conflicted schemas - they won't be referenced anyway\n        if (resolvedName.endsWith('::CONFLICTED')) {\n            continue;\n        }\n        // Get the representative path for this schema (from first instance)\n        const representativePath = instances[0].fullPath;\n        // Extract just the instance objects for merging\n        const objects = instances.map(info => info.instance);\n        // Build merged schema from all instances, passing the parent path context\n        const mergedSchema = buildMergedSchema(objects, resolvedName, representativePath, ctx);\n        ctx.schemaRegistry.set(resolvedName, mergedSchema);\n        // Don't add $schema to definitions yet (handled separately)\n        if (resolvedName !== '$schema') {\n            ctx.definitions.push(resolvedName, mergedSchema, true, false);\n        }\n    }\n    ctx.pendingMerge.clear();\n}\n/**\n * Build a merged schema from multiple object instances using multi-pass rules\n */\nfunction buildMergedSchema(objects, schemaName, parentPath, ctx) {\n    const memberDefs = new Map();\n    const memberOrder = [];\n    const seenInIteration = new Map();\n    for (let i = 0; i < objects.length; i++) {\n        const obj = objects[i];\n        const keysInThisObject = new Set(Object.keys(obj));\n        // Process each key in current object\n        for (const [key, value] of Object.entries(obj)) {\n            if (!memberDefs.has(key)) {\n                // First time seeing this key\n                // Pass the full path (parentPath + key) for proper schema ref resolution\n                const memberDef = inferMemberDefSimple(value, key, [...parentPath, key], ctx);\n                // Rule 2 & 3: New key in later iteration  optional\n                if (i > 0) {\n                    memberDef.optional = true;\n                }\n                // Rule 1 & 3: Null value  nullable\n                if (value === null) {\n                    memberDef.null = true;\n                    memberDef.type = 'any';\n                }\n                memberDefs.set(key, memberDef);\n                memberOrder.push(key);\n                seenInIteration.set(key, i);\n            }\n            else {\n                // Key already exists - merge/update\n                const existingDef = memberDefs.get(key);\n                mergeIntoMemberDef(existingDef, value, key, [...parentPath, key], ctx);\n            }\n        }\n        // Rule 4: Mark keys missing in this object as optional\n        for (const [key, def] of memberDefs) {\n            if (!keysInThisObject.has(key) && seenInIteration.get(key) < i) {\n                def.optional = true;\n            }\n        }\n    }\n    const builder = Schema.create(schemaName);\n    for (const key of memberOrder) {\n        builder.addMember(key, memberDefs.get(key));\n    }\n    return builder.build();\n}\n/**\n * Merge a new value into an existing MemberDef (Rules 5 & 6)\n */\nfunction mergeIntoMemberDef(existingDef, value, key, fullPath, ctx) {\n    // Rule 6: Null in later iteration  add nullable\n    if (value === null) {\n        existingDef.null = true;\n        return;\n    }\n    if (value === undefined) {\n        existingDef.optional = true;\n        return;\n    }\n    const newDef = inferMemberDefSimple(value, key, fullPath, ctx);\n    // Rule 5: Type mismatch  any\n    if (existingDef.type !== newDef.type && existingDef.type !== 'any') {\n        // Real type mismatch (not just null handling)\n        existingDef.type = 'any';\n        // Clear schemaRef when becoming 'any'\n        delete existingDef.schemaRef;\n    }\n    // Preserve schemaRef if both are objects with same schema\n    if (existingDef.type === 'object' && newDef.type === 'object') {\n        if (newDef.schemaRef && !existingDef.schemaRef) {\n            existingDef.schemaRef = newDef.schemaRef;\n        }\n    }\n    // Preserve schemaRef for arrays\n    if (existingDef.type === 'array' && newDef.type === 'array') {\n        if (newDef.schemaRef && !existingDef.schemaRef) {\n            existingDef.schemaRef = newDef.schemaRef;\n        }\n    }\n}\n/**\n * Simple MemberDef inference for merge phase (uses resolved schema names based on path)\n * This is used during schema merging where we need basic type information\n * and the schema names are resolved based on the path context.\n */\nfunction inferMemberDefSimple(value, path, fullPath, ctx) {\n    if (value === null) {\n        return { type: 'any', path, null: true, optional: true };\n    }\n    if (value === undefined) {\n        return { type: 'any', path, optional: true };\n    }\n    const jsType = typeof value;\n    switch (jsType) {\n        case 'string':\n            return { type: 'string', path };\n        case 'number':\n            return { type: 'number', path };\n        case 'bigint':\n            return { type: 'number', path };\n        case 'boolean':\n            return { type: 'bool', path };\n        case 'object':\n            if (Array.isArray(value)) {\n                return inferArrayMemberDefSimple(value, path, fullPath, ctx);\n            }\n            // Check if this is a dynamic key object (collection-like)\n            // Also check dynamicPaths for single-item objects that were identified as dynamic\n            // because a sibling has multiple items\n            const fullPathKey = fullPath.join('.');\n            if (isDynamicKeyObject(value) || ctx.dynamicPaths.has(fullPathKey)) {\n                // Dynamic-keyed objects (maps) should NOT have a schemaRef\n                // The schemaRef would describe the VALUE type, not the container itself\n                // When stringifying, the container should be treated as a plain object\n                // and each value will be validated/stringified according to the item schema\n                return { type: 'object', path };\n            }\n            // Regular nested object - look up the resolved name based on the full path\n            const baseName = `$${path}`;\n            const resolvedName = ctx.resolvedNames.get(pathKey(fullPath, baseName)) || baseName;\n            // If conflicted, fall back to plain object without schemaRef\n            if (resolvedName.endsWith('::CONFLICTED')) {\n                return { type: 'object', path };\n            }\n            return { type: 'object', path, schemaRef: resolvedName };\n        default:\n            return { type: 'any', path };\n    }\n}\n/**\n * Simple array MemberDef inference for merge phase\n */\nfunction inferArrayMemberDefSimple(arr, path, fullPath, ctx) {\n    if (arr.length === 0) {\n        return { type: 'array', path };\n    }\n    // Check if array contains objects\n    const hasObjects = arr.some(item => typeof item === 'object' && item !== null && !Array.isArray(item));\n    if (hasObjects) {\n        const baseName = `$${singularize(path)}`;\n        const resolvedName = ctx.resolvedNames.get(pathKey(fullPath, baseName)) || baseName;\n        // If conflicted, fall back to plain array without schemaRef\n        if (resolvedName.endsWith('::CONFLICTED')) {\n            return { type: 'array', path };\n        }\n        return { type: 'array', path, schemaRef: resolvedName };\n    }\n    // Check if array has mixed primitive types\n    const types = new Set(arr.map(item => typeof item));\n    if (types.size > 1 || arr.some(item => item === null)) {\n        return { type: 'array', path };\n    }\n    // For arrays of same-type primitives\n    return { type: 'array', path };\n}\n/**\n * Phase 5: Build the final schema structure using pre-merged schemas\n */\nfunction buildFinalSchema(data, schemaName, currentPath, ctx) {\n    // Use the pre-merged schema if available\n    if (ctx.schemaRegistry.has(schemaName)) {\n        return ctx.schemaRegistry.get(schemaName);\n    }\n    // Fallback for edge cases\n    if (data === null || data === undefined) {\n        const builder = Schema.create(schemaName);\n        builder.addMember('value', { type: 'any', path: 'value', optional: true });\n        return builder.build();\n    }\n    if (Array.isArray(data)) {\n        const objects = data.filter(item => typeof item === 'object' && item !== null && !Array.isArray(item));\n        if (objects.length > 0 && ctx.schemaRegistry.has(schemaName)) {\n            return ctx.schemaRegistry.get(schemaName);\n        }\n    }\n    if (typeof data === 'object') {\n        if (ctx.schemaRegistry.has(schemaName)) {\n            return ctx.schemaRegistry.get(schemaName);\n        }\n    }\n    // For primitives at root (unlikely case)\n    const builder = Schema.create(schemaName);\n    builder.addMember('value', inferMemberDef(data, 'value', currentPath, ctx));\n    return builder.build();\n}\n/**\n * Infers a MemberDef from a JavaScript value\n */\nfunction inferMemberDef(value, path, currentPath, ctx) {\n    if (value === null) {\n        return { type: 'any', path, null: true, optional: true };\n    }\n    if (value === undefined) {\n        return { type: 'any', path, optional: true };\n    }\n    const jsType = typeof value;\n    switch (jsType) {\n        case 'string':\n            return { type: 'string', path };\n        case 'number':\n            return { type: 'number', path };\n        case 'bigint':\n            return { type: 'number', path };\n        case 'boolean':\n            return { type: 'bool', path };\n        case 'object':\n            if (Array.isArray(value)) {\n                return inferArrayMemberDef(value, path, currentPath, ctx);\n            }\n            // Check if this is a dynamic key object (collection-like)\n            // Also check dynamicPaths for single-item objects that were identified as dynamic\n            // because a sibling has multiple items\n            // Note: currentPath already includes 'path' at the end (passed from caller)\n            const fullPathKey = currentPath.join('.');\n            if (isDynamicKeyObject(value) || ctx.dynamicPaths.has(fullPathKey)) {\n                // Dynamic-keyed objects (maps) should NOT have a schemaRef\n                // The schemaRef would describe the VALUE type, not the container itself\n                return { type: 'object', path };\n            }\n            // Regular nested object - reference the resolved schema name\n            const baseName = `$${path}`;\n            const resolvedName = ctx.resolvedNames.get(pathKey(currentPath, baseName)) || baseName;\n            return { type: 'object', path, schemaRef: resolvedName };\n        default:\n            return { type: 'any', path };\n    }\n}\n/**\n * Infers a MemberDef for an array value\n */\nfunction inferArrayMemberDef(arr, path, currentPath, ctx) {\n    if (arr.length === 0) {\n        return { type: 'array', path };\n    }\n    // Check if array contains objects\n    const hasObjects = arr.some(item => typeof item === 'object' && item !== null && !Array.isArray(item));\n    if (hasObjects) {\n        const baseName = `$${singularize(path)}`;\n        const fullPath = [...currentPath, path];\n        const resolvedName = ctx.resolvedNames.get(pathKey(fullPath, baseName)) || baseName;\n        return { type: 'array', path, schemaRef: resolvedName };\n    }\n    // Check if array has mixed primitive types\n    const types = new Set(arr.map(item => typeof item));\n    if (types.size > 1 || arr.some(item => item === null)) {\n        return { type: 'array', path };\n    }\n    // For arrays of same-type primitives\n    return { type: 'array', path };\n}\n/**\n * Simple singularization for common cases\n * books -> book, subscribers -> subscriber, categories -> category\n */\nfunction singularize(word) {\n    // Handle common irregular plurals\n    const irregulars = {\n        'children': 'child',\n        'people': 'person',\n        'men': 'man',\n        'women': 'woman',\n        'mice': 'mouse',\n        'geese': 'goose',\n        'teeth': 'tooth',\n        'feet': 'foot',\n        'data': 'datum',\n        'criteria': 'criterion',\n        'analyses': 'analysis',\n        'indices': 'index'\n    };\n    const lower = word.toLowerCase();\n    if (irregulars[lower]) {\n        // Preserve original case of first letter\n        const singular = irregulars[lower];\n        return word[0] === word[0].toUpperCase()\n            ? singular.charAt(0).toUpperCase() + singular.slice(1)\n            : singular;\n    }\n    // Regular patterns\n    if (word.endsWith('ies') && word.length > 3) {\n        return word.slice(0, -3) + 'y';\n    }\n    if (word.endsWith('ves')) {\n        return word.slice(0, -3) + 'f';\n    }\n    if (word.endsWith('es') && (word.endsWith('sses') ||\n        word.endsWith('xes') ||\n        word.endsWith('zes') ||\n        word.endsWith('ches') ||\n        word.endsWith('shes'))) {\n        return word.slice(0, -2);\n    }\n    if (word.endsWith('s') && !word.endsWith('ss') && word.length > 1) {\n        return word.slice(0, -1);\n    }\n    return word;\n}\nexport default inferDefs;\n","/**\n * Load JS data with inferred schema into Document\n *\n * This module provides the `loadInferred` function that automatically infers\n * schema definitions from plain JavaScript data and creates a complete Document.\n *\n * Unlike `load()` which requires explicit schema definitions, `loadInferred()`\n * analyzes the structure and types of your data to generate appropriate schemas.\n *\n * @module facade/load-inferred\n */\nimport Document from '../core/document';\nimport Header from '../core/header';\nimport Section from '../core/section';\nimport SectionCollection from '../core/section-collection';\nimport { inferDefs } from '../schema/utils/defs-inferrer';\nimport { loadObject as processObject, loadCollection as processCollection } from '../schema/load-processor';\nexport function loadInferred(data, options) {\n    // Infer definitions from the data structure\n    const { definitions, rootSchema } = inferDefs(data);\n    // Create header with inferred definitions\n    const header = new Header();\n    header.definitions.merge(definitions, true);\n    header.schema = rootSchema;\n    // Load the data using the inferred schema\n    let loadedData;\n    if (Array.isArray(data)) {\n        loadedData = processCollection(data, rootSchema, definitions, options?.errorCollector);\n    }\n    else {\n        loadedData = processObject(data, rootSchema, definitions);\n    }\n    // Create section\n    const section = new Section(loadedData, undefined, '$schema');\n    const sections = new SectionCollection();\n    sections.push(section);\n    // Create and return document\n    return new Document(header, sections);\n}\nexport default loadInferred;\n","/**\n * Constants and configurations for Internet Object serialization.\n * Centralizes magic strings, standard properties, and format markers\n * to ensure consistency across serialization modules.\n */\n/**\n * Standard MemberDef properties that should NOT be treated as constraints.\n * These are structural/metadata properties inherent to the MemberDef type.\n */\nexport const STANDARD_MEMBERDEF_PROPS = new Set([\n    'type',\n    'optional',\n    'null',\n    'path',\n    'name',\n    'schema',\n    'schemaRef',\n    // Type-specific internal properties\n    're',\n    '__memberdef',\n    'of' // Array element type (handled specially)\n]);\n/**\n * Wildcard key for open schema additional properties\n */\nexport const WILDCARD_KEY = '*';\n/**\n * IO format markers and delimiters\n */\nexport const IO_MARKERS = {\n    /** Collection item prefix */\n    COLLECTION_ITEM: '~',\n    /** Section separator */\n    SECTION_SEPARATOR: '---',\n    /** Optional field marker (suffix) */\n    OPTIONAL: '?',\n    /** Nullable field marker (suffix) */\n    NULLABLE: '*',\n    /** Date marker prefix */\n    DATE: 'd',\n    /** Time marker prefix */\n    TIME: 't',\n    /** DateTime marker prefix */\n    DATETIME: 'dt',\n    /** True boolean */\n    TRUE: 'T',\n    /** False boolean */\n    FALSE: 'F',\n    /** Null value */\n    NULL: 'N'\n};\n/**\n * Default string enclosers for different formats\n */\nexport const STRING_ENCLOSERS = {\n    REGULAR: '\"',\n    RAW: '\\'',\n    MULTILINE: '`'\n};\n/**\n * Schema reference prefix for named schemas\n */\nexport const SCHEMA_PREFIX = '$';\n/**\n * Definition prefix for variables\n */\nexport const DEFINITION_PREFIX = '~';\n/**\n * Reserved section names that should not appear in output\n */\nexport const RESERVED_SECTION_NAMES = new Set([\n    'unnamed',\n    '$schema',\n    'schema'\n]);\n/**\n * Union type operator for anyOf formatting\n */\nexport const UNION_OPERATOR = '|';\n/**\n * Maximum nesting depth for recursive schema serialization\n * to prevent stack overflow\n */\nexport const MAX_NESTING_DEPTH = 100;\n","/**\n * String formatting utilities for Internet Object serialization.\n * Consolidates quoting, escaping, and format detection logic.\n * Ensures DRY principle and consistent string handling across serialization modules.\n */\nimport TypedefRegistry from '../schema/typedef-registry';\nimport { STRING_ENCLOSERS } from '../facade/serialization-constants';\n/**\n * Quotes a string value using the appropriate format and encloser.\n *\n * @param str The string to quote\n * @param format The string format to use (default: 'regular')\n * @param encloser The quote character to use (default: '\"')\n * @returns Properly quoted and escaped string\n *\n * @example\n * ```typescript\n * quoteString('hello world')\n * //  \"hello world\"\n *\n * quoteString('it\\'s great', 'regular', '\"')\n * //  \"it's great\"\n *\n * quoteString('raw\\\\ntext', 'raw', \"'\")\n * //  'raw\\\\ntext'\n * ```\n */\nexport function quoteString(str, format = 'regular', encloser = STRING_ENCLOSERS.REGULAR) {\n    // Use string typedef for proper formatting if available\n    const stringDef = TypedefRegistry.get('string');\n    if (stringDef && 'stringify' in stringDef && typeof stringDef.stringify === 'function') {\n        const pseudoMember = {\n            type: 'string',\n            path: '',\n            optional: false,\n            null: false,\n            format: format,\n            escapeLines: false,\n            encloser: encloser\n        };\n        try {\n            return stringDef.stringify(str, pseudoMember) ?? fallbackQuoteString(str, encloser);\n        }\n        catch (error) {\n            // Fallback on typedef failure\n            return fallbackQuoteString(str, encloser);\n        }\n    }\n    // Fallback if typedef not available\n    return fallbackQuoteString(str, encloser);\n}\n/**\n * Fallback string quoting when typedef is unavailable.\n * Handles basic escaping for quotes and control characters.\n *\n * @param str String to quote\n * @param encloser Quote character\n * @returns Quoted string\n */\nfunction fallbackQuoteString(str, encloser) {\n    // Escape the encloser character and backslashes\n    const escaped = str\n        .replace(/\\\\/g, '\\\\\\\\')\n        .replace(new RegExp(encloser, 'g'), '\\\\' + encloser);\n    return encloser + escaped + encloser;\n}\n/**\n * Determines if a string needs quoting to avoid parser ambiguity.\n * Unquoted strings must not be confused with numbers, booleans, nulls, or dates.\n *\n * @param str The string to check\n * @returns True if the string requires quotes\n *\n * @example\n * ```typescript\n * needsQuoting('hello')      //  false (safe identifier)\n * needsQuoting('123')        //  true (looks like number)\n * needsQuoting('0001')       //  true (looks like number, has leading zeros)\n * needsQuoting('true')       //  true (looks like boolean)\n * needsQuoting('hello world') //  true (contains space)\n * needsQuoting('')           //  true (empty string)\n * ```\n */\nexport function needsQuoting(str) {\n    // Empty strings always need quotes\n    if (str.length === 0)\n        return true;\n    // Check for whitespace\n    if (/\\s/.test(str))\n        return true;\n    // Check if it looks like a number (starts with digit, or -/+/. followed by digit)\n    // This catches: \"123\", \"0001\", \"-5\", \".5\", \"3.14\", etc.\n    if (looksLikeNumber(str))\n        return true;\n    // Check if it looks like a boolean\n    if (str === 'T' || str === 'F' || str === 'true' || str === 'false')\n        return true;\n    // Check if it looks like null\n    if (str === 'N' || str === 'null' || str === 'undefined')\n        return true;\n    // Check if it starts with date/time markers\n    if (/^(d|t|dt)\"/.test(str))\n        return true;\n    // Check for special characters that require quoting\n    if (/[,\\[\\]{}:~@$]/.test(str))\n        return true;\n    // Safe to use unquoted\n    return false;\n}\n/**\n * Check if a string looks like a number when parsed.\n * Any string starting with a digit (or -/+/. followed by digit) looks like a number.\n */\nfunction looksLikeNumber(str) {\n    if (str.length === 0)\n        return false;\n    const first = str[0];\n    if (first === '-' || first === '+') {\n        if (str.length === 1)\n            return false;\n        const second = str[1];\n        return (second >= '0' && second <= '9') || second === '.';\n    }\n    if (first === '.') {\n        if (str.length === 1)\n            return false;\n        const second = str[1];\n        return second >= '0' && second <= '9';\n    }\n    return first >= '0' && first <= '9';\n}\n/**\n * Escapes special characters in a string value.\n *\n * @param str String to escape\n * @param encloser Quote character being used\n * @returns Escaped string (without quotes)\n */\nexport function escapeString(str, encloser = '\"') {\n    return str\n        .replace(/\\\\/g, '\\\\\\\\') // Backslash\n        .replace(/\\n/g, '\\\\n') // Newline\n        .replace(/\\r/g, '\\\\r') // Carriage return\n        .replace(/\\t/g, '\\\\t') // Tab\n        .replace(new RegExp(encloser, 'g'), '\\\\' + encloser); // Encloser\n}\n/**\n * Unescapes a quoted string value.\n *\n * @param str Escaped string (without quotes)\n * @returns Unescaped string\n */\nexport function unescapeString(str) {\n    return str\n        .replace(/\\\\n/g, '\\n')\n        .replace(/\\\\r/g, '\\r')\n        .replace(/\\\\t/g, '\\t')\n        .replace(/\\\\\"/g, '\"')\n        .replace(/\\\\'/g, \"'\")\n        .replace(/\\\\\\\\/g, '\\\\');\n}\n/**\n * Quotes a string for header definition values.\n * Always uses regular format with quote encloser for fidelity.\n *\n * @param str String to quote for header\n * @returns Quoted string suitable for header definitions\n */\nexport function quoteHeaderString(str) {\n    return quoteString(str, 'regular', STRING_ENCLOSERS.REGULAR);\n}\n/**\n * Quotes a string for wildcard extra property values.\n * Uses regular format to avoid parser ambiguity with identifiers.\n *\n * @param str String to quote\n * @returns Quoted string for extra properties\n */\nexport function quoteExtraPropertyString(str) {\n    return quoteString(str, 'auto', STRING_ENCLOSERS.REGULAR);\n}\n","import Definitions from '../core/definitions';\nimport InternetObject from '../core/internet-object';\nimport Collection from '../core/collection';\nimport Document from '../core/document';\nimport Schema from '../schema/schema';\nimport TypedefRegistry from '../schema/typedef-registry';\nimport { quoteExtraPropertyString } from '../utils/string-formatter';\nimport { IO_MARKERS } from './serialization-constants';\nexport function stringify(value, defsOrOptions, options) {\n    // Resolve arguments\n    let defs;\n    let opts;\n    if (defsOrOptions instanceof Definitions) {\n        defs = defsOrOptions;\n        opts = options;\n    }\n    else if (defsOrOptions && typeof defsOrOptions === 'object') {\n        // It's options (StringifyOptions)\n        opts = defsOrOptions;\n    }\n    // Handle Document (IODocument) - delegate to stringifyDocument\n    if (value instanceof Document) {\n        const { stringifyDocument } = require('./stringify-document');\n        // Build document options\n        let docOptions = opts ? { ...opts } : {};\n        // Default behavior: if includeHeader is not specified, use includeTypes to determine\n        if (docOptions.includeHeader === undefined) {\n            docOptions.includeHeader = docOptions.includeTypes ?? false;\n        }\n        return stringifyDocument(value, docOptions);\n    }\n    // Resolve schema from definitions\n    // Priority: options.schemaName  defs.defaultSchema  no schema\n    let schema;\n    if (defs) {\n        if (opts?.schemaName) {\n            const namedSchema = defs.getV(opts.schemaName);\n            if (namedSchema instanceof Schema) {\n                schema = namedSchema;\n            }\n        }\n        else if (defs.defaultSchema) {\n            schema = defs.defaultSchema;\n        }\n    }\n    // Handle Collection\n    if (value instanceof Collection) {\n        return stringifyCollection(value, schema, defs, opts);\n    }\n    // Handle InternetObject\n    if (value instanceof InternetObject) {\n        return stringifyObject(value, schema, defs, opts);\n    }\n    // Handle plain values\n    return JSON.stringify(value);\n}\n/**\n * Stringify a value of 'any' type by inferring from its JavaScript type\n */\nfunction stringifyAnyValue(val, defs) {\n    // Handle primitives first\n    if (val === null)\n        return IO_MARKERS.NULL;\n    if (val === undefined)\n        return IO_MARKERS.NULL;\n    // Handle boolean\n    if (typeof val === 'boolean') {\n        const boolDef = TypedefRegistry.get('bool');\n        if (boolDef && 'stringify' in boolDef && typeof boolDef.stringify === 'function') {\n            return boolDef.stringify(val, { type: 'bool', path: '', optional: false, null: false }) ?? (val ? IO_MARKERS.TRUE : IO_MARKERS.FALSE);\n        }\n        return val ? IO_MARKERS.TRUE : IO_MARKERS.FALSE;\n    }\n    // Handle number\n    if (typeof val === 'number') {\n        return String(val);\n    }\n    // Handle string - use auto format for smart quoting\n    if (typeof val === 'string') {\n        const stringDef = TypedefRegistry.get('string');\n        if (stringDef && 'stringify' in stringDef && typeof stringDef.stringify === 'function') {\n            const memberDef = {\n                type: 'string',\n                path: '',\n                optional: false,\n                null: false,\n                format: 'auto',\n                escapeLines: false,\n                encloser: '\"'\n            };\n            return stringDef.stringify(val, memberDef) ?? val;\n        }\n        return val;\n    }\n    // Handle Date - check if it's date-only or datetime\n    if (val instanceof Date) {\n        const dateDef = TypedefRegistry.get('date');\n        if (dateDef && 'stringify' in dateDef && typeof dateDef.stringify === 'function') {\n            return dateDef.stringify(val) ?? val.toISOString();\n        }\n        // Fallback: format as date-only d\"YYYY-MM-DD\"\n        const year = val.getFullYear();\n        const month = String(val.getMonth() + 1).padStart(2, '0');\n        const day = String(val.getDate()).padStart(2, '0');\n        return `d\"${year}-${month}-${day}\"`;\n    }\n    // Handle array\n    if (Array.isArray(val)) {\n        const items = val.map(item => stringifyAnyValue(item, defs));\n        return `[${items.join(', ')}]`;\n    }\n    // Handle object (including InternetObject)\n    if (val instanceof InternetObject) {\n        const objContent = stringifyObject(val, undefined, defs, {});\n        return `{${objContent}}`; // Wrap in braces\n    }\n    // Handle plain object - output values only in order, like {val1, val2, val3}\n    if (typeof val === 'object') {\n        const items = [];\n        for (const k in val) {\n            if (val.hasOwnProperty(k)) {\n                items.push(stringifyAnyValue(val[k], defs));\n            }\n        }\n        return `{${items.join(', ')}}`;\n    }\n    // Fallback\n    return JSON.stringify(val);\n}\n/**\n * Stringify an InternetObject to IO text format.\n * @internal Used by stringifyDocument for section serialization.\n */\nexport function stringifyObject(obj, schema, defs, options) {\n    const parts = [];\n    const indent = options?.indent;\n    const includeTypes = options?.includeTypes ?? false;\n    if (schema) {\n        // First output members in schema order regardless of insertion order.\n        const handled = new Set();\n        for (const name of schema.names) {\n            const memberDef = schema.defs[name];\n            const hasValue = obj.has(name);\n            if (hasValue) {\n                const val = obj.get(name);\n                const typeDef = memberDef ? TypedefRegistry.get(memberDef.type) : undefined;\n                let strValue;\n                if (memberDef && typeDef && 'stringify' in typeDef && typeof typeDef.stringify === 'function') {\n                    const effectiveMemberDef = { ...memberDef };\n                    if (memberDef.type === 'string' && !memberDef.format) {\n                        effectiveMemberDef.format = 'auto'; // Use auto for smart quoting (quotes numbers, bools, etc.)\n                    }\n                    strValue = typeDef.stringify(val, effectiveMemberDef, defs);\n                }\n                else if (memberDef && (memberDef.type === 'any' || memberDef.type === 'object')) {\n                    strValue = stringifyAnyValue(val, defs);\n                }\n                else {\n                    strValue = stringifyAnyValue(val, defs);\n                }\n                // undefined means \"skip this field\" - use empty placeholder for positional format\n                if (includeTypes) {\n                    if (strValue !== undefined) {\n                        parts.push(`${name}: ${strValue}`);\n                    }\n                }\n                else {\n                    parts.push(strValue ?? '');\n                }\n            }\n            else {\n                // Missing optional member with no default: preserve positional placeholder by emitting empty slot when includeTypes is false.\n                if (!includeTypes) {\n                    const md = memberDef;\n                    if (md?.optional && md?.default === undefined) {\n                        parts.push('');\n                    }\n                }\n            }\n            handled.add(name);\n        }\n        // Trim trailing empty values (missing optional fields at the end)\n        while (parts.length > 0 && parts[parts.length - 1] === '') {\n            parts.pop();\n        }\n        // Append any additional properties (wildcard or open schema extras) in original insertion order after core schema fields.\n        for (const [key, val] of obj.entries()) {\n            if (!key)\n                continue;\n            if (handled.has(key))\n                continue; // already output\n            const memberDef = schema.defs[key];\n            // For extras there is typically no memberDef (unless explicit definition outside names array)\n            const typeDef = memberDef ? TypedefRegistry.get(memberDef.type) : undefined;\n            let strValue;\n            if (memberDef && typeDef && 'stringify' in typeDef && typeof typeDef.stringify === 'function') {\n                const effectiveMemberDef = { ...memberDef };\n                if (memberDef.type === 'string' && !memberDef.format) {\n                    effectiveMemberDef.format = 'auto'; // Use auto for smart quoting (quotes numbers, bools, etc.)\n                }\n                strValue = typeDef.stringify(val, effectiveMemberDef, defs);\n            }\n            else if (typeof val === 'string') {\n                // Quote extra string properties using regular string format\n                strValue = quoteExtraPropertyString(val);\n            }\n            else {\n                strValue = stringifyAnyValue(val, defs);\n            }\n            // Extras should retain key label even when includeTypes is false (desired output for wildcard properties)\n            // Skip if undefined (missing optional)\n            if (strValue !== undefined) {\n                parts.push(`${key}: ${strValue}`);\n            }\n        }\n    }\n    else {\n        // No schema: fall back to insertion order\n        for (const [key, val] of obj.entries()) {\n            if (!key)\n                continue;\n            const strValue = stringifyAnyValue(val, defs);\n            if (includeTypes) {\n                parts.push(`${key}: ${strValue}`);\n            }\n            else {\n                parts.push(strValue);\n            }\n        }\n    }\n    // Format output\n    if (typeof indent === 'number' && indent > 0) {\n        const indentStr = ' '.repeat(indent);\n        return '{\\n' + parts.map(p => indentStr + p).join(',\\n') + '\\n}';\n    }\n    else if (typeof indent === 'string') {\n        return '{\\n' + parts.map(p => indent + p).join(',\\n') + '\\n}';\n    }\n    else {\n        return parts.join(', ');\n    }\n}\n/**\n * Stringify a Collection to IO text format.\n * @internal Used by stringifyDocument for section serialization.\n */\nexport function stringifyCollection(collection, schema, defs, options) {\n    const parts = [];\n    const skipErrors = options?.skipErrors ?? false;\n    for (const item of collection) {\n        // Skip error objects if requested\n        if (skipErrors && item && typeof item === 'object' && item.__error === true) {\n            continue;\n        }\n        if (item instanceof InternetObject) {\n            parts.push(stringifyObject(item, schema, defs, options));\n        }\n        else {\n            // Handle error objects or other items\n            if (item && typeof item === 'object' && item.__error === true) {\n                parts.push(`<error: ${item.message}>`);\n            }\n            else {\n                parts.push(JSON.stringify(item));\n            }\n        }\n    }\n    // Format as collection\n    if (options?.indent) {\n        return '[\\n  ' + parts.join(',\\n  ') + '\\n]';\n    }\n    else {\n        return '[' + parts.join(', ') + ']';\n    }\n}\n// Note: resolveSchema helper is no longer needed - schema resolution is done in the main stringify function\n","import { STANDARD_MEMBERDEF_PROPS, IO_MARKERS } from '../../facade/serialization-constants';\nimport TokenNode from '../../parser/nodes/tokens';\n/**\n * Stringifies a MemberDef into its schema definition format.\n *\n * @param memberDef The MemberDef to stringify\n * @param includeTypes Whether to include type annotations\n * @returns The stringified schema definition for this member\n *\n * @example\n * ```typescript\n * // Simple type\n * stringifyMemberDef({ type: 'string', path: 'name' }, true)\n * //  \"string\"\n *\n * // With constraints\n * stringifyMemberDef({ type: 'number', min: 0, max: 100 }, true)\n * //  \"{number, min:0, max:100}\"\n *\n * // Nested object (includes type annotations for reconstruction)\n * stringifyMemberDef({\n *   type: 'object',\n *   schema: { names: ['street', 'city'], defs: {...} }\n * }, true)\n * //  \"{street: string, city: string}\"\n *\n * // Schema variable reference\n * stringifyMemberDef({\n *   type: 'object',\n *   schema: new TokenNode('$address', {...})\n * }, true)\n * //  \"$address\"\n *\n * // Schema reference via schemaRef\n * stringifyMemberDef({\n *   type: 'object',\n *   schemaRef: '$address'\n * }, true)\n * //  \"$address\"\n * ```\n */\nexport function stringifyMemberDef(memberDef, includeTypes) {\n    // Handle array with schema reference - output as [$schemaRef]\n    if (memberDef.type === 'array' && memberDef.schemaRef) {\n        return `[${memberDef.schemaRef}]`;\n    }\n    // Handle object schema reference (schemaRef property)\n    if (memberDef.schemaRef) {\n        return memberDef.schemaRef;\n    }\n    // Handle nested objects with embedded schema\n    if (memberDef.type === 'object' && memberDef.schema) {\n        return formatNestedSchema(memberDef.schema);\n    }\n    // Skip type annotation if not requested or if type is 'any'\n    if (!includeTypes || !memberDef.type || memberDef.type === 'any') {\n        return '';\n    }\n    // Special handling for array type with 'of' property\n    if (memberDef.type === 'array' && memberDef.of) {\n        return stringifyArrayMemberDef(memberDef);\n    }\n    // Detect constraint properties\n    const constraintProps = detectConstraintProperties(memberDef);\n    // Format with or without constraints\n    if (constraintProps.length > 0) {\n        return formatTypeWithConstraints(memberDef.type, memberDef, constraintProps);\n    }\n    else {\n        return memberDef.type;\n    }\n}\n/**\n * Formats a nested object schema into {field1, field2, ...} notation.\n * Applies SRP by isolating nested schema formatting logic.\n *\n * Handles both:\n * - Schema instances: formats as {field1, field2, ...}\n * - Schema variable references (TokenNode with $name): outputs as $name\n *\n * @param schema The nested schema to format (Schema instance or TokenNode reference)\n * @returns Formatted nested object string or schema variable reference\n */\nfunction formatNestedSchema(schema) {\n    // Handle schema variable reference (e.g., $employee, $address)\n    if (schema instanceof TokenNode) {\n        if (typeof schema.value === 'string' && schema.value.startsWith('$')) {\n            return schema.value; // Return the reference as-is: $employee\n        }\n    }\n    // Handle string reference directly\n    if (typeof schema === 'string' && schema.startsWith('$')) {\n        return schema;\n    }\n    const nestedFields = [];\n    if (schema.names) {\n        for (const nestedName of schema.names) {\n            const nestedMember = schema.defs[nestedName];\n            let nestedField = nestedName;\n            if (nestedMember?.optional) {\n                nestedField += IO_MARKERS.OPTIONAL;\n            }\n            if (nestedMember?.null) {\n                nestedField += IO_MARKERS.NULLABLE;\n            }\n            // Add type annotation for nested member if it has constraints or is object/array\n            const typeAnnotation = stringifyMemberDef(nestedMember, true);\n            if (typeAnnotation) {\n                nestedField += `: ${typeAnnotation}`;\n            }\n            nestedFields.push(nestedField);\n        }\n    }\n    return `{${nestedFields.join(', ')}}`;\n}\n/**\n * Detects which MemberDef properties are constraints (non-standard properties).\n * Applies SRP by isolating constraint detection logic.\n *\n * @param memberDef The MemberDef to analyze\n * @returns Array of constraint property names\n */\nfunction detectConstraintProperties(memberDef) {\n    const constraintProps = [];\n    for (const key in memberDef) {\n        if (!STANDARD_MEMBERDEF_PROPS.has(key) && memberDef[key] !== undefined) {\n            constraintProps.push(key);\n        }\n    }\n    return constraintProps;\n}\n/**\n * Formats a type with its constraints in bracket notation.\n *\n * @param type The base type name\n * @param memberDef The full MemberDef containing constraint values\n * @param constraintProps Array of constraint property names\n * @returns Formatted string: {type, key1:value1, key2:value2, ...}\n */\nfunction formatTypeWithConstraints(type, memberDef, constraintProps) {\n    const parts = [type];\n    for (const prop of constraintProps) {\n        const value = memberDef[prop];\n        const formattedValue = formatConstraintValue(value);\n        parts.push(`${prop}:${formattedValue}`);\n    }\n    return `{${parts.join(', ')}}`;\n}\n/**\n * Special handling for array type MemberDefs.\n *\n * @param memberDef The array MemberDef with 'of' property\n * @returns Formatted array type string\n *\n * @example\n * ```typescript\n * // Simple element type\n * stringifyArrayMemberDef({ type: 'array', of: 'string' })\n * //  \"[string]\"\n *\n * // Complex element type with constraints\n * stringifyArrayMemberDef({\n *   type: 'array',\n *   of: { type: 'number', min: 0, max: 100 }\n * })\n * //  \"[{number, min:0, max:100}]\"\n *\n * // Nested object element type\n * stringifyArrayMemberDef({\n *   type: 'array',\n *   of: { type: 'object', schema: { names: ['name', 'age'], defs: {...} } }\n * })\n * //  \"[{name: string, age: number}]\"\n * ```\n */\nfunction stringifyArrayMemberDef(memberDef) {\n    const ofType = memberDef.of;\n    // No element type specified\n    if (!ofType) {\n        return memberDef.type; // Just 'array'\n    }\n    // Simple string element type\n    if (typeof ofType === 'string') {\n        return `[${ofType}]`;\n    }\n    // Complex element type (MemberDef object)\n    if (typeof ofType === 'object' && ofType.type) {\n        const elementMemberDef = ofType;\n        // Nested object with schema\n        if (elementMemberDef.type === 'object' && elementMemberDef.schema) {\n            const nestedFormat = formatNestedSchema(elementMemberDef.schema);\n            return `[${nestedFormat}]`;\n        }\n        // Nested array (array of arrays)\n        if (elementMemberDef.type === 'array' && elementMemberDef.of) {\n            const nestedArrayFormat = stringifyArrayMemberDef(elementMemberDef);\n            return `[${nestedArrayFormat}]`;\n        }\n        // Element type with constraints\n        const constraintProps = detectConstraintProperties(elementMemberDef);\n        if (constraintProps.length > 0) {\n            const formatted = formatTypeWithConstraints(elementMemberDef.type, elementMemberDef, constraintProps);\n            return `[${formatted}]`;\n        }\n        // Simple element type without constraints\n        return `[${elementMemberDef.type}]`;\n    }\n    // Fallback: generic array\n    return memberDef.type;\n}\n/**\n * Formats a constraint value for output in schema definition.\n * Handles primitives, arrays, and nested objects recursively.\n *\n * @param value The constraint value to format\n * @returns Formatted string representation\n */\nexport function formatConstraintValue(value) {\n    if (value === null)\n        return 'null';\n    if (value === undefined)\n        return 'undefined';\n    if (typeof value === 'string') {\n        // Escape quotes in string values\n        return `\"${value.replace(/\"/g, '\\\\\"')}\"`;\n    }\n    if (typeof value === 'boolean') {\n        return value ? IO_MARKERS.TRUE : IO_MARKERS.FALSE;\n    }\n    if (typeof value === 'number') {\n        return String(value);\n    }\n    if (Array.isArray(value)) {\n        const formatted = value.map(v => formatConstraintValue(v));\n        return `[${formatted.join(', ')}]`;\n    }\n    if (typeof value === 'object') {\n        // For complex objects, use JSON representation\n        // Future enhancement: recursive MemberDef formatting\n        return JSON.stringify(value);\n    }\n    return String(value);\n}\n","import InternetObject from '../core/internet-object';\nimport Collection from '../core/collection';\nimport TypedefRegistry from '../schema/typedef-registry';\nimport { stringifyMemberDef } from '../schema/types/memberdef-stringify';\nimport { stringifyObject } from './stringify';\nimport { RESERVED_SECTION_NAMES, WILDCARD_KEY } from './serialization-constants';\n/**\n * Stringify a complete IODocument to Internet Object text format.\n *\n * This function serializes the entire document structure including:\n * - Header with definitions and schema\n * - All data sections\n * - Section separators and names\n *\n * @param doc - IODocument to stringify\n * @param options - Formatting and filtering options\n * @returns Internet Object text representation\n *\n * @example\n * ```typescript\n * // Stringify document with default options\n * const text = stringifyDocument(doc);\n * // Output:\n * // ~ appName: MyApp, ~ version: 1.0\n * // ---\n * // Alice, 28\n * // Bob, 35\n *\n * // Stringify with pretty printing\n * const text = stringifyDocument(doc, { indent: 2 });\n *\n * // Stringify specific sections only\n * const text = stringifyDocument(doc, {\n *   sectionsFilter: ['users', 'products']\n * });\n *\n * // Stringify without header\n * const text = stringifyDocument(doc, { includeHeader: false });\n * ```\n */\nexport function stringifyDocument(doc, options = {}) {\n    const parts = [];\n    const includeHeader = options.includeHeader ?? true;\n    const includeSectionNames = options.includeSectionNames ?? true;\n    const defFormat = options.definitionsFormat ?? 'io';\n    // Stringify header (includes definitions, schemas, variables)\n    if (includeHeader && doc.header) {\n        // Check if we're in schema-only mode (just $schema, no other definitions)\n        const isSchemaOnlyMode = doc.header.definitions?.defaultSchemaOnly ?? false;\n        if (isSchemaOnlyMode && doc.header.schema) {\n            // Schema-only mode: output bare schema line (backward compatible)\n            const schemaText = stringifySchema(doc.header.schema, { ...options, includeTypes: true });\n            if (schemaText) {\n                parts.push(schemaText);\n            }\n        }\n        else if (doc.header.definitions && doc.header.definitions.length > 0) {\n            // Definitions mode: output all definitions (schemas, variables, metadata) in ~ format\n            const headerText = stringifyHeader(doc.header, defFormat, options);\n            if (headerText) {\n                parts.push(headerText);\n            }\n        }\n        else if (doc.header.schema) {\n            // No definitions but has schema: output bare schema line\n            const schemaText = stringifySchema(doc.header.schema, { ...options, includeTypes: true });\n            if (schemaText) {\n                parts.push(schemaText);\n            }\n        }\n    }\n    // Stringify sections\n    if (doc.sections) {\n        const sectionCount = doc.sections.length;\n        const sectionsFilter = options.sectionsFilter;\n        for (let i = 0; i < sectionCount; i++) {\n            const section = doc.sections.get(i);\n            if (!section)\n                continue;\n            // Apply section filter if provided\n            if (sectionsFilter && section.name) {\n                if (!sectionsFilter.includes(section.name)) {\n                    continue;\n                }\n            }\n            // Add section separator with optional name and schema\n            // Note: Don't output schema reference for default schema ($schema) - it's implicit from header\n            const isDefaultSchema = section.schemaName === '$schema' || section.schemaName === 'schema';\n            const hasNamedSchema = section.schemaName && !isDefaultSchema;\n            // Treat reserved names as no name (parser defaults)\n            const hasRealName = section.name && !RESERVED_SECTION_NAMES.has(section.name);\n            // Determine if we need a section separator\n            // Skip --- when: no header, single section, no real name, no named schema\n            const needsSeparator = includeHeader || sectionCount > 1 || hasRealName || hasNamedSchema;\n            if (includeSectionNames && hasRealName) {\n                if (hasNamedSchema) {\n                    // Include schema reference if section has a named schema\n                    // Schema name might already start with $ - don't duplicate it\n                    const schemaRef = section.schemaName.startsWith('$') ? section.schemaName : `$${section.schemaName}`;\n                    parts.push(`--- ${section.name}: ${schemaRef}`);\n                }\n                else {\n                    parts.push(`--- ${section.name}`);\n                }\n            }\n            else if (hasNamedSchema) {\n                // No section name but has named schema - output schema only\n                const schemaRef = section.schemaName.startsWith('$') ? section.schemaName : `$${section.schemaName}`;\n                parts.push(`--- ${schemaRef}`);\n            }\n            else if (needsSeparator) {\n                // Output bare section separator only if needed\n                parts.push('---');\n            }\n            // else: skip separator entirely for data-only single section\n            // Stringify section data\n            // Always suppress type annotations inside data rows (positional output), regardless of includeTypes\n            const sectionText = stringifySection(section, doc.header.definitions, { ...options, includeTypes: false });\n            if (sectionText) {\n                parts.push(sectionText);\n            }\n        }\n    }\n    return parts.join('\\n');\n}\n/**\n * Stringify a schema to IO format\n */\nfunction stringifySchema(schema, options) {\n    if (!schema || !schema.names || schema.names.length === 0)\n        return '';\n    const includeTypes = options.includeTypes ?? false;\n    const parts = [];\n    for (const name of schema.names) {\n        const memberDef = schema.defs[name];\n        if (!memberDef)\n            continue;\n        // Build field definition starting with the name\n        let fieldDef = name;\n        // Add optional marker (?) if the field is optional\n        if (memberDef.optional) {\n            fieldDef += '?';\n        }\n        // Add null marker (*) if the field is nullable\n        if (memberDef.null) {\n            fieldDef += '*';\n        }\n        // Delegate to stringifyMemberDef for type annotation\n        const typeAnnotation = stringifyMemberDef(memberDef, includeTypes);\n        if (typeAnnotation) {\n            fieldDef += `: ${typeAnnotation}`;\n        }\n        parts.push(fieldDef);\n    }\n    // Append wildcard open schema definition if present\n    if (schema.defs && schema.defs[WILDCARD_KEY]) {\n        const openDef = schema.defs[WILDCARD_KEY];\n        let wildcard = WILDCARD_KEY;\n        const typeAnnotation = stringifyMemberDef(openDef, includeTypes);\n        if (typeAnnotation) {\n            wildcard += `:${typeAnnotation}`;\n        }\n        parts.push(wildcard);\n    }\n    return parts.join(', ');\n}\n/**\n * Stringify document header with definitions\n */\nfunction stringifyHeader(header, format, options) {\n    if (!header.definitions)\n        return '';\n    const defs = header.definitions;\n    const defParts = [];\n    // Iterate through all definitions: schemas, variables, and metadata\n    for (const [key, defValue] of defs.entries()) {\n        let formattedValue;\n        // Schema definitions: Format as ~ $schema: {name, age, address}\n        if (defValue.isSchema) {\n            const schemaValue = defValue.value;\n            // Handle schema alias (e.g., $user: $employee) - value is a TokenNode reference\n            if (schemaValue && typeof schemaValue === 'object' && 'value' in schemaValue && 'type' in schemaValue) {\n                // It's a TokenNode - check if it's a schema reference\n                if (typeof schemaValue.value === 'string' && schemaValue.value.startsWith('$')) {\n                    formattedValue = schemaValue.value; // Output as $employee\n                }\n                else {\n                    // Non-reference TokenNode - try to stringify\n                    const schemaText = stringifySchema(schemaValue, { ...options, includeTypes: true });\n                    formattedValue = schemaText ? `{${schemaText}}` : '{}';\n                }\n            }\n            else {\n                // It's a Schema instance - use stringifySchema to format the schema structure\n                const schemaText = stringifySchema(schemaValue, { ...options, includeTypes: true });\n                formattedValue = schemaText ? `{${schemaText}}` : '{}';\n            }\n        }\n        // Variables and regular definitions: Format as ~ key: value\n        else {\n            let value = defValue.value;\n            // If value is a TokenNode, extract its actual value\n            if (value && typeof value === 'object' && 'value' in value && 'type' in value) {\n                value = value.value;\n            }\n            formattedValue = stringifyHeaderValue(value);\n        }\n        defParts.push(`~ ${key}: ${formattedValue}`);\n    }\n    if (defParts.length === 0)\n        return '';\n    return defParts.join('\\n');\n}\n/**\n * Stringify a section's data\n */\nfunction stringifySection(section, defs, options) {\n    const data = section.data;\n    if (!data)\n        return '';\n    // Get schema for this section\n    const schemaName = section.schemaName;\n    const schema = schemaName ? defs.getV(schemaName) : defs.defaultSchema;\n    // Collections should be serialized using IO '~' items for parser compatibility\n    if (data instanceof Collection) {\n        const lines = [];\n        for (const item of data) {\n            if (options.skipErrors && item && typeof item === 'object' && item.__error === true) {\n                continue;\n            }\n            if (item instanceof InternetObject) {\n                const line = stringifyObject(item, schema, defs, options);\n                lines.push(`~ ${line}`);\n            }\n            else {\n                // Fallback for non-IO items\n                lines.push(`~ ${JSON.stringify(item)}`);\n            }\n        }\n        return lines.join('\\n');\n    }\n    // Single object/value: use main stringifyObject\n    return stringifyObject(data, schema, defs, options);\n}\n/**\n * Infer the Internet Object type from a JavaScript value.\n * Maps JS types to IO type names for TypedefRegistry lookup.\n * Only handles JSON-compatible types plus Date.\n *\n * @throws Error for non-serializable types (bigint, symbol, function, etc.)\n */\nfunction inferIOType(value) {\n    // null/undefined\n    if (value === null || value === undefined) {\n        throw new Error(`Cannot serialize null/undefined values in header definitions`);\n    }\n    // JSON primitive types\n    if (typeof value === 'boolean')\n        return 'bool';\n    if (typeof value === 'number') {\n        if (!Number.isFinite(value)) {\n            throw new Error(`Cannot serialize non-finite number: ${value}`);\n        }\n        return 'number';\n    }\n    if (typeof value === 'string')\n        return 'string';\n    // Date/DateTime (IO extension to JSON)\n    if (value instanceof Date)\n        return 'date';\n    // JSON array\n    if (Array.isArray(value))\n        return 'array';\n    // JSON object (plain objects only)\n    if (typeof value === 'object' && value.constructor === Object)\n        return 'object';\n    // Non-serializable types\n    const type = typeof value;\n    if (type === 'bigint' || type === 'symbol' || type === 'function') {\n        throw new Error(`Cannot serialize type '${type}' in header definitions`);\n    }\n    // Unknown object types (class instances, etc.)\n    throw new Error(`Cannot serialize non-plain object of type '${value.constructor?.name || 'Unknown'}' in header definitions`);\n}\n/**\n * Stringify a header definition value using the type system.\n * Infers the IO type and delegates to the appropriate TypeDef.stringify().\n *\n * @throws Error for non-serializable types or unregistered types\n */\nfunction stringifyHeaderValue(value) {\n    // Handle null/undefined - these are not allowed in header definitions\n    // Use empty string or default value if needed\n    if (value === null || value === undefined) {\n        throw new Error(`Header definition values cannot be null or undefined`);\n    }\n    // Infer the IO type from the JS value (throws for non-serializable types)\n    const ioType = inferIOType(value);\n    // Check if type is registered and get the TypeDef\n    if (!TypedefRegistry.isRegisteredType(ioType)) {\n        throw new Error(`Type '${ioType}' is not registered in TypedefRegistry`);\n    }\n    const typeDef = TypedefRegistry.get(ioType);\n    if (!typeDef || !('stringify' in typeDef) || typeof typeDef.stringify !== 'function') {\n        throw new Error(`TypeDef for '${ioType}' does not have a stringify method`);\n    }\n    // Create a minimal MemberDef for the TypeDef.stringify() call\n    const memberDef = {\n        type: ioType,\n        path: '',\n        optional: false,\n        null: false,\n        // Use auto format for strings - will quote when needed to preserve type\n        format: ioType === 'string' ? 'auto' : undefined,\n        escapeLines: false,\n        encloser: '\"'\n    };\n    return typeDef.stringify(value, memberDef);\n}\n/**\n * Convert document to plain JavaScript object (for JSON serialization)\n *\n * @param doc - IODocument to convert\n * @param options - Conversion options\n * @returns Plain JavaScript object\n *\n * @example\n * ```typescript\n * const obj = documentToObject(doc, { skipErrors: true });\n * const json = JSON.stringify(obj, null, 2);\n * ```\n */\nexport function documentToObject(doc, options) {\n    return doc.toJSON(options);\n}\n/**\n * Create document from plain JavaScript object\n * Alias for loadDocument for consistency\n *\n * @param data - Plain JavaScript object\n * @param options - Load options\n * @returns IODocument\n */\nexport { loadDocument as documentFromObject } from './load-document';\n","/**\r\n * Error types and interfaces for the IO Playground.\r\n * Provides structured error objects to replace string-based error messages.\r\n */\r\n\r\n/**\r\n * Error category determines UI treatment (color, severity, icon).\r\n */\r\nexport type ErrorCategory = 'syntax' | 'validation' | 'runtime';\r\n\r\n/**\r\n * Precise range in source text (1-indexed lines and columns).\r\n */\r\nexport interface ErrorRange {\r\n  startLine: number;\r\n  startColumn: number;\r\n  endLine: number;\r\n  endColumn: number;\r\n}\r\n\r\n/**\r\n * Structured error item with all metadata.\r\n * Replaces string-based error messages for better type safety and features.\r\n */\r\nexport interface ErrorItem {\r\n  /** Stable unique ID for de-duplication and focus management */\r\n  id: string;\r\n\r\n  /** Machine-readable error code (e.g., \"invalid-range\", \"missing-bracket\") */\r\n  code?: string;\r\n\r\n  /** Error category for UI styling and severity */\r\n  category: ErrorCategory;\r\n\r\n  /** User-facing error message */\r\n  message: string;\r\n\r\n  /** Source position range */\r\n  range: ErrorRange;\r\n\r\n  /** Which editor the error is from */\r\n  source: 'doc' | 'defs';\r\n}\r\n\r\n/**\r\n * Editor marker for Monaco.\r\n * Subset of monaco.editor.IMarkerData with our extensions.\r\n */\r\nexport interface EditorMarker {\r\n  /** Monaco severity: 8 = Error, 4 = Warning, 2 = Info, 1 = Hint */\r\n  severity: 1 | 2 | 4 | 8;\r\n\r\n  /** Error message displayed in hover */\r\n  message: string;\r\n\r\n  /** 1-indexed line number where error starts */\r\n  startLineNumber: number;\r\n\r\n  /** 1-indexed column where error starts */\r\n  startColumn: number;\r\n\r\n  /** 1-indexed line number where error ends */\r\n  endLineNumber: number;\r\n\r\n  /** 1-indexed column where error ends */\r\n  endColumn: number;\r\n\r\n  /** Optional: stable ID matching ErrorItem.id */\r\n  id?: string;\r\n\r\n  /** Optional: error category for filtering/grouping */\r\n  category?: ErrorCategory;\r\n}\r\n\r\n/**\r\n * Monaco severity constants (match monaco.MarkerSeverity enum).\r\n */\r\nexport const MonacoSeverity = {\r\n  Hint: 1,\r\n  Info: 2,\r\n  Warning: 4,\r\n  Error: 8,\r\n} as const;\r\n\r\n/**\r\n * Map error category to Monaco severity.\r\n */\r\nexport function categoryToSeverity(category: ErrorCategory): number {\r\n  switch (category) {\r\n    case 'syntax':\r\n      return MonacoSeverity.Error; // Red squiggles\r\n    case 'validation':\r\n      return MonacoSeverity.Warning; // Orange squiggles\r\n    case 'runtime':\r\n      return MonacoSeverity.Error; // Red squiggles\r\n    default:\r\n      return MonacoSeverity.Error;\r\n  }\r\n}\r\n\r\n/**\r\n * JSON decoration metadata for highlighting error objects in output.\r\n * Emitted by the parser alongside the JSON output to avoid brace-scanning.\r\n */\r\nexport interface JsonDecoration {\r\n  /** Error category for styling (syntax, validation, runtime) */\r\n  category: ErrorCategory;\r\n\r\n  /** Character offset in JSON string where error object starts */\r\n  startOffset: number;\r\n\r\n  /** Character offset in JSON string where error object ends (exclusive) */\r\n  endOffset: number;\r\n\r\n  /** Optional: matching ErrorItem.id for correlation */\r\n  errorId?: string;\r\n}\r\n\r\n/**\r\n * Generate stable error ID from range and message.\r\n */\r\nexport function generateErrorId(range: ErrorRange, message: string): string {\r\n  return `${range.startLine}:${range.startColumn}-${range.endLine}:${range.endColumn}:${message.substring(0, 20)}`;\r\n}\r\n","// REF: https://chat.openai.com/c/828fa9d6-981d-404a-8ef8-46e8140111ba\r\n//\r\nimport type { IODefinitions }   from \"internet-object\";\r\nimport { parse }                from \"internet-object\"\r\nimport { parseDefinitions }     from 'internet-object';\r\nimport { IOError }              from 'internet-object';\r\nimport { IOSyntaxError }        from 'internet-object';\r\nimport { IOValidationError }    from 'internet-object';\r\nimport { ErrorItem, EditorMarker, ErrorRange, ErrorCategory, categoryToSeverity, generateErrorId } from '../../types/errors';\r\n\r\n\r\n/**\r\n * Result of parsing an Internet Object document and/or definitions.\r\n */\r\nexport interface ParsingResult {\r\n  errorMessages: string[];  // Deprecated: use errorItems instead\r\n  errorItems: ErrorItem[];   // Structured errors with full metadata\r\n  defs: IODefinitions | null;\r\n  output: any | null;\r\n  defsMarkers: EditorMarker[];\r\n  docMarkers: EditorMarker[];\r\n}\r\n\r\n\r\n/**\r\n * Parses an Internet Object document and optional definitions.\r\n * Returns a ParsingResult with all fields always present.\r\n */\r\n\r\nexport default function parseIO(document: string, defs: string | null, skipErrors = false): ParsingResult {\r\n  if (!defs) return parseDoc(document, null, skipErrors);\r\n  const defsResult = tryParse(defs, parseDefinitions, true, skipErrors);\r\n  if (defsResult.errorMessages.length > 0) return defsResult;\r\n  return parseDoc(document, defsResult.defs, skipErrors);\r\n}\r\n\r\n\r\n\r\n\r\nfunction tryParse<T>(input: string, fn: (input: string, defs?: any) => T, isDefs = false, skipErrors = false): ParsingResult {\r\n  try {\r\n    const result = fn(input, null);\r\n\r\n    // Check if result has getErrors method (Document/DocumentNode)\r\n    let accumulatedErrors: Error[] = [];\r\n    if (result && typeof (result as any).getErrors === 'function') {\r\n      accumulatedErrors = (result as any).getErrors();\r\n    }\r\n\r\n    // Get output and defs regardless of errors (resilient parsing)\r\n    const output = isDefs ? null : (result as any).toJSON({ skipErrors });\r\n    const defs = isDefs ? result as IODefinitions : null;\r\n\r\n    // If there are accumulated errors, include them with the output\r\n    if (accumulatedErrors.length > 0) {\r\n      const source = isDefs ? 'defs' : 'doc';\r\n      const errorItems = accumulatedErrors.map(e => errorToErrorItem(e, source)).filter((item): item is ErrorItem => item !== null);\r\n\r\n      return {\r\n        errorMessages: accumulatedErrors.map(e => getErrorMessage(e)),\r\n        errorItems,\r\n        defs,\r\n        output,\r\n        defsMarkers: isDefs ? accumulatedErrors.flatMap(getErrorMarkers) : [],\r\n        docMarkers: isDefs ? [] : accumulatedErrors.flatMap(getErrorMarkers),\r\n      };\r\n    }\r\n\r\n    return {\r\n      errorMessages: [],\r\n      errorItems: [],\r\n      defs,\r\n      output,\r\n      defsMarkers: [],\r\n      docMarkers: [],\r\n    };\r\n  } catch (e: any) {\r\n    if (import.meta.env.MODE !== 'production') {\r\n      // eslint-disable-next-line no-console\r\n      console.error(isDefs ? 'Error parsing defs' : 'Error parsing document', e);\r\n    }\r\n\r\n    const source = isDefs ? 'defs' : 'doc';\r\n    const errorItem = errorToErrorItem(e, source);\r\n\r\n    return {\r\n      errorMessages: [getErrorMessage(e)],\r\n      errorItems: errorItem ? [errorItem] : [],\r\n      defs: null,\r\n      output: null,\r\n      defsMarkers: isDefs ? getErrorMarkers(e) : [],\r\n      docMarkers: isDefs ? [] : getErrorMarkers(e),\r\n    };\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction parseDoc(doc: string, defs: IODefinitions | null = null, skipErrors = false): ParsingResult {\r\n  return tryParse(doc, (d) => parse(d, defs), false, skipErrors);\r\n}\r\n\r\n\r\n\r\nfunction getErrorMessage(e: any): string {\r\n  if (e instanceof IOSyntaxError) return 'SYNTAX_ERROR: ' + (e?.message || String(e));\r\n  if (e instanceof IOValidationError) return 'VALIDATION_ERROR: ' + (e?.message || String(e));\r\n  return 'ERROR: ' + (e?.message || String(e));\r\n}\r\n\r\nfunction getErrorCategory(e: any): ErrorCategory {\r\n  if (e instanceof IOSyntaxError) return 'syntax';\r\n  if (e instanceof IOValidationError) return 'validation';\r\n  return 'runtime';\r\n}\r\n\r\nfunction errorToRange(e: any): ErrorRange | null {\r\n  if (!(e instanceof IOError)) return null;\r\n  const startPos: any = e.positionRange?.getStartPos();\r\n  const endPos: any = e.positionRange?.getEndPos();\r\n  if (!startPos || !endPos) return null;\r\n\r\n  return {\r\n    startLine: startPos.row,\r\n    startColumn: startPos.col,\r\n    endLine: endPos.row,\r\n    endColumn: endPos.col,\r\n  };\r\n}\r\n\r\nfunction errorToErrorItem(e: any, source: 'doc' | 'defs'): ErrorItem | null {\r\n  const range = errorToRange(e);\r\n  if (!range) return null;\r\n\r\n  const category = getErrorCategory(e);\r\n  const message = e?.message || String(e);\r\n\r\n  return {\r\n    id: generateErrorId(range, message),\r\n    code: (e as any).code, // IOError may have a code property\r\n    category,\r\n    message,\r\n    range,\r\n    source,\r\n  };\r\n}\r\n\r\nfunction getErrorMarkers(e: any): EditorMarker[] {\r\n  if (!(e instanceof IOError)) return [];\r\n  const range = errorToRange(e);\r\n  if (!range) return [];\r\n\r\n  const category = getErrorCategory(e);\r\n  const severity = categoryToSeverity(category) as 1 | 2 | 4 | 8;\r\n  const message = e?.message || String(e);\r\n\r\n  const marker: EditorMarker = {\r\n    message,\r\n    severity,\r\n    startLineNumber: range.startLine,\r\n    startColumn: range.startColumn,\r\n    endLineNumber: range.endLine,\r\n    endColumn: range.endColumn,\r\n    id: generateErrorId(range, message),\r\n    category,\r\n  };\r\n  return [marker];\r\n}\r\n","/**\r\n * React hook for managing the parser Web Worker.\r\n * Provides timeout, cancellation, and automatic cleanup.\r\n */\r\n\r\nimport { useEffect, useRef, useState, useCallback } from 'react';\r\nimport type { ParseRequest, ParseResponse } from '../workers/parser.worker';\r\nimport type { ErrorItem, EditorMarker } from '../types/errors';\r\n\r\nexport interface WorkerParseResult {\r\n  errorMessages: string[];\r\n  errorItems: ErrorItem[];\r\n  docMarkers: EditorMarker[];\r\n  defsMarkers: EditorMarker[];\r\n  jsonText: string;\r\n  error: boolean;\r\n}\r\n\r\nexport interface UseParserWorkerOptions {\r\n  /** Timeout in milliseconds (default: 5000) */\r\n  timeout?: number;\r\n  /** Enable debug logging */\r\n  debug?: boolean;\r\n}\r\n\r\nexport interface UseParserWorkerResult {\r\n  /** Parse function to call with document and schema */\r\n  parse: (\r\n    documentText: string,\r\n    schemaText: string | null,\r\n    skipErrors: boolean,\r\n    minifiedOutput: boolean\r\n  ) => Promise<WorkerParseResult>;\r\n  /** Cancel current parse operation */\r\n  cancel: () => void;\r\n  /** Whether a parse is currently in progress */\r\n  isParsing: boolean;\r\n  /** Whether the worker is ready */\r\n  isReady: boolean;\r\n  /** Last error from worker initialization */\r\n  workerError: string | null;\r\n}\r\n\r\nlet nextRequestId = 0;\r\n\r\nexport function useParserWorker(\r\n  options: UseParserWorkerOptions = {}\r\n): UseParserWorkerResult {\r\n  const { timeout = 5000, debug = false } = options;\r\n\r\n  const workerRef = useRef<Worker | null>(null);\r\n  const pendingRequestRef = useRef<{\r\n    id: string;\r\n    resolve: (result: WorkerParseResult) => void;\r\n    reject: (error: Error) => void;\r\n    timeoutId: number;\r\n  } | null>(null);\r\n\r\n  const [isParsing, setIsParsing] = useState(false);\r\n  const [isReady, setIsReady] = useState(false);\r\n  const [workerError, setWorkerError] = useState<string | null>(null);\r\n\r\n  // Initialize worker\r\n  useEffect(() => {\r\n    if (debug) {\r\n      console.log('[ParserWorker] Initializing parser worker');\r\n    }\r\n\r\n    try {\r\n      // Create worker with Vite's worker syntax\r\n      const worker = new Worker(\r\n        new URL('../workers/parser.worker.ts', import.meta.url),\r\n        { type: 'module' }\r\n      );\r\n\r\n      worker.addEventListener('message', handleMessage);\r\n      worker.addEventListener('error', handleError);\r\n\r\n      workerRef.current = worker;\r\n      setIsReady(true);\r\n      setWorkerError(null);\r\n\r\n      if (debug) {\r\n        console.log('[ParserWorker] Worker initialized successfully');\r\n      }\r\n\r\n      return () => {\r\n        if (debug) {\r\n          console.log('[ParserWorker] Terminating worker');\r\n        }\r\n\r\n        worker.removeEventListener('message', handleMessage);\r\n        worker.removeEventListener('error', handleError);\r\n        worker.terminate();\r\n        workerRef.current = null;\r\n        setIsReady(false);\r\n      };\r\n    } catch (error: any) {\r\n      const errorMsg = `Failed to initialize worker: ${error.message}`;\r\n      console.error('[ParserWorker]', errorMsg, error);\r\n      setWorkerError(errorMsg);\r\n      setIsReady(false);\r\n      return;\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleMessage = useCallback(\r\n    (event: MessageEvent<ParseResponse>) => {\r\n      const response = event.data;\r\n\r\n      if (!pendingRequestRef.current || response.id !== pendingRequestRef.current.id) {\r\n        if (debug) {\r\n          console.warn('[ParserWorker] Received response for unknown request:', response.id);\r\n        }\r\n        return;\r\n      }\r\n\r\n      const { resolve, reject, timeoutId } = pendingRequestRef.current;\r\n\r\n      // Clear timeout\r\n      window.clearTimeout(timeoutId);\r\n\r\n      if (response.type === 'result' && response.result) {\r\n        if (debug) {\r\n          console.log('[ParserWorker] Parse completed:', response.id);\r\n        }\r\n        resolve(response.result);\r\n      } else if (response.type === 'error') {\r\n        if (debug) {\r\n          console.error('[ParserWorker] Parse error:', response.error);\r\n        }\r\n        reject(new Error(response.error || 'Unknown worker error'));\r\n      }\r\n\r\n      pendingRequestRef.current = null;\r\n      setIsParsing(false);\r\n    },\r\n    [debug]\r\n  );\r\n\r\n  const handleError = useCallback(\r\n    (error: ErrorEvent) => {\r\n      const errorMsg = `Worker error: ${error.message}`;\r\n      console.error('[ParserWorker]', errorMsg, error);\r\n\r\n      if (pendingRequestRef.current) {\r\n        const { reject, timeoutId } = pendingRequestRef.current;\r\n        window.clearTimeout(timeoutId);\r\n        reject(new Error(errorMsg));\r\n        pendingRequestRef.current = null;\r\n        setIsParsing(false);\r\n      }\r\n\r\n      setWorkerError(errorMsg);\r\n    },\r\n    []\r\n  );\r\n\r\n  const cancel = useCallback(() => {\r\n    if (pendingRequestRef.current) {\r\n      const { reject, timeoutId } = pendingRequestRef.current;\r\n      window.clearTimeout(timeoutId);\r\n      reject(new Error('Parse operation cancelled'));\r\n      pendingRequestRef.current = null;\r\n      setIsParsing(false);\r\n\r\n      if (debug) {\r\n        console.log('[ParserWorker] Parse cancelled');\r\n      }\r\n    }\r\n  }, [debug]);\r\n\r\n  const parse = useCallback(\r\n    (\r\n      documentText: string,\r\n      schemaText: string | null,\r\n      skipErrors: boolean,\r\n      minifiedOutput: boolean\r\n    ): Promise<WorkerParseResult> => {\r\n      return new Promise((resolve, reject) => {\r\n        if (!workerRef.current) {\r\n          reject(new Error('Worker not initialized'));\r\n          return;\r\n        }\r\n\r\n        // Cancel any pending request\r\n        if (pendingRequestRef.current) {\r\n          cancel();\r\n        }\r\n\r\n        const id = `parse-${++nextRequestId}`;\r\n\r\n        const timeoutId = window.setTimeout(() => {\r\n          if (pendingRequestRef.current?.id === id) {\r\n            pendingRequestRef.current = null;\r\n            setIsParsing(false);\r\n            reject(new Error(`Parse operation timed out after ${timeout}ms`));\r\n\r\n            if (debug) {\r\n              console.error('[ParserWorker] Parse timeout:', id);\r\n            }\r\n          }\r\n        }, timeout);\r\n\r\n        pendingRequestRef.current = { id, resolve, reject, timeoutId };\r\n        setIsParsing(true);\r\n\r\n        const request: ParseRequest = {\r\n          type: 'parse',\r\n          id,\r\n          documentText,\r\n          schemaText,\r\n          skipErrors,\r\n          minifiedOutput,\r\n        };\r\n\r\n        if (debug) {\r\n          console.log('[ParserWorker] Sending parse request:', id);\r\n        }\r\n\r\n        workerRef.current.postMessage(request);\r\n      });\r\n    },\r\n    [timeout, debug, cancel]\r\n  );\r\n\r\n  return {\r\n    parse,\r\n    cancel,\r\n    isParsing,\r\n    isReady,\r\n    workerError,\r\n  };\r\n}\r\n","/**\r\n * Enhanced parsing hook with optional Web Worker support.\r\n * Falls back to main thread if worker is unavailable.\r\n *\r\n * Phase 6: Web Worker Implementation\r\n * - Supports worker-based parsing (when enabled)\r\n * - Automatic fallback to main thread\r\n * - Timeout and cancellation support\r\n * - Same interface as original use-parse-io\r\n */\r\n\r\nimport { useCallback, useState, useEffect } from 'react';\r\nimport { Decimal } from 'internet-object';\r\nimport parseIO from '../pages/playgroud/compiler';\r\nimport { useParserWorker } from './use-parser-worker';\r\nimport type { ErrorItem, EditorMarker } from '../types/errors';\r\n\r\nexport interface ParseIOResult {\r\n  markers: EditorMarker[];\r\n  defMarkers: EditorMarker[];\r\n  jsonText: string;\r\n  error: boolean;\r\n  errorMessages: string[];  // Deprecated: use errorItems instead\r\n  errorItems: ErrorItem[];  // Structured errors with full metadata\r\n  parse: () => void;\r\n  isParsing?: boolean;  // New: indicates async parsing in progress\r\n  parseError?: string;  // New: worker/timeout errors\r\n}\r\n\r\nexport interface UseParseIOOptions {\r\n  /** Enable Web Worker parsing (default: false until Vite migration) */\r\n  useWorker?: boolean;\r\n  /** Worker timeout in ms (default: 5000) */\r\n  timeout?: number;\r\n  /** Debug logging */\r\n  debug?: boolean;\r\n}\r\n\r\nexport function useParseIO(\r\n  documentText: string,\r\n  schemaText: string,\r\n  showSchema: boolean,\r\n  minifiedOutput: boolean,\r\n  skipErrors: boolean,\r\n  options: UseParseIOOptions = {}\r\n): ParseIOResult {\r\n  const { useWorker = false, timeout = 5000, debug = false } = options;\r\n\r\n  const [markers, setMarkers] = useState<EditorMarker[]>([]);\r\n  const [defMarkers, setDefMarkers] = useState<EditorMarker[]>([]);\r\n  const [jsonText, setJsonText] = useState<string>('');\r\n  const [error, setError] = useState<boolean>(false);\r\n  const [errorMessages, setErrorMessages] = useState<string[]>([]);\r\n  const [errorItems, setErrorItems] = useState<ErrorItem[]>([]);\r\n  const [parseError, setParseError] = useState<string | undefined>(undefined);\r\n\r\n  // Initialize worker (no-op if useWorker=false)\r\n  const worker = useParserWorker({ timeout, debug });\r\n\r\n  // Determine if we can use worker\r\n  const canUseWorker = useWorker && worker.isReady;\r\n\r\n  // Log worker status on initialization\r\n  useEffect(() => {\r\n    if (useWorker) {\r\n      console.log('[useParseIO] Worker enabled:', {\r\n        useWorker,\r\n        isReady: worker.isReady,\r\n        canUse: canUseWorker,\r\n        error: worker.workerError,\r\n      });\r\n    }\r\n  }, [useWorker, worker.isReady, canUseWorker, worker.workerError]);\r\n\r\n  // Parse function - supports both sync (main thread) and async (worker)\r\n  const parse = useCallback(() => {\r\n    setParseError(undefined);\r\n\r\n    if (canUseWorker) {\r\n      // Async worker parsing\r\n      if (debug) {\r\n        console.log('[useParseIO] Using worker for parsing');\r\n      }\r\n\r\n      worker\r\n        .parse(documentText, showSchema ? schemaText : null, skipErrors, minifiedOutput)\r\n        .then((result) => {\r\n          setDefMarkers(result.defsMarkers);\r\n          setMarkers(result.docMarkers);\r\n          setErrorMessages(result.errorMessages);\r\n          setErrorItems(result.errorItems);\r\n          setJsonText(result.jsonText);\r\n          setError(result.error);\r\n        })\r\n        .catch((err: Error) => {\r\n          setParseError(err.message);\r\n          setJsonText('');\r\n          setError(true);\r\n          setErrorMessages([err.message]);\r\n          setErrorItems([]);\r\n\r\n          if (debug) {\r\n            console.error('[useParseIO] Worker parse error:', err);\r\n          }\r\n        });\r\n    } else {\r\n      // Sync main thread parsing (current behavior)\r\n      if (debug && useWorker) {\r\n        console.log('[useParseIO] Worker not available, using main thread');\r\n      }\r\n\r\n      const result = parseIO(documentText, showSchema ? schemaText : null, skipErrors);\r\n\r\n      if (result.defsMarkers) {\r\n        setDefMarkers(result.defsMarkers);\r\n      } else {\r\n        setDefMarkers([]);\r\n      }\r\n\r\n      if (result.docMarkers) {\r\n        setMarkers(result.docMarkers);\r\n      } else {\r\n        setMarkers([]);\r\n      }\r\n\r\n      const hasErrors = result.errorMessages.length > 0;\r\n      setErrorMessages(result.errorMessages);\r\n      setErrorItems(result.errorItems);\r\n\r\n      if (result.output) {\r\n        const output = JSON.stringify(\r\n          result.output,\r\n          function (k, v: any) {\r\n            if (typeof v === 'bigint') return `io:big:${v.toString()}`;\r\n            if (typeof v === 'number' && isNaN(v)) return 'io:number:NaN';\r\n            if (v instanceof Decimal) return `io:decimal:${v.toString()}`;\r\n            if (v === Infinity) return 'io:number:Inf';\r\n            if (v === -Infinity) return 'io:number:-Inf';\r\n            if (typeof v === 'undefined') return 'io:undefined';\r\n            return v;\r\n          },\r\n          minifiedOutput ? 0 : 2\r\n        );\r\n        setJsonText(output);\r\n        setError(hasErrors);\r\n      } else if (hasErrors) {\r\n        setJsonText('');\r\n        setError(true);\r\n      } else {\r\n        setJsonText('');\r\n        setError(false);\r\n      }\r\n    }\r\n  }, [\r\n    documentText,\r\n    showSchema,\r\n    schemaText,\r\n    minifiedOutput,\r\n    skipErrors,\r\n    canUseWorker,\r\n    worker,\r\n    debug,\r\n    useWorker,\r\n  ]);\r\n\r\n  // Auto-cancel on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (canUseWorker && worker.isParsing) {\r\n        worker.cancel();\r\n      }\r\n    };\r\n  }, [canUseWorker, worker]);\r\n\r\n  return {\r\n    markers,\r\n    defMarkers,\r\n    jsonText,\r\n    error,\r\n    errorMessages,\r\n    errorItems,\r\n    parse,\r\n    isParsing: canUseWorker ? worker.isParsing : undefined,\r\n    parseError,\r\n  };\r\n}\r\n","import 'split-pane-react/esm/themes/default.css';\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport Toggle             from 'react-toggle';\r\nimport { useRecoilState } from 'recoil';\r\nimport { Pane }           from 'split-pane-react';\r\nimport SplitPane          from 'split-pane-react/esm/SplitPane';\r\n\r\nimport Bar            from '../../components/bar/Bar';\r\nimport Editor         from '../../components/editor/Editor';\r\nimport Output         from '../../components/output/Output';\r\nimport editorPosition from '../../states/editor-pos';\r\nimport { useParseIO } from '../../hooks/use-parse-io-v2';\r\nimport { findMarkerForPosition } from '../../utils/errorSorting';\r\n\r\ninterface PlaygroundProps {\r\n  showSchema: boolean;\r\n  setShowSchema: (show: boolean) => void;\r\n  document: string;\r\n  setDocument: (doc: string) => void;\r\n  schema: string;\r\n  setSchema: (schema: string) => void;\r\n  schemaPanelHeight?: number;\r\n  minifiedOutput: boolean;\r\n  setMinifiedOutput: (val: boolean) => void;\r\n  skipErrors: boolean;\r\n  setSkipErrors: (val: boolean) => void;\r\n}\r\n\r\nconst DEFAULT_SCHEMA_PANEL_HEIGHT = 200;\r\nconst MIN_PANEL_SIZE              = 100;\r\nconst DEFAULT_VERTICAL_SIZE       = '60%';\r\n\r\nconst Playground = ({\r\n  showSchema,  setShowSchema,\r\n  document, setDocument,\r\n  schema, setSchema,\r\n  schemaPanelHeight,\r\n  minifiedOutput, setMinifiedOutput,\r\n  skipErrors, setSkipErrors,\r\n}: PlaygroundProps) => {\r\n\r\n  const [, setEditorPos] = useRecoilState(editorPosition);\r\n\r\n  // State for horizontal and vertical split sizes\r\n  const [sizesH, setHSizes] = useState<[number | string, string]>([0, 'auto']);\r\n  const sizesHRef = useRef(sizesH);\r\n  useEffect(() => {\r\n    sizesHRef.current = sizesH;\r\n  }, [sizesH]);\r\n\r\n  const [sizesV, setVSizes] = useState<[number | string, string]>([0, 'auto']);\r\n  // const [schemaText, setSchemaText] = useState<string>(schema);\r\n  // const [documentText, setDocumentText] = useState<string>(document);\r\n  const { markers, defMarkers, jsonText, error, errorMessages, errorItems, parse, isParsing } = useParseIO(\r\n    document,\r\n    schema,\r\n    showSchema,\r\n    minifiedOutput,\r\n    skipErrors,\r\n    { useWorker: true, debug: false } // Enable Web Worker parsing\r\n  );\r\n  const [docSelection, setDocSelection] = useState<{ startLineNumber: number; startColumn: number; endLineNumber?: number; endColumn?: number } | null>(null);\r\n\r\n\r\n  // Set initial horizontal split size when schemaPanelHeight changes\r\n  useEffect(() => {\r\n    setHSizes([schemaPanelHeight || DEFAULT_SCHEMA_PANEL_HEIGHT, 'auto']);\r\n  }, [schemaPanelHeight]);\r\n\r\n  // Debounced parse effect\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      parse();\r\n    }, 500);\r\n    return () => clearTimeout(timer);\r\n  }, [schema, document, showSchema, minifiedOutput, skipErrors, parse]);\r\n\r\n  // Sync schema and document text with props\r\n  // useEffect(() => {\r\n  //   setSchemaText(schema);\r\n  //   setDocumentText(document);\r\n  // }, [schema, document]);\r\n\r\n  // Set initial vertical split size\r\n  useEffect(() => {\r\n    if (sizesV[0] === 0) {\r\n      setVSizes([DEFAULT_VERTICAL_SIZE, 'auto']);\r\n    }\r\n  }, [sizesV]);\r\n\r\n  // Update horizontal split when showSchema changes\r\n  useEffect(() => {\r\n    if (!showSchema) {\r\n      setHSizes([0, 'auto']);\r\n    } else {\r\n      setHSizes([schemaPanelHeight || DEFAULT_SCHEMA_PANEL_HEIGHT, 'auto']);\r\n    }\r\n  }, [showSchema, schemaPanelHeight]);\r\n\r\n  // Handlers\r\n  const handleHBarDragEnd = () => {\r\n    const currentSizesH = sizesHRef.current;\r\n    if (typeof currentSizesH[0] === 'number') {\r\n      if (currentSizesH[0] <= MIN_PANEL_SIZE) {\r\n        setHSizes([showSchema ? 0 : DEFAULT_SCHEMA_PANEL_HEIGHT, 'auto']);\r\n        setShowSchema(!showSchema);\r\n      } else {\r\n        setShowSchema(currentSizesH[0] > 0);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCaretPositionChange = (name: string, position: any) => {\r\n    setEditorPos({\r\n      editorName: name,\r\n      row: position.row,\r\n      column: position.column,\r\n      position: position.position,\r\n    });\r\n  };\r\n\r\n  const handleNavigateToError = ({ line, col }: { line: number; col: number }) => {\r\n    if (!markers || markers.length === 0) return;\r\n\r\n    // Use tested utility to find best matching marker\r\n    const chosen = findMarkerForPosition(markers, { line, col });\r\n\r\n    if (chosen) {\r\n      setDocSelection({\r\n        startLineNumber: chosen.startLineNumber ?? line,\r\n        startColumn: chosen.startColumn ?? col,\r\n        endLineNumber: chosen.endLineNumber ?? line,\r\n        endColumn: chosen.endColumn ?? (col + 1),\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"editor-area\">\r\n      <SplitPane\r\n        split=\"vertical\"\r\n        sizes={sizesV}\r\n        onChange={setVSizes}\r\n        sashRender={(size: number) => <div className=\"sash\" />}\r\n      >\r\n        <Pane minSize={20} maxSize=\"80%\">\r\n          <div className=\"editor-area-left\">\r\n            <SplitPane\r\n              split=\"horizontal\"\r\n              sizes={sizesH}\r\n              onChange={setHSizes}\r\n              onDragEnd={handleHBarDragEnd}\r\n              sashRender={() => <div className=\"sash\" />}\r\n            >\r\n              <Pane minSize={0}>\r\n                <div className=\"top\" style={{ height: '100%' }}>\r\n                  <Bar label=\"Schema & Definitions\" bytes={schema.length} />\r\n                  <Editor\r\n                    onChange={setSchema}\r\n                    value={schema}\r\n                    markers={defMarkers}\r\n                    onChangeCaretPosition={pos => handleCaretPositionChange(\"Definitions\", pos)}\r\n                  />\r\n                </div>\r\n              </Pane>\r\n              <Pane minSize={200}>\r\n                <div className=\"bottom\" style={{ height: '100%' }}>\r\n                  <Bar label=\"Internet Object Document\" bytes={document.length} outputBytes={jsonText.length} minified={minifiedOutput} isError={error} />\r\n                  <Editor\r\n                    value={document}\r\n                    markers={markers}\r\n                    onChange={setDocument}\r\n                    onChangeCaretPosition={pos => handleCaretPositionChange(\"Internet Object\", pos)}\r\n                    selection={docSelection}\r\n                  />\r\n                </div>\r\n              </Pane>\r\n            </SplitPane>\r\n          </div>\r\n        </Pane>\r\n        <div className=\"editor-area-right\">\r\n          <Bar label=\"JSON Output\" bytes={jsonText.length} title=\"Shows the comparable JSON output generated from the Internet Object document\">\r\n            <div className=\"toggle-group\">\r\n              <label className=\"toggleSwtich\" title=\"Skip error objects in output\">\r\n                <span>Skip Errors in Output</span>\r\n                <Toggle\r\n                  onChange={e => { localStorage.setItem('skipErrors', e.target.checked.toString()); setSkipErrors(e.target.checked); }}\r\n                  checked={skipErrors}\r\n                  aria-label=\"Toggle skip errors in JSON output\"\r\n                />\r\n              </label>\r\n              <label className=\"toggleSwtich\" title=\"Compress\">\r\n                <span>Minify</span>\r\n                <Toggle\r\n                  onChange={e => { localStorage.setItem('minifiedOutput', e.target.checked.toString()); setMinifiedOutput(e.target.checked); }}\r\n                  checked={minifiedOutput}\r\n                  aria-label=\"Toggle minified JSON output\"\r\n                />\r\n              </label>\r\n            </div>\r\n          </Bar>\r\n          <Output\r\n            value={jsonText}\r\n            error={error}\r\n            errorMessages={errorMessages}\r\n            errorItems={errorItems}\r\n            options={{ wordWrap: \"on\" }}\r\n            onNavigateToError={handleNavigateToError}\r\n            isParsing={isParsing}\r\n          />\r\n        </div>\r\n      </SplitPane>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Playground\r\n","import { useEffect, useState, useRef } from 'react';\r\nimport './WelcomeNotification.css';\r\n\r\nconst STORAGE_KEY = 'io-playground-visited';\r\n\r\ninterface WelcomeNotificationProps {\r\n  onClose?: () => void;\r\n}\r\n\r\nfunction WelcomeNotification({ onClose }: WelcomeNotificationProps): JSX.Element | null {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [position, setPosition] = useState({ top: 0, right: 0 });\r\n\r\n  useEffect(() => {\r\n    // Check if user has visited before\r\n    const hasVisited = localStorage.getItem(STORAGE_KEY);\r\n\r\n    if (!hasVisited) {\r\n      // Show notification after a brief delay for better UX\r\n      setTimeout(() => {\r\n        // Find the dropdown menu\r\n        const dropdown = document.getElementById('sample-data-selector');\r\n        if (dropdown) {\r\n          const rect = dropdown.getBoundingClientRect();\r\n          setPosition({\r\n            top: rect.bottom + 15,\r\n            right: window.innerWidth - rect.right\r\n          });\r\n        }\r\n        setIsVisible(true);\r\n      }, 500);\r\n    }\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    // Mark as visited\r\n    localStorage.setItem(STORAGE_KEY, 'true');\r\n    setIsVisible(false);\r\n    onClose?.();\r\n  };\r\n\r\n  if (!isVisible) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"welcome-notification\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"welcome-title\"\r\n      style={{ top: `${position.top}px`, right: `${position.right}px` }}\r\n    >\r\n      <div className=\"welcome-content\">\r\n        <button\r\n          className=\"welcome-close\"\r\n          onClick={handleClose}\r\n          aria-label=\"Close welcome notification\"\r\n        >\r\n          \r\n        </button>\r\n        <h3 id=\"welcome-title\"> Welcome to Internet Object Playground!</h3>\r\n        <p>\r\n          Use the dropdown menu above to load various sample data and explore different Internet Object concepts.\r\n        </p>\r\n        <p className=\"welcome-hint\">\r\n          Try selecting from categories like Simple, Types, Schema and Definitions, and Applications to see how Internet Object works!\r\n        </p>\r\n        <button className=\"welcome-button\" onClick={handleClose}>\r\n          Got it!\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WelcomeNotification;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport './ShareDialog.css';\r\n\r\ninterface ShareDialogProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  url: string;\r\n  showSchema: boolean;\r\n  minifiedOutput: boolean;\r\n  skipErrors: boolean;\r\n}\r\n\r\nexport default function ShareDialog({\r\n  isOpen,\r\n  onClose,\r\n  url,\r\n  showSchema,\r\n  minifiedOutput,\r\n  skipErrors\r\n}: ShareDialogProps) {\r\n  const [copied, setCopied] = useState(false);\r\n  const [shortUrl, setShortUrl] = useState('');\r\n  const [isShortening, setIsShortening] = useState(false);\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  const abortControllerRef = useRef<AbortController | null>(null);\r\n\r\n  const displayUrl = shortUrl || url;\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setShortUrl('');\r\n      setCopied(false);\r\n      setIsShortening(false);\r\n      // Focus input when opened\r\n      setTimeout(() => {\r\n        inputRef.current?.select();\r\n      }, 100);\r\n    } else {\r\n      // Cancel any ongoing requests when closed\r\n      if (abortControllerRef.current) {\r\n        abortControllerRef.current.abort();\r\n        abortControllerRef.current = null;\r\n      }\r\n      setIsShortening(false);\r\n    }\r\n  }, [isOpen, url]);\r\n\r\n  const handleCopy = () => {\r\n    navigator.clipboard.writeText(displayUrl).then(() => {\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    });\r\n  };\r\n\r\n  const handleShorten = async () => {\r\n    // Cancel previous request if any\r\n    if (abortControllerRef.current) {\r\n      abortControllerRef.current.abort();\r\n    }\r\n\r\n    const controller = new AbortController();\r\n    abortControllerRef.current = controller;\r\n    const signal = controller.signal;\r\n\r\n    setIsShortening(true);\r\n\r\n    try {\r\n      // Try da.gd first (supports CORS and POST, no preview page)\r\n      try {\r\n        const response = await fetch('https://da.gd/s', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n          body: new URLSearchParams({ url: url }),\r\n          signal\r\n        });\r\n\r\n        if (response.ok) {\r\n          const text = await response.text();\r\n          if (!signal.aborted) {\r\n            setShortUrl(text.trim());\r\n            return;\r\n          }\r\n        }\r\n      } catch (error) {\r\n        if (signal.aborted) throw error;\r\n        console.warn('Primary shortener (da.gd) failed:', error);\r\n      }\r\n\r\n      // Fallback 1: clck.ru (supports CORS and POST, no preview page)\r\n      try {\r\n        const response = await fetch('https://clck.ru/--', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n          body: new URLSearchParams({ url: url }),\r\n          signal\r\n        });\r\n\r\n        if (response.ok) {\r\n          const text = await response.text();\r\n          if (!signal.aborted) {\r\n            setShortUrl(text.trim());\r\n            return;\r\n          }\r\n        }\r\n      } catch (error) {\r\n        if (signal.aborted) throw error;\r\n        console.warn('Fallback shortener (clck.ru) failed:', error);\r\n      }\r\n\r\n      // Fallback 2: TinyURL (reliable but has preview page)\r\n      try {\r\n        const response = await fetch(`https://tinyurl.com/api-create.php?url=${encodeURIComponent(url)}`, { signal });\r\n        if (response.ok) {\r\n          const text = await response.text();\r\n          if (!signal.aborted) {\r\n            setShortUrl(text);\r\n          }\r\n        }\r\n      } catch (fallbackError) {\r\n        if (signal.aborted) throw fallbackError;\r\n        console.error('All shorteners failed:', fallbackError);\r\n      }\r\n    } catch (error: any) {\r\n      if (error.name === 'AbortError') {\r\n        console.log('Shortening aborted');\r\n      }\r\n    } finally {\r\n      if (!signal.aborted) {\r\n        setIsShortening(false);\r\n        abortControllerRef.current = null;\r\n      }\r\n    }\r\n  };  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"share-dialog-overlay\" onClick={onClose}>\r\n      <div className=\"share-dialog-content\" onClick={e => e.stopPropagation()}>\r\n        <button className=\"share-dialog-close\" onClick={onClose}></button>\r\n\r\n        <div className=\"share-dialog-header\">\r\n          <div className=\"share-icon-large\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n              <circle cx=\"18\" cy=\"5\" r=\"3\"></circle>\r\n              <circle cx=\"6\" cy=\"12\" r=\"3\"></circle>\r\n              <circle cx=\"18\" cy=\"19\" r=\"3\"></circle>\r\n              <line x1=\"8.59\" y1=\"13.51\" x2=\"15.42\" y2=\"17.49\"></line>\r\n              <line x1=\"15.41\" y1=\"6.51\" x2=\"8.59\" y2=\"10.49\"></line>\r\n            </svg>\r\n          </div>\r\n          <h2>Share Internet Object Code</h2>\r\n        </div>\r\n\r\n        <div className=\"share-dialog-body\">\r\n          <p className=\"share-promo\">\r\n            Share your Internet Object schema and data with others! <br/>\r\n            <span className=\"highlight-text\">Internet Object: A lean, schema-first, and well-thought alternative to JSON.</span>\r\n          </p>\r\n\r\n          <div className=\"share-input-group\">\r\n            <input\r\n              ref={inputRef}\r\n              type=\"text\"\r\n              value={displayUrl}\r\n              readOnly\r\n              aria-label=\"Share URL\"\r\n              onClick={(e) => e.currentTarget.select()}\r\n            />\r\n            {!shortUrl && (\r\n              <button\r\n                className=\"shorten-btn\"\r\n                onClick={handleShorten}\r\n                disabled={isShortening}\r\n                data-tooltip=\"Generate a short link for easier sharing.\"\r\n              >\r\n                {isShortening ? <div className=\"spinner\" /> : 'Shorten'}\r\n              </button>\r\n            )}\r\n            <button\r\n              className={`copy-btn ${copied ? 'copied' : ''}`}\r\n              onClick={handleCopy}\r\n            >\r\n              {copied ? 'Copied!' : 'Copy Link'}\r\n            </button>\r\n          </div>\r\n\r\n          {!shortUrl && (\r\n            <p className=\"share-large-data-hint\">\r\n              Tip: For large datasets, use the <strong>Shorten</strong> button to generate a compact link.\r\n            </p>\r\n          )}\r\n\r\n          <div className=\"share-options\">\r\n            <span className=\"share-options-label\">Included Settings:</span>\r\n            <div className=\"share-option-tags\">\r\n              <span className={`share-option-tag ${showSchema ? 'active' : ''}`}>\r\n                {showSchema ? '' : ''} Separate Schema\r\n              </span>\r\n              <span className={`share-option-tag ${minifiedOutput ? 'active' : ''}`}>\r\n                {minifiedOutput ? '' : ''} Minified\r\n              </span>\r\n              <span className={`share-option-tag ${skipErrors ? 'active' : ''}`}>\r\n                {skipErrors ? '' : ''} Skip Errors\r\n              </span>\r\n            </div>\r\n            <p className=\"share-options-hint\">\r\n              To update these settings, close the dialog, modify the playground configuration, and click the share button again.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import './WarningDialog.css';\r\n\r\ninterface WarningDialogProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title?: string;\r\n  message: string;\r\n}\r\n\r\nexport default function WarningDialog({ isOpen, onClose, title = \"Warning\", message }: WarningDialogProps) {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"warning-dialog-overlay\" onClick={onClose}>\r\n      <div className=\"warning-dialog-content\" onClick={e => e.stopPropagation()}>\r\n        <button className=\"warning-dialog-close\" onClick={onClose}></button>\r\n\r\n        <div className=\"warning-dialog-header\">\r\n          <div className=\"warning-icon-large\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n              <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path>\r\n              <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line>\r\n              <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\r\n            </svg>\r\n          </div>\r\n          <h2>{title}</h2>\r\n        </div>\r\n\r\n        <div className=\"warning-dialog-body\">\r\n          <p className=\"warning-message\">\r\n            {message}\r\n          </p>\r\n\r\n          <div className=\"warning-actions\">\r\n            <button\r\n              className=\"warning-btn\"\r\n              onClick={onClose}\r\n            >\r\n              Got it\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef, useState, useCallback } from 'react';\r\nimport MonacoEditor from '@monaco-editor/react';\r\nimport { loadInferred, stringifyDocument } from 'internet-object';\r\nimport './ImportJSONDialog.css';\r\n\r\ninterface ImportJSONDialogProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onImport: (schema: string, document: string) => void;\r\n}\r\n\r\ninterface JsonError {\r\n  message: string;\r\n  line?: number;\r\n  column?: number;\r\n  isIOError?: boolean; // true if it's an Internet Object error, not JSON parsing error\r\n  jsonInput?: string;  // original JSON input for bug reports\r\n}\r\n\r\nconst SAMPLE_JSON = `{\r\n  \"name\": \"John Doe\",\r\n  \"age\": 30,\r\n  \"email\": \"john@example.com\"\r\n}`;\r\n\r\n// TODO: Set to false before production release\r\nconst DEBUG_TEST_IO_ERROR = false;\r\n\r\nexport default function ImportJSONDialog({\r\n  isOpen,\r\n  onClose,\r\n  onImport,\r\n}: ImportJSONDialogProps) {\r\n  const [jsonText, setJsonText] = useState(SAMPLE_JSON);\r\n  const [error, setError] = useState<JsonError | null>(null);\r\n  const editorRef = useRef<any>(null);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setError(null);\r\n      // Focus editor when opened\r\n      setTimeout(() => {\r\n        editorRef.current?.focus();\r\n      }, 100);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const handleEditorDidMount = useCallback((editor: any) => {\r\n    editorRef.current = editor;\r\n  }, []);\r\n\r\n  // Parse JSON error message to extract line and column\r\n  const parseJsonError = useCallback((errorMessage: string): JsonError => {\r\n    // Try to extract position from error message\r\n    // Format: \"... at position X\" or \"... at line Y column Z\"\r\n    const positionMatch = errorMessage.match(/at position (\\d+)/i);\r\n    const lineColMatch = errorMessage.match(/line (\\d+) column (\\d+)/i);\r\n\r\n    if (lineColMatch) {\r\n      return {\r\n        message: errorMessage,\r\n        line: parseInt(lineColMatch[1], 10),\r\n        column: parseInt(lineColMatch[2], 10),\r\n      };\r\n    }\r\n\r\n    if (positionMatch) {\r\n      const position = parseInt(positionMatch[1], 10);\r\n      // Calculate line and column from position\r\n      const textUpToError = jsonText.substring(0, position);\r\n      const lines = textUpToError.split('\\n');\r\n      const line = lines.length;\r\n      const column = lines[lines.length - 1].length + 1;\r\n\r\n      return {\r\n        message: `${errorMessage} (line ${line} column ${column})`,\r\n        line,\r\n        column,\r\n      };\r\n    }\r\n\r\n    return { message: errorMessage };\r\n  }, [jsonText]);\r\n\r\n  const handleErrorClick = useCallback(() => {\r\n    if (error?.line && editorRef.current) {\r\n      const editor = editorRef.current;\r\n      const line = error.line;\r\n      const column = error.column || 1;\r\n\r\n      // Set cursor position and reveal the line\r\n      editor.setPosition({ lineNumber: line, column });\r\n      editor.revealLineInCenter(line);\r\n      editor.focus();\r\n\r\n      // Optionally select the line to highlight it\r\n      editor.setSelection({\r\n        startLineNumber: line,\r\n        startColumn: 1,\r\n        endLineNumber: line,\r\n        endColumn: editor.getModel()?.getLineMaxColumn(line) || column,\r\n      });\r\n    }\r\n  }, [error]);\r\n\r\n  const handleImport = useCallback(() => {\r\n    setError(null);\r\n\r\n    // First, try to parse the JSON\r\n    let jsonData: any;\r\n    try {\r\n      jsonData = JSON.parse(jsonText);\r\n    } catch (e: any) {\r\n      setError(parseJsonError(`Invalid JSON: ${e.message}`));\r\n      return;\r\n    }\r\n\r\n    // Use loadInferred to infer schema and load data\r\n    try {\r\n      const doc = loadInferred(jsonData);\r\n\r\n      // Stringify the document to get schema and data parts\r\n      // Get schema/definitions part\r\n      const schemaText = stringifyDocument(doc, { includeHeader: true });\r\n\r\n      // Extract schema (header) and data parts\r\n      // The stringifyDocument output format is:\r\n      // ~ $schema: {...}\r\n      // ~ $nestedSchema: {...}\r\n      // ---\r\n      // data, data, data\r\n\r\n      const parts = schemaText.split('\\n---\\n');\r\n      let schemaPart = '';\r\n      let dataPart = '';\r\n\r\n      if (parts.length >= 2) {\r\n        schemaPart = parts[0];\r\n        dataPart = parts.slice(1).join('\\n---\\n');\r\n      } else if (parts.length === 1) {\r\n        // Check if it's just data (starts with ~) or just schema\r\n        const trimmed = parts[0].trim();\r\n        if (trimmed.startsWith('~') && !trimmed.includes('$schema')) {\r\n          // It's data only (collection items)\r\n          dataPart = trimmed;\r\n        } else if (trimmed.startsWith('~')) {\r\n          // It's schema definitions\r\n          schemaPart = trimmed;\r\n        } else {\r\n          // Single data item\r\n          dataPart = trimmed;\r\n        }\r\n      }\r\n\r\n      // Clean up the data part - remove leading ~ for single objects\r\n      // but keep them for collection items\r\n      let cleanDataPart = dataPart.trim();\r\n      if (cleanDataPart.startsWith('~ ') && !cleanDataPart.includes('\\n~')) {\r\n        // Single item with ~ prefix, remove it\r\n        cleanDataPart = cleanDataPart.substring(2);\r\n      }\r\n\r\n      onImport(schemaPart, cleanDataPart);\r\n      onClose();\r\n    } catch (e: any) {\r\n      setError({\r\n        message: `Failed to infer schema: ${e.message}`,\r\n        isIOError: true,\r\n        jsonInput: jsonText,\r\n      });\r\n    }\r\n  }, [jsonText, onImport, onClose, parseJsonError]);\r\n\r\n  const handleReportIssue = useCallback(() => {\r\n    if (!error?.isIOError) return;\r\n\r\n    const jsonInput = error.jsonInput || '';\r\n    const isLargeJson = jsonInput.length > 500;\r\n\r\n    // For large JSON, create a downloadable file\r\n    if (isLargeJson) {\r\n      // Create and download the JSON file\r\n      const blob = new Blob([jsonInput], { type: 'application/json' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `io-import-error-${Date.now()}.json`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n    }\r\n\r\n    const issueTitle = encodeURIComponent(`[Import JSON] Schema inference error`);\r\n    const jsonSection = isLargeJson\r\n      ? `**JSON Input:** _Large file (${jsonInput.length} characters) - Please attach the downloaded \\`io-import-error-*.json\\` file to this issue._`\r\n      : `## JSON Input\r\n\\`\\`\\`json\r\n${jsonInput}\r\n\\`\\`\\``;\r\n\r\n    const issueBody = encodeURIComponent(\r\n`## Description\r\nError occurred while importing JSON and inferring schema in the IO Playground.\r\n\r\n## Error Message\r\n\\`\\`\\`\r\n${error.message}\r\n\\`\\`\\`\r\n\r\n${jsonSection}\r\n\r\n## Environment\r\n- Source: IO Playground Import JSON\r\n- Date: ${new Date().toISOString()}\r\n- User Agent: ${navigator.userAgent}\r\n\r\n## Additional Context\r\n<!-- Please add any additional context about the problem here -->\r\n${isLargeJson ? '\\n **Note:** A JSON file was downloaded to your computer. Please drag and drop it into this issue to attach it.' : ''}\r\n`\r\n    );\r\n\r\n    const githubUrl = `https://github.com/maniartech/InternetObject-js/issues/new?title=${issueTitle}&body=${issueBody}&labels=bug,import-json`;\r\n    window.open(githubUrl, '_blank');\r\n  }, [error]);  // Test function to simulate IO error (for debugging)\r\n  const handleTestIOError = useCallback(() => {\r\n    setError({\r\n      message: 'Failed to infer schema: Test error - Unable to process nested object structure at path \"data.items[0].value\"',\r\n      isIOError: true,\r\n      jsonInput: jsonText,\r\n    });\r\n  }, [jsonText]);\r\n\r\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\r\n    if (e.key === 'Escape') {\r\n      onClose();\r\n    }\r\n  }, [onClose]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"import-json-dialog-overlay\"\r\n      onClick={onClose}\r\n      onKeyDown={handleKeyDown}\r\n    >\r\n      <div\r\n        className=\"import-json-dialog-content\"\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <button className=\"import-json-dialog-close\" onClick={onClose}></button>\r\n\r\n        <div className=\"import-json-dialog-header\">\r\n          <div className=\"import-icon-large\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n              <path d=\"M17 2.1l4 4-4 4\"></path>\r\n              <path d=\"M3 12.2v-2a4 4 0 0 1 4-4h12.8\"></path>\r\n              <path d=\"M7 21.9l-4-4 4-4\"></path>\r\n              <path d=\"M21 11.8v2a4 4 0 0 1-4 4H4.2\"></path>\r\n            </svg>\r\n          </div>\r\n          <div className=\"import-json-title-group\">\r\n            <h2>JSON to IO</h2>\r\n            <span className=\"experimental-badge\">Experimental</span>\r\n          </div>\r\n        </div>\r\n\r\n        <p className=\"import-json-promo\">\r\n          While Internet Object supports JSON syntax natively, use this tool to convert your JSON to IO's native format by <span className=\"highlight-text\">inferring schemas and separating data from structure</span> for a more compact representation.\r\n        </p>\r\n\r\n        <p className=\"import-json-instruction\">\r\n          Paste or type JSON in the following code block.\r\n        </p>\r\n\r\n        <div className=\"import-json-editor-container\">\r\n          <MonacoEditor\r\n            height=\"100%\"\r\n            language=\"json\"\r\n            theme=\"vs-dark\"\r\n            value={jsonText}\r\n            onChange={(value) => setJsonText(value || '')}\r\n            onMount={handleEditorDidMount}\r\n            options={{\r\n              minimap: { enabled: false },\r\n              lineNumbers: 'on',\r\n              scrollBeyondLastLine: false,\r\n              automaticLayout: true,\r\n              fontSize: 14,\r\n              tabSize: 2,\r\n              wordWrap: 'on',\r\n              formatOnPaste: true,\r\n              formatOnType: true,\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"import-json-error-container\">\r\n            <div\r\n              className={`import-json-error ${error.line ? 'clickable' : ''}`}\r\n              onClick={error.line ? handleErrorClick : undefined}\r\n              title={error.line ? 'Click to go to error location' : undefined}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n                <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\r\n                <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"></line>\r\n              </svg>\r\n              <span>{error.message}</span>\r\n              {error.line && (\r\n                <svg className=\"goto-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                  <polyline points=\"9 18 15 12 9 6\"></polyline>\r\n                </svg>\r\n              )}\r\n            </div>\r\n            {error.isIOError && (\r\n              <button className=\"report-issue-btn\" onClick={handleReportIssue} title=\"Report this issue on GitHub\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                  <path d=\"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22\"></path>\r\n                </svg>\r\n                Report Issue\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}        <p className=\"import-json-hint\">\r\n          <strong>Tip:</strong> You can import JSON objects or arrays. The schema will be automatically inferred from your data structure.\r\n        </p>\r\n\r\n        <div className=\"import-json-button-group\">\r\n          {DEBUG_TEST_IO_ERROR && (\r\n            <button\r\n              className=\"import-json-cancel-btn\"\r\n              onClick={handleTestIOError}\r\n              style={{ color: '#f59e0b', borderColor: '#f59e0b' }}\r\n            >\r\n              Test IO Error\r\n            </button>\r\n          )}\r\n          <button className=\"import-json-cancel-btn\" onClick={onClose}>\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className=\"import-json-import-btn\"\r\n            onClick={handleImport}\r\n            disabled={!jsonText.trim()}\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n              <path d=\"M17 2.1l4 4-4 4\"></path>\r\n              <path d=\"M3 12.2v-2a4 4 0 0 1 4-4h12.8\"></path>\r\n              <path d=\"M7 21.9l-4-4 4-4\"></path>\r\n              <path d=\"M21 11.8v2a4 4 0 0 1-4 4H4.2\"></path>\r\n            </svg>\r\n            Convert\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import './App.css';\r\n\r\nimport { useCallback, useMemo, useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate, useSearchParams } from 'react-router-dom';\r\nimport Toggle                               from 'react-toggle'\r\nimport LZString                             from 'lz-string';\r\n\r\nimport Header                               from '../../components/header/Header'\r\nimport sampleData                           from '../../sample-data'\r\nimport Footer                               from '../footer/Footer'\r\nimport Playground                           from '../playgroud/Playground'\r\nimport WelcomeNotification                  from '../../components/welcome-notification/WelcomeNotification'\r\nimport ShareDialog                          from '../../components/share-dialog/ShareDialog';\r\nimport WarningDialog                        from '../../components/warning-dialog/WarningDialog';\r\nimport ImportJSONDialog                     from '../../components/import-json-dialog/ImportJSONDialog';\r\n\r\nfunction App (): JSX.Element {\r\n  const { sampleId } = useParams<{ sampleId: string }>();\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [isShareDialogOpen, setIsShareDialogOpen] = useState(false);\r\n  const [isImportJSONDialogOpen, setIsImportJSONDialogOpen] = useState(false);\r\n  const [shareUrl, setShareUrl] = useState('');\r\n  const [warningDialog, setWarningDialog] = useState<{ isOpen: boolean; message: string }>({ isOpen: false, message: '' });\r\n\r\n  // Track the previous sampleId to detect navigation vs refresh\r\n  const prevSampleIdRef = useRef<string | undefined>(sampleId);\r\n\r\n  // Initialize state from URL (query params), Session Storage, or sample data\r\n  const [sample, setSample] = useState(() => {\r\n    const sharedDoc = searchParams.get('d');\r\n    if (sharedDoc) return null;\r\n    return sampleData.find(sampleId || \"\");\r\n  });\r\n\r\n  const [document, setDocument] = useState(() => {\r\n    const sharedDoc = searchParams.get('d');\r\n    if (sharedDoc) return LZString.decompressFromEncodedURIComponent(sharedDoc) || '';\r\n\r\n    // Check session storage first (if it matches the current sample context)\r\n    const sessionSampleId = sessionStorage.getItem('io-playground-sample-id');\r\n    const sessionDoc = sessionStorage.getItem('io-playground-doc');\r\n\r\n    // If we have session data and it matches the current URL sampleId (or both are empty/root)\r\n    if (sessionDoc !== null && (sessionSampleId === (sampleId || ''))) {\r\n      return sessionDoc;\r\n    }\r\n\r\n    return sample?.doc || '';\r\n  });\r\n\r\n  const [schema, setSchema] = useState(() => {\r\n    const sharedSchema = searchParams.get('s');\r\n    if (sharedSchema) return LZString.decompressFromEncodedURIComponent(sharedSchema) || '';\r\n\r\n    const sessionSampleId = sessionStorage.getItem('io-playground-sample-id');\r\n    const sessionSchema = sessionStorage.getItem('io-playground-schema');\r\n\r\n    if (sessionSchema !== null && (sessionSampleId === (sampleId || ''))) {\r\n      return sessionSchema;\r\n    }\r\n\r\n    return sample?.schema || '';\r\n  });\r\n\r\n  const [showSchema, setShowSchema] = useState(() => {\r\n    const sharedSep = searchParams.get('sep');\r\n    if (sharedSep !== null) return sharedSep === 'true';\r\n\r\n    const sessionSampleId = sessionStorage.getItem('io-playground-sample-id');\r\n    const sessionShowSchema = sessionStorage.getItem('io-playground-show-schema');\r\n\r\n    if (sessionShowSchema !== null && (sessionSampleId === (sampleId || ''))) {\r\n      return sessionShowSchema === 'true';\r\n    }\r\n\r\n    return !!sample?.schema;\r\n  });\r\n\r\n  const [minifiedOutput, setMinifiedOutput] = useState(() => {\r\n    const sharedMin = searchParams.get('min');\r\n    if (sharedMin !== null) return sharedMin === 'true';\r\n    return localStorage.getItem('minifiedOutput') === 'true';\r\n  });\r\n\r\n  const [skipErrors, setSkipErrors] = useState(() => {\r\n    const sharedSkip = searchParams.get('skip');\r\n    if (sharedSkip !== null) return sharedSkip === 'true';\r\n    return localStorage.getItem('skipErrors') !== 'false';\r\n  });\r\n\r\n  const [hasVisited, setHasVisited] = useState(() => {\r\n    return localStorage.getItem('io-playground-visited') === 'true';\r\n  });\r\n\r\n  // Persist to Session Storage\r\n  useEffect(() => {\r\n    // Only save if we are not in \"shared\" mode (no query params)\r\n    const d = searchParams.get('d');\r\n    if (!d) {\r\n      sessionStorage.setItem('io-playground-sample-id', sampleId || '');\r\n      sessionStorage.setItem('io-playground-doc', document);\r\n      sessionStorage.setItem('io-playground-schema', schema);\r\n      sessionStorage.setItem('io-playground-show-schema', String(showSchema));\r\n    }\r\n  }, [document, schema, showSchema, sampleId, searchParams]);\r\n\r\n  // Effect to handle sampleId changes (navigation)\r\n  useEffect(() => {\r\n    const d = searchParams.get('d');\r\n    const s = searchParams.get('s');\r\n\r\n    if (!d && !s) {\r\n      // Only reset if the sampleId actually CHANGED (navigation), not on initial render/refresh\r\n      if (sampleId !== prevSampleIdRef.current) {\r\n        const found = sampleData.find(sampleId || \"\");\r\n        setSample(found);\r\n        setDocument(found?.doc || '');\r\n        setSchema(found?.schema || '');\r\n        setShowSchema(!!found?.schema);\r\n        prevSampleIdRef.current = sampleId;\r\n      }\r\n    }\r\n  }, [sampleId, searchParams]);\r\n\r\n  const options = useMemo(() => [\r\n    <option value=\"\" key=\"select\">Blank</option>,\r\n    ...sampleData.groups.map((group, i) => (\r\n      <optgroup key={i} label={group.group}>\r\n        {group.items.map(item => (\r\n          <option key={item.id} value={item.id}>{item.name}</option>\r\n        ))}\r\n      </optgroup>\r\n    ))\r\n  ], []);\r\n\r\n  const handleSampleChange = useCallback((e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const newSampleId = e.target.value;\r\n    const found = sampleData.find(newSampleId);\r\n    setSample(found);\r\n    setShowSchema(!!found?.schema);\r\n    setDocument(found?.doc || '');\r\n    setSchema(found?.schema || '');\r\n    // Clear query params when selecting a sample\r\n    setSearchParams({});\r\n    navigate(`/${newSampleId}`);\r\n  }, [navigate, setSearchParams]);\r\n\r\n  const handleWelcomeClose = useCallback(() => {\r\n    setHasVisited(true);\r\n  }, []);\r\n\r\n  const isDirty = useMemo(() => {\r\n    const initialDoc = sample?.doc || '';\r\n    const initialSchema = sample?.schema || '';\r\n    const initialShowSchema = !!sample?.schema;\r\n\r\n    return (\r\n      document !== initialDoc ||\r\n      schema !== initialSchema ||\r\n      showSchema !== initialShowSchema\r\n    );\r\n  }, [document, schema, showSchema, sample]);\r\n\r\n  const handleReset = useCallback(() => {\r\n    // Clear session storage\r\n    sessionStorage.removeItem('io-playground-sample-id');\r\n    sessionStorage.removeItem('io-playground-doc');\r\n    sessionStorage.removeItem('io-playground-schema');\r\n    sessionStorage.removeItem('io-playground-show-schema');\r\n\r\n    // Reset to current sample\r\n    const found = sampleData.find(sampleId || \"\");\r\n    setSample(found);\r\n    setDocument(found?.doc || '');\r\n    setSchema(found?.schema || '');\r\n    setShowSchema(!!found?.schema);\r\n\r\n    // Also clear query params if any (effectively resetting to clean sample state)\r\n    setSearchParams({});\r\n  }, [sampleId, setSearchParams]);\r\n\r\n  const handleShare = useCallback(() => {\r\n    if (!document.trim() && !schema.trim()) {\r\n      setWarningDialog({\r\n        isOpen: true,\r\n        message: \"There is no content to share! Please add some data or schema before sharing.\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    const compressedDoc = LZString.compressToEncodedURIComponent(document);\r\n    const compressedSchema = LZString.compressToEncodedURIComponent(schema);\r\n    const sep = showSchema ? 'true' : 'false';\r\n    const min = minifiedOutput ? 'true' : 'false';\r\n    const skip = skipErrors ? 'true' : 'false';\r\n\r\n    const newParams = { d: compressedDoc, s: compressedSchema, sep, min, skip };\r\n\r\n    // Construct full URL pointing to root\r\n    const url = new URL(window.location.origin + '/');\r\n    url.search = new URLSearchParams(newParams).toString();\r\n\r\n    setShareUrl(url.toString());\r\n    setIsShareDialogOpen(true);\r\n  }, [document, schema, showSchema, minifiedOutput, skipErrors]);\r\n\r\n  const handleImportJSON = useCallback((importedSchema: string, importedDocument: string) => {\r\n    // Set the imported schema and document\r\n    setSchema(importedSchema);\r\n    setDocument(importedDocument);\r\n\r\n    // If schema is provided, show the schema panel\r\n    if (importedSchema.trim()) {\r\n      setShowSchema(true);\r\n    }\r\n\r\n    // Clear query params and navigate to root\r\n    setSearchParams({});\r\n    setSample(null);\r\n  }, [setSearchParams]);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <WelcomeNotification onClose={handleWelcomeClose} />\r\n      <ShareDialog\r\n        isOpen={isShareDialogOpen}\r\n        onClose={() => setIsShareDialogOpen(false)}\r\n        url={shareUrl}\r\n        showSchema={showSchema}\r\n        minifiedOutput={minifiedOutput}\r\n        skipErrors={skipErrors}\r\n      />\r\n      <ImportJSONDialog\r\n        isOpen={isImportJSONDialogOpen}\r\n        onClose={() => setIsImportJSONDialogOpen(false)}\r\n        onImport={handleImportJSON}\r\n      />\r\n      <WarningDialog\r\n        isOpen={warningDialog.isOpen}\r\n        onClose={() => setWarningDialog({ ...warningDialog, isOpen: false })}\r\n        message={warningDialog.message}\r\n        title=\"Nothing to Share\"\r\n      />\r\n      <a href=\"#main-content\" className=\"skip-link\">Skip to main content</a>\r\n      <Header>\r\n        <div className='toolbar'>\r\n          <button className=\"import-json-btn\" onClick={() => setIsImportJSONDialogOpen(true)} title=\"Convert JSON to IO format with inferred schema\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n              <path d=\"M17 2.1l4 4-4 4\"></path>\r\n              <path d=\"M3 12.2v-2a4 4 0 0 1 4-4h12.8\"></path>\r\n              <path d=\"M7 21.9l-4-4 4-4\"></path>\r\n              <path d=\"M21 11.8v2a4 4 0 0 1-4 4H4.2\"></path>\r\n            </svg>\r\n            <span>JSON to IO</span>\r\n          </button>\r\n          <button className=\"share-btn\" onClick={handleShare} title=\"Share Code\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n              <circle cx=\"18\" cy=\"5\" r=\"3\"></circle>\r\n              <circle cx=\"6\" cy=\"12\" r=\"3\"></circle>\r\n              <circle cx=\"18\" cy=\"19\" r=\"3\"></circle>\r\n              <line x1=\"8.59\" y1=\"13.51\" x2=\"15.42\" y2=\"17.49\"></line>\r\n              <line x1=\"15.41\" y1=\"6.51\" x2=\"8.59\" y2=\"10.49\"></line>\r\n            </svg>\r\n            <span>Share</span>\r\n          </button>\r\n          <label className='toggle' title=\"Separate the schema from the data document!\">\r\n            <span>Separate Schema</span>\r\n            <Toggle\r\n              checked={showSchema}\r\n              onChange={e => setShowSchema(e.target.checked)}\r\n            />\r\n          </label>\r\n          <div className=\"sample-group\">\r\n            <select\r\n              id=\"sample-data-selector\"\r\n              className={hasVisited ? '' : 'highlight'}\r\n              title=\"Select IO sample data\"\r\n              onChange={handleSampleChange}\r\n              value={sample?.id || ''}\r\n            >\r\n              {options}\r\n            </select>\r\n            <button\r\n              className=\"reset-btn\"\r\n              onClick={handleReset}\r\n              title={isDirty ? \"Reset to Sample Data\" : \"No changes to reset. Use this button when you have made changes to the document or schema.\"}\r\n              disabled={!isDirty}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <path d=\"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\"></path>\r\n                <path d=\"M3 3v5h5\"></path>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Header>\r\n      <main id=\"main-content\" className='main'>\r\n        <Playground\r\n          showSchema={showSchema}\r\n          schemaPanelHeight={sample?.schemaPanelHeight}\r\n          setShowSchema={setShowSchema}\r\n          document={document}\r\n          setDocument={setDocument}\r\n          schema={schema}\r\n          setSchema={setSchema}\r\n          minifiedOutput={minifiedOutput}\r\n          setMinifiedOutput={setMinifiedOutput}\r\n          skipErrors={skipErrors}\r\n          setSkipErrors={setSkipErrors}\r\n        />\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App\r\n","import { RecoilRoot }                             from 'recoil'\r\nimport React                                      from 'react'\r\nimport ReactDOM                                   from 'react-dom/client'\r\nimport { BrowserRouter as Router }                from 'react-router-dom'\r\nimport { Route, Routes, useParams         } from 'react-router-dom'\r\nimport App                                        from './pages/app/App'\r\nimport reportWebVitals                            from './reportWebVitals'\r\nimport                                                 './styles/index.css'\r\n\r\nconst root = ReactDOM.createRoot(\r\n  document.getElementById('root') as HTMLElement\r\n)\r\nroot.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <RecoilRoot>\r\n        <Routes>\r\n          <Route path=\"/:sampleId?\" element={<App />} />\r\n        </Routes>\r\n      </RecoilRoot>\r\n    </Router>\r\n  </React.StrictMode>\r\n)\r\nreportWebVitals()\r\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","hasOwn","classNames","classes","i","arg","appendClass","parseValue","key","value","newClass","module","ReactPropTypesSecret","ReactPropTypesSecret_1","emptyFunction","emptyFunctionWithReset","factoryWithThrowingShims","shim","props","propName","componentName","location","propFullName","secret","err","getShim","ReactPropTypes","propTypesModule","check","_react","_react2","_interopRequireDefault","obj","x","util","pointerCoord","event","changedTouches","touch","pageX","component","_extends","target","source","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_classnames","require$$1","_classnames2","_propTypes","require$$2","_propTypes2","_check","require$$3","_check2","_x","require$$4","_x2","_util","require$$5","_objectWithoutProperties","keys","_classCallCheck","instance","_possibleConstructorReturn","self","call","_inherits","subClass","superClass","Toggle","_PureComponent","_this","prevProps","checkbox","checked","currentX","endX","onFocus","onBlur","type","icons","_this2","_props","className","inputProps","_ref","LZString","keyStrBase64","keyStrUriSafe","baseReverseDic","getBaseValue","alphabet","character","input","res","index","compressed","uncompressed","buf","TotalLen","current_value","result","bitsPerChar","getCharFromInt","context_dictionary","context_dictionaryToCreate","context_c","context_wc","context_w","context_enlargeIn","context_dictSize","context_numBits","context_data","context_data_val","context_data_position","ii","length","resetValue","getNextValue","dictionary","enlargeIn","dictSize","numBits","entry","w","bits","resb","maxpower","power","data","logo","Logo","Header","jsxs","jsx","Link","doc","schema","exportable","hint","validDoc","SampleOptions","id","group","item","sampleData","simple","simpleCollection","simpleCollectionWithErrors","typedCollection","employeeRegister","recursiveSchema","recursiveSchemaComplex","any","strings","numbers","datetimes","arrays","objects","multipSections","json","jsonSchema","complex","variables","dummyData","collectionResponse","multipleCollectionResponse","appSeedData","structuredLog","mlLearningData","config","editorPosition","atom","Footer","editorPos","useRecoilValue","Bar","label","bgColor","children","bytes","title","outputBytes","minified","isError","perc","percText","showBar","useDebounce","callback","delay","timeoutRef","useRef","useCallback","args","editorOptions","setupMonaco","monaco","Editor","editorInstance","setEditorInstance","useState","decorationIds","setDecorationIds","options","useMemo","useEffect","decorations","newIds","sel","startLn","startCol","endLn","endCol","range","handleEditorDidMount","editor","position","handleOnChange","MonacoEditor","Overlay","onClose","heading","parseErrorPosition","message","re","match","last","line","col","sortErrorMessages","messages","pa","pb","findMarkerForPosition","markers","covering","sameLine","best","d1","d2","buildLineStarts","text","lineStarts","offsetToPosition","offset","low","high","mid","row","findObjectRanges","ranges","stack","inString","ch","backslashes","j","start","extractCategory","objectText","categoryMatch","findInnermostRange","chosen","getCategoryStyles","category","isValidation","generateJsonErrorDecorations","jsonText","objectRanges","errorRegex","errorOffset","objectRange","startPos","endPos","styles","Output","error","errorMessages","errorItems","onNavigateToError","isParsing","overlayDismissed","setOverlayDismissed","lastErrorContent","setLastErrorContent","currentErrorContent","sortedErrors","outputDecorations","errorItem","errorClass","onClick","displayMessage","errMsg","pos","hasPosition","IODocument","header","sections","errors","aggregatedErrors","section","sectionsLen","_a","_b","_c","headerObject","GeneralErrorCodes","TokenizationErrorCodes","ParsingErrorCodes","ValidationErrorCodes","ErrorCodes","__classPrivateFieldGet","receiver","state","kind","__classPrivateFieldSet","_IOError_positionRange","IOError","errorCode","fact","positionRange","isEof","ssf","errorMsg","pr","IOValidationError","InternetObjectError","posRange","TokenType","Token","token","subType","t","lines","lastLine","TokenNode","defs","valueFound","Schema","name","o","SchemaBuilder","memberObjects","def","open","IODefinitions","positionParam","ValidationError","v","dv","isSchema","isVariable","other","override","keysCount","IOHeader","assertNever","IOObject","items","array","io","newItems","newKeyMap","callbackfn","thisArg","selector","predicate","IOCollection","mappedItems","filteredItems","initialValue","skipErrors","getAbsoluteValue","coefficient","POW10_CACHE","getPow10","exponent","scaleUp","scaleFactor","roundHalfUp","currentScale","targetScale","scaleDiff","divisor","quotient","remainder","halfDivisor","ceilRound","floorRound","formatBigIntAsDecimal","scale","precision","sign","coeffStr","integerPart","fractionalPart","validatePrecisionScale","alignOperands","aCoefficient","aScale","bCoefficient","bScale","maxScale","roundingMode","aAdjustment","bAdjustment","adjustedA","adjustedB","DecimalError","calculateAdditionResultPrecisionScale","precision1","scale1","precision2","scale2","resultScale","integerDigits1","integerDigits2","calculateMultiplicationResultPrecisionScale","calculateDivisionResultPrecisionScale","minScale","calculatedScale","validateAndAdjustPrecisionScale","maxPrecision","effectiveMaxScale","adjustedPrecision","adjustedScale","calculateRdbmsArithmeticResult","operation","Decimal","decimalInit","regex","adjustedInteger","adjustedFractional","rounded","normalizedInteger","combinedNormalized","roundedCombined","coeff","fromScale","fromCoefficient","targetIntegerDigits","actualIntegerDigits","scaleDifference","newCoefficient","roundedCoefficient","_precision","intRaw","fracRaw","adjusted","formatted","str","trimmed","mantissa","exponentPart","integerPartRaw","fractionalPartRaw","absExp","absCoeffStr","numberStr","numberValue","targetPrecision","roundedCoeff","decimalStr","ceiledCoeff","flooredCoeff","aCoeff","bCoeff","remainderCoeff","digits","finalPrecision","resultStr","calcPrecision","calcScale","sumCoeff","diffCoeff","resultCoeff","intermediateScale","adjustedCoeff","resultDigits","exponentAdjustment","numerator","down","denominator","absDen","isNegative","IOSection","_schemaName","IOSectionCollection","proxy","nameOrIndex","property","IOSyntaxError","ContainerNode","child","ArrayNode","openBracket","closeBracket","MemberNode","ObjectNode","InternetObject","member","keyStr","valueStr","TypedefRegistry","enable","typeDefConstructors","typeDef","typeName","processMember","memberDef","valueNode","_resolveMemberDefVariables","resolved","choice","processObject","collectionIndex","schemaName","_processObject","positional","processedNames","firstMember","val","SyntaxError","memberNode","ErrorNode","endPosition","errorName","base","anyErr","SchemaResolver","processCollection","errorCollector","resolvedSchema","collection","Collection","errorNode","CollectionNode","ValidationUtils","hasCtorName","processSchema","validData","validSchema","doCommonTypeCheck","node","equalityComparator","isUndefined","isNull","_default","InternetObjectValidationError","_valueRequired","msg","found","_invlalidChoice","of","AnyDef","changed","anyOf","getMemberDef","checkedValue","defWithPath","path","boolDef","numberDef","bigintDef","stringDef","inferredType","datetimeDef","arrayDef","objectDef","parts","strValue","date","hours","minutes","seconds","ms","year","month","day","ArrayDef","_processNode","arrayMemberDef","itemPath","itemMemberDef","_validateLength","arrayLength","_BooleanDef_instances","_BooleanDef_validate","BooleanDef","datetimeExp","datetimePlainExp","parseDateTime","hour","minute","second","milisecond","tz","dateStr","parseDate","parseTime","dateToDatetimeString","noSep","zuluTime","dateToDateString","dateToTimeString","dateToSmartString","dateToIOString","_DateTimeDef_instances","_DateTimeDef_type","_DateTimeDef_normalizeToDate","_DateTimeDef_dateTimeEqualityComparator","_DateTimeDef_validate","DATETIME_TYPES","DateTimeDef","valDate","choiceDate","dt.dateToIOString","dateType","min","dt.dateToSmartString","max","NUMBER_TYPES","NUMBER_MAP","acc","throwError","code","memberPath","getIntegerDigits","decimal","bigintSchema","BigIntDef","valueType","multipleOf","decimalSchema","DecimalDef","requiredPrecision","requiredScale","valD","hasRequiredPrecision","hasRequiredScale","actualScale","actualPrecision","intDigits","maxIntDigits","minD","valIntDigits","minIntDigits","normalizedVal","normalizedMin","maxD","normalizedMax","multipleOfD","multipleIntDigits","normalizedMultiple","zero","numberSchema","NumberDef","typeBoundMin","typeBoundMax","effectiveMin","effectiveMax","ObjectDef","compileObject","basePath","loadedValue","extraMemberDef","schemaNames","extraPath","reStructuralChars","reRequiresQuoting","escapeChars","reNewLine","toOpenString","escapeLines","toRegularString","encloser","toRawString","looksLikeNumber","first","reDate","reTime","reDateTime","ambiguousValues","isAmbiguous","toAutoString","STRING_TYPES","emailExp","urlExp","StringDef","_process","_validatePattern","len","maxLen","minLen","strings.toAutoString","strings.toRegularString","strings.toRawString","pattern","flags","registered","registerTypes","createMemberDef","opts","allowNameless","out","canonicalizeAdditionalProps","firstChild","typeToken","normalizeKeyToken","keyNode","parseObjectDef","parseObjectOrTypeDef","firstNode","parseMemberDef","typeNode","parseArrayOrTypeDef","additionalDef","addMemberDef","keyToken","fieldInfo","parseName","dereferenceObjectNodeVariables","_","optionalExp","nullExp","optNullExp","tokenSpanRange","startToken","endToken","unclosedConstructRange","currentPos","createPosition","Symbols","isSpecialSymbol","char","isDigit","WHITESPACE_LOOKUP","isWhitespace","hspacesOnly","isValidOpenStringChar","isTerminator","tokenType","Literals","REGEX_CACHE","CHAR_CODES","isDigitFast","charCode","WHITESPACE_LOOKUP_FAST","isWhitespaceFast","regexHex4","regexHex2","reFloatDigit","reIntDigit","reHex","reOctal","reBinary","NON_DECIMAL_PREFIXES","reSectionSchemaName","nonDecimalPrefixes","reAnotatedStrStart","Tokenizer","startRow","tokenText","is.isWhitespace","is.isSpecialSymbol","step","needToNormalize","escapeChar","openingToken","hex","hexByte","getPos","annotation","fullTokenText","fn","dtParser.parseDateTime","dtParser.parseDate","dtParser.parseTime","dt","rawValue","hasDecimal","hasExponent","prefix","infLiteral","is.isDigit","normalizeString","is.isValidOpenStringChar","spaces","estimatedTokens","tokens","tokenIndex","nextToken","sep","schema2","DocumentNode","SectionCollection","Document","SectionNode","nameNode","schemaNode","Section","ASTParser","members","errorEndToken","checkIndex","originalName","suffix","firstToken","errorValue","lastToken","isCollectionContext","isOpenObject","done","expectingValueAfterComma","prevToken","leftToken","arr","currentToken","curerntCommaToken","steps","types","ParserOptions","parse","externalDefs","Definitions","docNode","parseDefs","parseDataWithSchema","sectionNode","_d","cols","schemaDefs","objectNode","schemaDef","parseDefinitions","loadObject","_loadObject","loadCollection","dataArray","errorObj","isDynamicKeyObject","values","allValueKeys","keySet","inferDefs","ctx","preScanDynamicPaths","collectSchemaInstances","resolveSchemaNameConflicts","mergeAllSchemaInstances","rootSchema","buildFinalSchema","currentPath","childPath","pathKey","childValue","baseName","addSchemaInstance","collectNestedInstances","parentPath","itemBaseName","singularize","dynamicKey","dynamicValue","nestedBaseName","fullPath","instanceInfo","instances","info","groupInstancesByPath","allKeySets","groups","pathSig","resolvedGroups","resolvedName","representativePath","mergedSchema","buildMergedSchema","memberDefs","memberOrder","seenInIteration","keysInThisObject","existingDef","mergeIntoMemberDef","inferMemberDefSimple","builder","newDef","inferArrayMemberDefSimple","fullPathKey","inferMemberDef","inferArrayMemberDef","word","irregulars","lower","singular","loadInferred","definitions","loadedData","STANDARD_MEMBERDEF_PROPS","WILDCARD_KEY","IO_MARKERS","STRING_ENCLOSERS","RESERVED_SECTION_NAMES","quoteString","format","pseudoMember","fallbackQuoteString","escaped","quoteExtraPropertyString","stringifyAnyValue","dateDef","stringifyObject","indent","includeTypes","handled","effectiveMemberDef","md","indentStr","stringifyMemberDef","formatNestedSchema","stringifyArrayMemberDef","constraintProps","detectConstraintProperties","formatTypeWithConstraints","nestedFields","nestedName","nestedMember","nestedField","typeAnnotation","prop","formattedValue","formatConstraintValue","ofType","elementMemberDef","stringifyDocument","includeHeader","includeSectionNames","defFormat","schemaText","stringifySchema","headerText","stringifyHeader","sectionCount","sectionsFilter","isDefaultSchema","hasNamedSchema","hasRealName","needsSeparator","schemaRef","sectionText","stringifySection","fieldDef","openDef","wildcard","defParts","defValue","schemaValue","stringifyHeaderValue","inferIOType","ioType","MonacoSeverity","categoryToSeverity","generateErrorId","parseIO","document","parseDoc","defsResult","tryParse","isDefs","accumulatedErrors","output","errorToErrorItem","getErrorMessage","getErrorMarkers","getErrorCategory","errorToRange","severity","nextRequestId","useParserWorker","timeout","debug","workerRef","pendingRequestRef","setIsParsing","isReady","setIsReady","workerError","setWorkerError","worker","handleMessage","handleError","response","resolve","reject","timeoutId","cancel","documentText","minifiedOutput","request","useParseIO","showSchema","useWorker","setMarkers","defMarkers","setDefMarkers","setJsonText","setError","setErrorMessages","setErrorItems","parseError","setParseError","canUseWorker","hasErrors","DEFAULT_SCHEMA_PANEL_HEIGHT","MIN_PANEL_SIZE","DEFAULT_VERTICAL_SIZE","Playground","setShowSchema","setDocument","setSchema","schemaPanelHeight","setMinifiedOutput","setSkipErrors","setEditorPos","useRecoilState","sizesH","setHSizes","sizesHRef","sizesV","setVSizes","docSelection","setDocSelection","timer","handleHBarDragEnd","currentSizesH","handleCaretPositionChange","handleNavigateToError","SplitPane","size","Pane","STORAGE_KEY","WelcomeNotification","isVisible","setIsVisible","setPosition","dropdown","rect","handleClose","ShareDialog","isOpen","url","copied","setCopied","shortUrl","setShortUrl","isShortening","setIsShortening","inputRef","abortControllerRef","displayUrl","handleCopy","handleShorten","controller","signal","fallbackError","WarningDialog","SAMPLE_JSON","DEBUG_TEST_IO_ERROR","ImportJSONDialog","onImport","editorRef","parseJsonError","errorMessage","positionMatch","lineColMatch","column","handleErrorClick","handleImport","jsonData","schemaPart","dataPart","cleanDataPart","handleReportIssue","jsonInput","isLargeJson","blob","issueTitle","jsonSection","issueBody","githubUrl","handleKeyDown","App","sampleId","useParams","searchParams","setSearchParams","useSearchParams","navigate","useNavigate","isShareDialogOpen","setIsShareDialogOpen","isImportJSONDialogOpen","setIsImportJSONDialogOpen","shareUrl","setShareUrl","warningDialog","setWarningDialog","prevSampleIdRef","sample","setSample","sharedDoc","sessionSampleId","sessionDoc","sharedSchema","sessionSchema","sharedSep","sessionShowSchema","sharedMin","sharedSkip","hasVisited","setHasVisited","s","handleSampleChange","newSampleId","handleWelcomeClose","isDirty","initialDoc","initialSchema","initialShowSchema","handleReset","handleShare","compressedDoc","compressedSchema","newParams","handleImportJSON","importedSchema","importedDocument","root","ReactDOM","React","Router","RecoilRoot","Routes","Route"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11]}